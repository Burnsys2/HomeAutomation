[{"id":"bb63d718.931208","type":"tab","label":"Interruptores y Luces","disabled":false,"info":""},{"id":"887b2e31.18293","type":"tab","label":"Relays","disabled":false,"info":""},{"id":"2bcc0ccb.cd26a4","type":"tab","label":"Sensores Clima","disabled":false,"info":""},{"id":"930c94d9.38ece8","type":"tab","label":"Sensores Elect","disabled":false,"info":""},{"id":"57b26073.47916","type":"tab","label":"Node red Status","disabled":false,"info":""},{"id":"c5b2ea55.84d058","type":"tab","label":"Escenas","disabled":false,"info":""},{"id":"235e5af0.561006","type":"tab","label":"RF / Alarma","disabled":false,"info":""},{"id":"2228dc2c.99e004","type":"tab","label":"Presencia Celus","disabled":false,"info":""},{"id":"d0c77eb4.886e7","type":"tab","label":"Compu","disabled":false,"info":""},{"id":"295f893a.42f726","type":"tab","label":"AAC","disabled":false,"info":""},{"id":"3e473a01.8f8df6","type":"tab","label":"PS4","disabled":false,"info":""},{"id":"230ac56e.bc629a","type":"tab","label":"Muteki","disabled":false,"info":""},{"id":"9bee6473.dc8598","type":"tab","label":"TV","disabled":false,"info":""},{"id":"d4cc4a57.a7caa8","type":"tab","label":"Proyector","disabled":false,"info":""},{"id":"75f22ec1.216f","type":"tab","label":"Leds","disabled":false,"info":""},{"id":"7ad2ef9d.dd79e","type":"tab","label":"IR IN","disabled":false,"info":""},{"id":"254f6ab6.9adb86","type":"tab","label":"Audio","disabled":false,"info":""},{"id":"11a22008.94eaf","type":"tab","label":"HT Pieza","disabled":false,"info":""},{"id":"a6dc66a1.81b618","type":"subflow","name":"Teclas Comedor","info":"","category":"Teclas","in":[],"out":[{"x":840,"y":180,"wires":[{"id":"4bd83602.e50528","port":0}]},{"x":840,"y":260,"wires":[{"id":"b3844f54.971c1","port":0}]},{"x":840,"y":340,"wires":[{"id":"77ace720.6a17a8","port":0}]}],"env":[]},{"id":"bdb2280d.bcc368","type":"subflow","name":"Teclas Living Izq","info":"","category":"Teclas","in":[],"out":[{"x":840,"y":180,"wires":[{"id":"a24d1547.0131d8","port":0}]},{"x":840,"y":260,"wires":[{"id":"7008c2e8.16bd0c","port":0}]},{"x":840,"y":340,"wires":[{"id":"8655dca8.9a6e8","port":0}]}],"env":[]},{"id":"611d2ba5.389f94","type":"subflow","name":"Teclas Living Der","info":"","category":"Teclas","in":[],"out":[{"x":800,"y":80,"wires":[{"id":"ddc0a444.cd55f8","port":0}]},{"x":800,"y":140,"wires":[{"id":"2139b3c5.de180c","port":0}]},{"x":1100,"y":320,"wires":[{"id":"c0feff95.cf193","port":0}]},{"x":1140,"y":660,"wires":[{"id":"3d88b3aa.d7cd6c","port":0}]},{"x":920,"y":320,"wires":[{"id":"7f58764.5ff8288","port":0}]},{"x":700,"y":220,"wires":[{"id":"d8177543.1e7668","port":0}]}],"env":[]},{"id":"4329d030.ac594","type":"subflow","name":"Teclas Escritorio","info":"","category":"Teclas","in":[],"out":[{"x":1100,"y":160,"wires":[{"id":"9549a648.31a008","port":0}]},{"x":1100,"y":240,"wires":[{"id":"4f2f07ae.451ce8","port":0}]}],"env":[]},{"id":"d1c44675.ff7c58","type":"subflow","name":"Teclas Escalera","info":"","category":"Teclas","in":[],"out":[{"x":1040,"y":160,"wires":[{"id":"ee3445cd.4bc588","port":0}]},{"x":1040,"y":240,"wires":[{"id":"b9b56de3.61b1a","port":0}]},{"x":1040,"y":320,"wires":[{"id":"c1cb512c.d2da8","port":0}]},{"x":1040,"y":400,"wires":[{"id":"648562a3.49f70c","port":0}]}],"env":[]},{"id":"5f9dfcc6.ecd504","type":"subflow","name":"Teclas Living IR","info":"","category":"Teclas","in":[],"out":[{"x":1160,"y":220,"wires":[{"id":"944b10bd.cc3db","port":0}]},{"x":1160,"y":300,"wires":[{"id":"44ff1040.92ccc","port":0}]}],"env":[]},{"id":"95877930.dde488","type":"subflow","name":"Teclas Living Der 2","info":"","category":"","in":[],"out":[{"x":1520,"y":640,"wires":[{"id":"3fab11c4.3b9dae","port":0},{"id":"3f63fc9d.7b9534","port":0}]}],"env":[]},{"id":"73bc3aee.13bf44","type":"ui_group","z":"","name":"Relays","tab":"71106a75.760e94","disp":true,"width":"6","collapse":false},{"id":"71106a75.760e94","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false},{"id":"e139a1a.7183f6","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#097479","value":"#097479","edited":false},"page-titlebar-backgroundColor":{"value":"#097479","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#000000","edited":false},"group-textColor":{"value":"#0eb8c0","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#097479","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Casa","hideToolbar":"false","allowSwipe":"true","lockMenu":"false","allowTempTheme":"none","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":7,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"bc90829.106738","type":"ui_spacer","name":"spacer","group":"","order":4,"width":1,"height":1},{"id":"79688aa3.509134","type":"ui_spacer","name":"spacer","group":"","order":3,"width":"7","height":1},{"id":"d96ba3a3.29883","type":"ui_spacer","name":"spacer","group":"","order":5,"width":"7","height":1},{"id":"1ad27743.ce9fb9","type":"mqtt-broker","z":"","name":"OpenWrt","broker":"192.168.2.1","port":"1883","clientid":"NodeRed","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"MX5/NodeRed/status","birthQos":"0","birthPayload":"connecting","closeTopic":"MX5/NodeRed/status","closeQos":"0","closePayload":"disconnecting","willTopic":"MX5/NodeRed/status","willQos":"0","willPayload":"disconnecting"},{"id":"fc604a2d.fe42a8","type":"ui_tab","z":"","name":"Sensores","icon":"fa-thermometer-half","order":2,"disabled":false,"hidden":false},{"id":"5635ed61.b910e4","type":"ui_group","z":"","name":"Escritorio","tab":"70f5bc92.40b124","order":1,"disp":true,"width":"6","collapse":false},{"id":"7a092dd.29b3ed4","type":"ui_group","z":"","name":"AAC","tab":"9c83baa6.e50518","order":2,"disp":true,"width":"6","collapse":false},{"id":"70f5bc92.40b124","type":"ui_tab","z":"","name":"Luces","icon":"wb_incandescent","order":1,"disabled":false,"hidden":false},{"id":"bf36a591.082a28","type":"ui_group","z":"","name":"Temperatura","tab":"fc604a2d.fe42a8","order":1,"disp":false,"width":"6","collapse":false},{"id":"9c83baa6.e50518","type":"ui_tab","z":"","name":"Control remoto","icon":"settings_remote","order":5,"disabled":false,"hidden":false},{"id":"913b3f65.8b281","type":"ui_group","z":"","name":"Off","tab":"f7cb5ff4.efee3","order":1,"disp":true,"width":"6","collapse":false},{"id":"f7cb5ff4.efee3","type":"ui_tab","z":"","name":"Off","icon":"dashboard","order":4,"disabled":false,"hidden":true},{"id":"4776a043.c6708","type":"ui_group","z":"","name":"Compu","tab":"9c83baa6.e50518","order":4,"disp":true,"width":"6","collapse":false},{"id":"f8522291.e6b8b","type":"ui_tab","z":"","name":"Escenas","icon":"weekend","order":6,"disabled":false,"hidden":false},{"id":"837d3079.305cd","type":"ui_group","z":"","name":"Acciones","tab":"f8522291.e6b8b","order":1,"disp":true,"width":"6","collapse":false},{"id":"20a076b7.fe135a","type":"ui_group","z":"","name":"TV","tab":"9c83baa6.e50518","order":1,"disp":true,"width":"6","collapse":true},{"id":"a676754.6a79888","type":"ui_group","z":"","name":"Proyector","tab":"9c83baa6.e50518","order":6,"disp":true,"width":"6","collapse":false},{"id":"7ad1e0a0.b2f66","type":"ui_group","z":"","name":"Muteki","tab":"9c83baa6.e50518","order":7,"disp":true,"width":"6","collapse":false},{"id":"a0a12305.1eb01","type":"ui_group","z":"","name":"Humedad","tab":"fc604a2d.fe42a8","order":2,"disp":false,"width":"6","collapse":false},{"id":"bee8228d.0d274","type":"ui_group","z":"","name":"RPI ","tab":"9febe8d8.a75bd8","order":1,"disp":true,"width":"6","collapse":false},{"id":"8baa852c.3b6cc8","type":"ui_group","z":"","name":"Comedor","tab":"70f5bc92.40b124","order":3,"disp":true,"width":"6","collapse":false},{"id":"6d3da8b1.90ed78","type":"ui_group","z":"","name":"Living","tab":"70f5bc92.40b124","order":4,"disp":true,"width":"6","collapse":false},{"id":"6d364717.d4fd68","type":"ui_group","z":"","name":"PS4","tab":"9c83baa6.e50518","order":5,"disp":true,"width":"6","collapse":false},{"id":"a95b4552.f7fa88","type":"ui_group","z":"","name":"Frente","tab":"70f5bc92.40b124","order":5,"disp":true,"width":"6","collapse":false},{"id":"622bb9e6.9808f8","type":"ui_group","z":"","name":"Luz","tab":"fc604a2d.fe42a8","order":3,"disp":false,"width":"6","collapse":false},{"id":"a9d3b0bb.e316c","type":"ui_group","z":"","name":"Volts","tab":"fc604a2d.fe42a8","order":5,"disp":false,"width":"6","collapse":false},{"id":"33cc97f1.362a58","type":"ui_tab","z":"","name":"Leds","icon":"flare","order":7,"disabled":false,"hidden":false},{"id":"f687a4d9.3b1578","type":"ui_group","name":"Group 1","tab":"33cc97f1.362a58","order":1,"disp":true,"width":6},{"id":"46ccdc7e.a82334","type":"ui_group","z":"","name":"Amps","tab":"fc604a2d.fe42a8","order":6,"disp":false,"width":"6","collapse":false},{"id":"8580fa9c.5b7bb8","type":"ui_group","z":"","name":"Watts","tab":"fc604a2d.fe42a8","order":7,"disp":false,"width":"6","collapse":false},{"id":"d94a4634.32b858","type":"ui_group","z":"","name":"Lluvia","tab":"fc604a2d.fe42a8","order":4,"disp":false,"width":"6","collapse":false},{"id":"3b8c578d.7ea768","type":"ui_tab","z":"","name":"Alarma","icon":"videocam","disabled":false,"hidden":false},{"id":"b32fa3e9.f2b7f","type":"ui_group","z":"","name":"Alarma","tab":"3b8c578d.7ea768","disp":true,"width":"6","collapse":false},{"id":"9febe8d8.a75bd8","type":"ui_tab","z":"","name":"Infra","icon":"usb","order":9,"disabled":false,"hidden":false},{"id":"b89f1435.0c4bf8","type":"ui_group","z":"","name":"Arduino","tab":"9febe8d8.a75bd8","order":2,"disp":true,"width":"6","collapse":false},{"id":"8b4e6efd.7f29a","type":"ui_spacer","name":"spacer","group":"b1a52249.fc203","order":1,"width":1,"height":1},{"id":"bc362a5c.0bea88","type":"ui_group","z":"","name":"Camaras","tab":"9febe8d8.a75bd8","order":4,"disp":true,"width":"6","collapse":false},{"id":"456e3133.11777","type":"ui_tab","z":"","name":"Sensores Crudos","icon":"dashboard","order":10,"disabled":false,"hidden":false},{"id":"cd9fc1f7.18d92","type":"ui_group","z":"","name":"Clima","tab":"456e3133.11777","order":1,"disp":true,"width":"6","collapse":false},{"id":"e8c5d0b7.ae42a","type":"ui_group","z":"","name":"Electricidad","tab":"456e3133.11777","order":2,"disp":true,"width":"6","collapse":false},{"id":"e5a1cfdf.94ab5","type":"influxdb","z":"","hostname":"192.168.2.5","port":"8086","protocol":"http","database":"TEST","name":"InfluxDb","usetls":false,"tls":""},{"id":"f177c7aa.290658","type":"ui_group","z":"","name":"Red","tab":"9febe8d8.a75bd8","order":3,"disp":true,"width":"6","collapse":false},{"id":"2c0daec4.48feb2","type":"ui_group","z":"","name":"Gases","tab":"fc604a2d.fe42a8","order":8,"disp":false,"width":"6","collapse":false},{"id":"480e5ad6.2bf104","type":"openhab-v2-controller","z":0,"name":"openhab","protocol":"http","host":"localhost","port":"8080","path":"","username":"admin","password":"Jst4kix741","allowRawEvents":true},{"id":"6c822d18.0fa384","type":"ui_tab","z":"","name":"Patio","icon":"dashboard","order":11,"disabled":false,"hidden":false},{"id":"35f37aae.e9b246","type":"ui_group","z":"","name":"Audio","tab":"6c822d18.0fa384","order":2,"disp":true,"width":"6","collapse":false},{"id":"7354ee51.5c171","type":"ui_group","z":"","name":"Luces","tab":"6c822d18.0fa384","order":1,"disp":true,"width":"6","collapse":false},{"id":"dc87ba92.248b68","type":"ui_spacer","name":"spacer","group":"582f7a51.db5c44","order":2,"width":1,"height":1},{"id":"9baecddc.3dece","type":"ui_group","z":"","name":"AAC Pieza","tab":"9c83baa6.e50518","order":7,"disp":true,"width":"6","collapse":false},{"id":"b881457e.8f3768","type":"ui_group","z":"","name":"HT Pieza","tab":"9c83baa6.e50518","order":8,"disp":true,"width":"6","collapse":false},{"id":"9f3c103b.20242","type":"mqtt in","z":"2bcc0ccb.cd26a4","name":"Luz (A11 Blanco)","topic":"Arduino/PBLiving/out/Sensores/Analog/11","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":160,"y":420,"wires":[["65dfdee.897542","168fd1b0.3e5f9e","c0c5968f.951788"]]},{"id":"8dcdadb5.5986a","type":"switch","z":"2bcc0ccb.cd26a4","name":"","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"500","vt":"num"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":630,"y":360,"wires":[["f5a40cf8.4b733"],["4695cd6f.ab1914"]],"outputLabels":["Noche","Dia"]},{"id":"4496e2e.6d6c81c","type":"mqtt out","z":"2bcc0ccb.cd26a4","name":"Luz Frente (24)","topic":"Arduino/PBLiving/in/Relay/24","qos":"","retain":"true","broker":"1ad27743.ce9fb9","x":1060,"y":320,"wires":[]},{"id":"f5a40cf8.4b733","type":"function","z":"2bcc0ccb.cd26a4","name":"Prender","func":"msg.payload = 1;\nreturn msg;","outputs":1,"noerr":0,"x":820,"y":320,"wires":[["1fefe0db.43387f","4496e2e.6d6c81c"]]},{"id":"4695cd6f.ab1914","type":"function","z":"2bcc0ccb.cd26a4","name":"Apagar","func":"msg.payload = 0;\nreturn msg;","outputs":1,"noerr":0,"x":820,"y":400,"wires":[["4496e2e.6d6c81c","1fefe0db.43387f"]]},{"id":"f85b7a96.dd6998","type":"ui_gauge","z":"2bcc0ccb.cd26a4","name":"","group":"622bb9e6.9808f8","order":1,"width":0,"height":0,"gtype":"gage","title":"Luz","label":"units","format":"{{value}}","min":0,"max":"1024","colors":["#000000","#939300","#faff15"],"seg1":"300","seg2":"580","x":790,"y":540,"wires":[]},{"id":"9348da5b.791d18","type":"mqtt in","z":"2bcc0ccb.cd26a4","name":"PBLiving Humedad (DHT 25)","topic":"Arduino/PBLiving/out/Sensores/Humedad","qos":"2","broker":"1ad27743.ce9fb9","x":200,"y":620,"wires":[["916270e7.2af48"]]},{"id":"5f444669.5061c8","type":"mqtt in","z":"2bcc0ccb.cd26a4","name":"PBLiving Temperatura (DHT 25)","topic":"Arduino/PBLiving/out/Sensores/Temperatura","qos":"2","broker":"1ad27743.ce9fb9","x":190,"y":720,"wires":[["e461d76a.7c5508"]]},{"id":"36b9b9f.cb57d46","type":"ui_gauge","z":"2bcc0ccb.cd26a4","name":"","group":"a0a12305.1eb01","order":1,"width":0,"height":0,"gtype":"gage","title":"Hum. Exterior","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":880,"y":600,"wires":[]},{"id":"677b8a77.417794","type":"ui_gauge","z":"2bcc0ccb.cd26a4","name":"","group":"bf36a591.082a28","order":1,"width":0,"height":0,"gtype":"gage","title":"Temp. Exterior","label":"C°","format":"{{value}}","min":0,"max":"50","colors":["#0400b5","#00d900","#ca3838"],"seg1":"20","seg2":"28","x":880,"y":700,"wires":[]},{"id":"1f1e34f6.fd0fdb","type":"ui_chart","z":"2bcc0ccb.cd26a4","name":"","group":"622bb9e6.9808f8","order":2,"width":0,"height":0,"label":"Luz","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#d2cd00","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":790,"y":480,"wires":[[]]},{"id":"97b3c7e0.14d708","type":"inject","z":"57b26073.47916","name":"Cada 3s","topic":"RPI/NodeRed/out/lastseen/epoch","payload":"","payloadType":"date","repeat":"3","crontab":"","once":false,"onceDelay":0.1,"x":280,"y":80,"wires":[["3a3e4b65.edba24","30af2ac7.545406","5b835972.c24ec8"]]},{"id":"3a3e4b65.edba24","type":"mqtt out","z":"57b26073.47916","name":"LastSeen","topic":"","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":460,"y":80,"wires":[]},{"id":"d54f36f1.b089c8","type":"mqtt out","z":"57b26073.47916","name":"","topic":"RPI/out/cpu","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":690,"y":140,"wires":[]},{"id":"fc293a26.b43738","type":"ui_chart","z":"57b26073.47916","name":"","group":"bee8228d.0d274","order":4,"width":0,"height":0,"label":"CPU","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"6","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":850,"y":200,"wires":[[]]},{"id":"9ebbf570.1d1e68","type":"mqtt out","z":"bb63d718.931208","name":"Tomas TV (28)","topic":"Arduino/PBLiving/in/Relay/28","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":480,"y":840,"wires":[],"inputLabels":["kkl"]},{"id":"59689478.9b6c0c","type":"mqtt out","z":"bb63d718.931208","name":"Toma SubWoofer (26)","topic":"Arduino/PBLiving/in/Relay/26","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1760,"y":340,"wires":[],"inputLabels":["kkl"]},{"id":"b3be2ee9.2699e","type":"mqtt out","z":"bb63d718.931208","name":"Luz Balcon Frente (22)","topic":"Arduino/PBLiving/in/Relay/22","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":700,"y":520,"wires":[],"inputLabels":["kkl"]},{"id":"d3653a73.948618","type":"mqtt out","z":"bb63d718.931208","name":"Luz Frente (24)","topic":"Arduino/PBLiving/in/Relay/24","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":680,"y":460,"wires":[],"inputLabels":["kkl"]},{"id":"2a022a96.881a76","type":"ui_button","z":"295f893a.42f726","name":"","group":"7a092dd.29b3ed4","order":2,"width":"3","height":"1","passthru":false,"label":"Direct","tooltip":"","color":"","bgcolor":"","icon":"fa-rss","payload":"90,86,11,31,11,10,11,31,11,31,12,10,11,10,11,32,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,10,11,32,11,10,11,10,11,10,11,10,11,32,11,32,11,32,11,32,11,31,11,31,11,32,11,32,11,10,11,10,11,10,11,10,11,31,11,32,11,31,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,32,11,32,11,32,11,32,11,32,11","payloadType":"str","topic":"","x":670,"y":380,"wires":[["66ea1ea6.f51c9"]]},{"id":"7de54509.866d5c","type":"ui_chart","z":"2bcc0ccb.cd26a4","name":"","group":"a0a12305.1eb01","order":2,"width":0,"height":0,"label":"Hum. Exterior","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#0264d0","#f7d89f","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":880,"y":640,"wires":[[]]},{"id":"b23497cb.f572d8","type":"ui_chart","z":"2bcc0ccb.cd26a4","name":"","group":"bf36a591.082a28","order":2,"width":0,"height":0,"label":"Temp. Exterior","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"40","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":880,"y":740,"wires":[[]]},{"id":"980d5cb0.21c5f","type":"mqtt in","z":"a6dc66a1.81b618","name":"Teclas Comedor 1 (39) (UTP Gris Marron)","topic":"Arduino/PBLiving/out/Button/39/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":320,"y":180,"wires":[["4bd83602.e50528"]]},{"id":"18b95865.e85318","type":"mqtt in","z":"a6dc66a1.81b618","name":"Teclas Comedor 2 (45)  (UTP Gris Azul)","topic":"Arduino/PBLiving/out/Button/45/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":330,"y":260,"wires":[["b3844f54.971c1"]]},{"id":"527925a6.48493c","type":"mqtt in","z":"a6dc66a1.81b618","name":"Teclas Comedor 3 (37)  (UTP Gris Verde)","topic":"Arduino/PBLiving/out/Button/37/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":320,"y":340,"wires":[["77ace720.6a17a8"]]},{"id":"4bd83602.e50528","type":"function","z":"a6dc66a1.81b618","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":180,"wires":[[]]},{"id":"b3844f54.971c1","type":"function","z":"a6dc66a1.81b618","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":260,"wires":[[]]},{"id":"77ace720.6a17a8","type":"function","z":"a6dc66a1.81b618","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":340,"wires":[[]]},{"id":"ed1b7452.7a60a8","type":"subflow:a6dc66a1.81b618","z":"bb63d718.931208","name":"","env":[],"x":1280,"y":920,"wires":[["1fd7774e.b0dce9"],["3c9fe8bd.319fb8"],["6e3faea4.c4467"]]},{"id":"417567b8.43fdc8","type":"mqtt in","z":"bdb2280d.bcc368","name":"Teclas Living Izq 1 (33) (UTP Negro Marron Claro)","topic":"Arduino/PBLiving/out/Button/33/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":350,"y":180,"wires":[["a24d1547.0131d8"]]},{"id":"a09a1e1a.481d9","type":"mqtt in","z":"bdb2280d.bcc368","name":"Teclas Living Izq 2 (41) (UTP Negro Azul)","topic":"Arduino/PBLiving/out/Button/41/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":400,"y":260,"wires":[["7008c2e8.16bd0c"]]},{"id":"a186b481.31f528","type":"mqtt in","z":"bdb2280d.bcc368","name":"Teclas Living Izq 3 (29) (UTP Azul Claro)","topic":"Arduino/PBLiving/out/Button/29/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":360,"y":340,"wires":[["8655dca8.9a6e8"]]},{"id":"a24d1547.0131d8","type":"function","z":"bdb2280d.bcc368","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":180,"wires":[[]]},{"id":"7008c2e8.16bd0c","type":"function","z":"bdb2280d.bcc368","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":260,"wires":[[]]},{"id":"8655dca8.9a6e8","type":"function","z":"bdb2280d.bcc368","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":670,"y":340,"wires":[[]]},{"id":"e1138e2e.bcc34","type":"mqtt in","z":"611d2ba5.389f94","name":"Teclas Living Der 1 (49) (UTP Negro Naranja)","topic":"Arduino/PBLiving/out/Button/49/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":270,"y":80,"wires":[["49bb0231.5423cc"]]},{"id":"1e86def4.62f8f1","type":"mqtt in","z":"611d2ba5.389f94","name":"Teclas Living Der 1 (47) (UTP Negro Naranja Claro)","topic":"Arduino/PBLiving/out/Button/47/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":270,"y":140,"wires":[["251dac6d.613c74","d8177543.1e7668"]]},{"id":"ddc0a444.cd55f8","type":"function","z":"611d2ba5.389f94","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":80,"wires":[[]]},{"id":"2139b3c5.de180c","type":"function","z":"611d2ba5.389f94","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":140,"wires":[[]]},{"id":"76af4115.35a28","type":"subflow:bdb2280d.bcc368","z":"bb63d718.931208","name":"","x":880,"y":760,"wires":[["889bd440.0cc928"],["104f8203.015b3e"],["48b04e6.93c95b"]]},{"id":"c2806dd.8fe4e9","type":"comment","z":"a6dc66a1.81b618","name":"UTP Gris Verde (Interferencia con LEDS)","info":"","x":320,"y":420,"wires":[]},{"id":"21d4f582.ba380a","type":"function","z":"2bcc0ccb.cd26a4","name":"Invertir","func":"msg.payload = Math.round(1024 - msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":480,"wires":[["1f1e34f6.fd0fdb"]]},{"id":"64b05186.0423d","type":"function","z":"2bcc0ccb.cd26a4","name":"Redondeo","func":"msg.payload = Math.round(msg.payload * 100) /100\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":620,"wires":[["36b9b9f.cb57d46","7de54509.866d5c"]]},{"id":"bb444bfc.865658","type":"function","z":"2bcc0ccb.cd26a4","name":"Redondeo","func":"msg.payload = Math.round(msg.payload * 10) /10\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":720,"wires":[["677b8a77.417794","b23497cb.f572d8"]]},{"id":"d3a2218e.a0ffc","type":"mqtt out","z":"bb63d718.931208","name":"22","topic":"Arduino/PBTablero/in/Relay/22","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1250,"y":320,"wires":[],"inputLabels":["kkl"]},{"id":"b10ae79b.388708","type":"ui_button","z":"bb63d718.931208","name":"","group":"913b3f65.8b281","order":1,"width":"3","height":"2","passthru":false,"label":"22","tooltip":"","color":"","bgcolor":"","icon":"","payload":"TOGGLE","payloadType":"str","topic":"","x":1050,"y":320,"wires":[["d3a2218e.a0ffc"]]},{"id":"3c9fe8bd.319fb8","type":"mqtt out","z":"bb63d718.931208","name":"Luz Comedor 2","topic":"Arduino/PBTablero/in/Relay/24","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1580,"y":880,"wires":[],"inputLabels":["kkl"]},{"id":"6e3faea4.c4467","type":"mqtt out","z":"bb63d718.931208","name":"Luz Distribuidor (28)","topic":"Arduino/PBTablero/in/Relay/28","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1500,"y":1120,"wires":[],"inputLabels":["kkl"]},{"id":"d700df73.35ba4","type":"mqtt out","z":"bb63d718.931208","name":"Luz Escritorio (30)","topic":"Arduino/PBTablero/in/Relay/30","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":550,"y":1040,"wires":[],"inputLabels":["kkl"]},{"id":"1fd7774e.b0dce9","type":"mqtt out","z":"bb63d718.931208","name":"Luz Comedor (26)","topic":"Arduino/PBTablero/in/Relay/26","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1590,"y":920,"wires":[],"inputLabels":["kkl"]},{"id":"1e1a71ae.7d617e","type":"mqtt out","z":"bb63d718.931208","name":"Reflector Patio (32)","topic":"Arduino/PBTablero/in/Relay/32","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":550,"y":1080,"wires":[],"inputLabels":["kkl"]},{"id":"d58fafa8.afc3a","type":"mqtt out","z":"bb63d718.931208","name":"Luz Vestidor (34)","topic":"Arduino/PBTablero/in/Relay/34","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1090,"y":640,"wires":[],"inputLabels":["kkl"]},{"id":"b305e4f1.6db828","type":"mqtt out","z":"bb63d718.931208","name":"Luz Patio (36)","topic":"Arduino/PBTablero/in/Relay/36","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1160,"y":1360,"wires":[],"inputLabels":["kkl"]},{"id":"6b807e1a.a88bd","type":"mqtt out","z":"bb63d718.931208","name":"38","topic":"Arduino/PBTablero/in/Relay/38","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1250,"y":420,"wires":[],"inputLabels":["kkl"]},{"id":"95abcc9a.c6c88","type":"ui_button","z":"bb63d718.931208","name":"","group":"913b3f65.8b281","order":2,"width":"3","height":"2","passthru":false,"label":"38","tooltip":"","color":"","bgcolor":"","icon":"","payload":"TOGGLE","payloadType":"str","topic":"","x":1050,"y":420,"wires":[["6b807e1a.a88bd"]]},{"id":"f6f9e411.ad5958","type":"mqtt out","z":"bb63d718.931208","name":"Tomas Escritorio (40)","topic":"Arduino/PBTablero/in/Relay/40","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1580,"y":1460,"wires":[],"inputLabels":["kkl"]},{"id":"80bef1c8.5912c","type":"mqtt out","z":"bb63d718.931208","name":"Luz Escalera (42)","topic":"Arduino/PBTablero/in/Relay/42","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1210,"y":1240,"wires":[],"inputLabels":["kkl"]},{"id":"48b04e6.93c95b","type":"mqtt out","z":"bb63d718.931208","name":"Luz Living Delante (46)","topic":"Arduino/PBTablero/in/Relay/46","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1330,"y":800,"wires":[],"inputLabels":["kkl"]},{"id":"104f8203.015b3e","type":"mqtt out","z":"bb63d718.931208","name":"Luz Living Sillon (48)","topic":"Arduino/PBTablero/in/Relay/48","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1320,"y":760,"wires":[],"inputLabels":["kkl"]},{"id":"e8542bdb.c78c48","type":"mqtt out","z":"bb63d718.931208","name":"50","topic":"Arduino/PBTablero/in/Relay/50","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1250,"y":520,"wires":[],"inputLabels":["kkl"]},{"id":"d43f8e58.7477d","type":"ui_button","z":"bb63d718.931208","name":"","group":"913b3f65.8b281","order":3,"width":"3","height":"2","passthru":false,"label":"50","tooltip":"","color":"","bgcolor":"","icon":"","payload":"TOGGLE","payloadType":"str","topic":"","x":1050,"y":520,"wires":[["e8542bdb.c78c48"]]},{"id":"ba06410d.21eed","type":"mqtt in","z":"4329d030.ac594","name":"Teclas Escritorio 1 (43) (Marron Claro)","topic":"Arduino/PBTablero/out/Button/43/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":630,"y":160,"wires":[["9549a648.31a008"]]},{"id":"cacc8c6.1db477","type":"mqtt in","z":"4329d030.ac594","name":"Teclas Comedor 2 (45)  (Naranja Claro)","topic":"Arduino/PBTablero/out/Button/45/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":630,"y":240,"wires":[["4f2f07ae.451ce8"]]},{"id":"9549a648.31a008","type":"function","z":"4329d030.ac594","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":160,"wires":[[]]},{"id":"4f2f07ae.451ce8","type":"function","z":"4329d030.ac594","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":240,"wires":[[]]},{"id":"a478fa1.383f408","type":"subflow:4329d030.ac594","z":"bb63d718.931208","name":"","env":[],"x":300,"y":1060,"wires":[["d700df73.35ba4","e3fe3abe.5b9d88"],["1e1a71ae.7d617e","b305e4f1.6db828"]]},{"id":"c9a8d319.b74a7","type":"mqtt in","z":"d1c44675.ff7c58","name":"Teclas Escalera 1 (49) (UTP Verde)","topic":"Arduino/PBTablero/out/Button/49/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":500,"y":160,"wires":[["ee3445cd.4bc588"]]},{"id":"aea402da.e7db4","type":"mqtt in","z":"d1c44675.ff7c58","name":"Teclas Escalera 2 (39)  (UTP Naranja)","topic":"Arduino/PBTablero/out/Button/39/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":510,"y":240,"wires":[["b9b56de3.61b1a"]]},{"id":"a60cbf82.5aaf1","type":"mqtt in","z":"d1c44675.ff7c58","name":"Teclas Escalera 3 (41)  (UTP Azul Claro)","topic":"Arduino/PBTablero/out/Button/41/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":510,"y":320,"wires":[["c1cb512c.d2da8"]]},{"id":"ee3445cd.4bc588","type":"function","z":"d1c44675.ff7c58","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":160,"wires":[[]]},{"id":"b9b56de3.61b1a","type":"function","z":"d1c44675.ff7c58","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":240,"wires":[[]]},{"id":"c1cb512c.d2da8","type":"function","z":"d1c44675.ff7c58","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":320,"wires":[[]]},{"id":"a6aa7bbe.024c78","type":"subflow:d1c44675.ff7c58","z":"bb63d718.931208","name":"","x":240,"y":1220,"wires":[["80bef1c8.5912c"],["6e3faea4.c4467"],["13c009f0.c3cc06"],["80bef1c8.5912c"]]},{"id":"93783de8.9ed18","type":"mqtt in","z":"d1c44675.ff7c58","name":"Teclas Escalera Arriba (47)  (UTP Azul)","topic":"Arduino/PBTablero/out/Button/47/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":510,"y":400,"wires":[["648562a3.49f70c"]]},{"id":"648562a3.49f70c","type":"function","z":"d1c44675.ff7c58","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":400,"wires":[[]]},{"id":"43d17969.14ea08","type":"function","z":"bb63d718.931208","name":"Apagar PB","func":"msg.payload = \"0\";\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":1220,"wires":[["6e3faea4.c4467","1fd7774e.b0dce9","d700df73.35ba4","1e1a71ae.7d617e","b305e4f1.6db828","3c9fe8bd.319fb8","3da337a9.1afa28"]]},{"id":"76df58a3.9fc248","type":"function","z":"bb63d718.931208","name":"Prender","func":"msg.payload = \"1\";\nreturn msg;","outputs":1,"noerr":0,"x":880,"y":1300,"wires":[["80bef1c8.5912c"]]},{"id":"a072092b.57f2e8","type":"mqtt in","z":"235e5af0.561006","name":"","topic":"Arduino/+/out/Sensores/RF433","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":720,"wires":[["62acdaee.5710d4","2409d46b.9c7d3c"]]},{"id":"8654a4a2.6ce7f8","type":"switch","z":"235e5af0.561006","name":"Sensor","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"6173422","vt":"str"},{"t":"eq","v":"10721578","vt":"str"},{"t":"eq","v":"8359674","vt":"str"},{"t":"eq","v":"2089918","vt":"str"},{"t":"eq","v":"4023790","vt":"str"},{"t":"eq","v":"15524906","vt":"str"},{"t":"eq","v":"13670218","vt":"str"},{"t":"eq","v":"1691514","vt":"str"},{"t":"eq","v":"13670218","vt":"str"},{"t":"eq","v":"2332970","vt":"str"},{"t":"eq","v":"2680394","vt":"str"},{"t":"eq","v":"16517578","vt":"str"}],"checkall":"false","repair":false,"outputs":12,"x":640,"y":240,"wires":[["8fea8ef8.9ae8b"],["fbc45d11.96fee","eae60e68.55c21"],["6e7c6369.e563cc"],[],[],["dbcfdb9c.cc17f8","875113b9.1007f"],["5882b20c.270a7c","fbc45d11.96fee"],["8ef2b4c3.eba3f8"],[],[],[],["a1c6741d.1aaf08"]],"outputLabels":["Apertura Ventana Comedor","Sensor Movimiento Patio","Sensor Movimiento Entrada","","","Sensor Movimiento Vestidor","Sensor Movimiento Patio Arriba","Sensor Movimiento Balcon PA Pieza Nuestra","","","","Sensor Movimiento Balcon PA Pieza Nenes"]},{"id":"1e3ca871.15f0e8","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"str","op2type":"str","duration":"1","extend":true,"units":"min","reset":"","bytopic":"all","name":"","x":890,"y":640,"wires":[["6ce2e5e9.a8672c","2c69a6ee.42f82a"]]},{"id":"6ce2e5e9.a8672c","type":"mqtt out","z":"235e5af0.561006","name":"Reflector Patio (32)","topic":"Arduino/PBTablero/in/Relay/32","qos":"","retain":"true","broker":"1ad27743.ce9fb9","x":1150,"y":660,"wires":[],"inputLabels":["kkl"]},{"id":"1fefe0db.43387f","type":"change","z":"2bcc0ccb.cd26a4","name":"","rules":[{"t":"set","p":"EsDeNoche","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1080,"y":400,"wires":[["725ae951.b61ef8"]]},{"id":"fbc45d11.96fee","type":"switch","z":"235e5af0.561006","name":"Es de Noche","property":"EsDeDia","propertyType":"global","rules":[{"t":"true"},{"t":"false"}],"checkall":"false","repair":false,"outputs":2,"x":710,"y":640,"wires":[[],["1e3ca871.15f0e8"]],"outputLabels":["Dia","Noche"]},{"id":"13c009f0.c3cc06","type":"switch","z":"bb63d718.931208","name":"Doble Click","property":"ApagarPB","propertyType":"flow","rules":[{"t":"else"},{"t":"eq","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":450,"y":1340,"wires":[["c8553840.d9dc38","c3acd3f.3c65b3"],["d638f01b.851fa","45c91492.2569fc","ed524448.244858"]],"outputLabels":["Primera Vez","Segunda Vez"]},{"id":"c8553840.d9dc38","type":"change","z":"bb63d718.931208","name":"Set Doble Click","rules":[{"t":"set","p":"ApagarPB","pt":"flow","to":"1","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":440,"y":1420,"wires":[["db447b8a.783528"]]},{"id":"d638f01b.851fa","type":"change","z":"bb63d718.931208","name":"Reset Doble Click","rules":[{"t":"set","p":"ApagarPB","pt":"flow","to":"0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":1400,"wires":[[]]},{"id":"db447b8a.783528","type":"delay","z":"bb63d718.931208","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":620,"y":1420,"wires":[["d638f01b.851fa"]]},{"id":"45c91492.2569fc","type":"switch","z":"bb63d718.931208","name":"Es de Dia","property":"EsDeDia","propertyType":"global","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":1300,"wires":[[],["76df58a3.9fc248"]],"outputLabels":["Dia","Noche"]},{"id":"c7aa34b2.867fb8","type":"debug","z":"235e5af0.561006","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":370,"y":240,"wires":[]},{"id":"8c28a21d.0b5dd","type":"mqtt in","z":"57b26073.47916","name":"Buttons Toggle","topic":"Arduino/+/out/Button/+/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":180,"y":540,"wires":[["666818ba.645868","7584323d.8efc2c"]]},{"id":"bdf4a3ed.2e2ca","type":"mqtt in","z":"bb63d718.931208","name":"Tecla Tablero Naranja Claro UTP Gris (33)","topic":"Arduino/PBTablero/out/Button/33/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":440,"y":580,"wires":[["79125292.2384ec"]]},{"id":"79125292.2384ec","type":"function","z":"bb63d718.931208","name":"Force","func":"if (msg.payload == \"0\")\n    {msg.payload = \"unforce\";}\nelse\n    {msg.payload = \"force-1\";}\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":580,"wires":[["60ed99dc.830dd8"]]},{"id":"ea0c865d.ea1e08","type":"link in","z":"bb63d718.931208","name":"Apagar Luces PB","links":["c3acd3f.3c65b3","3384ee93.136ba2","bd05e2f5.6e656"],"x":755,"y":1220,"wires":[["43d17969.14ea08"]]},{"id":"c3acd3f.3c65b3","type":"link out","z":"bb63d718.931208","name":"","links":["ea0c865d.ea1e08"],"x":715,"y":1220,"wires":[]},{"id":"fce73a35.a51d58","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"837d3079.305cd","order":14,"width":0,"height":0,"passthru":false,"label":"Activar Modo Proyector","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":290,"y":420,"wires":[["bd05e2f5.6e656"]]},{"id":"58568a39.50a6d4","type":"link in","z":"295f893a.42f726","name":"AAC Apagar","links":["26f8115c.6b657e"],"x":475,"y":440,"wires":[["6469230a.5002ac"]]},{"id":"6469230a.5002ac","type":"change","z":"295f893a.42f726","name":"Apagar AAC","rules":[{"t":"set","p":"payload","pt":"msg","to":"89,86,11,31,11,10,11,32,11,32,11,10,11,10,11,31,11,10,12,10,11,32,11,10,11,10,11,31,11,32,11,10,11,32,11,10,11,31,12,32,11,31,11,32,11,10,11,32,11,32,11,31,11,10,11,10,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,31,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,31,11,32,11,32,11,32,11,32,12,103,89,86,11,32,11,10,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,31,11,10,11,10,11,32,11,32,11,10,11,32,11,10,11,32,11,32,11,32,11,32,11,10,11,32,11,32,11,31,11,10,11,10,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,32,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,32,11,32,11,32,11,32,11,32,11","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":690,"y":440,"wires":[["66ea1ea6.f51c9"]]},{"id":"c28715fd.aebe78","type":"ui_button","z":"295f893a.42f726","name":"","group":"837d3079.305cd","order":7,"width":0,"height":0,"passthru":false,"label":"Apagar IR Living","tooltip":"","color":"","bgcolor":"","icon":"","payload":"182,88,12,32,12,32,12,10,12,10,12,9,12,10,12,9,12,32,12,10,12,10,12,32,12,10,12,32,12,32,12,32,12,32,12,10,12,10,12,10,12,10,12,32,12,32,12,10,12,10,12,32,12,32,12,32,12,32,12,10,12,10,12,32,12,32,12","payloadType":"str","topic":"","x":1310,"y":540,"wires":[["d87b7cfd.51b71"]]},{"id":"d87b7cfd.51b71","type":"link out","z":"295f893a.42f726","name":"","links":["550e66eb.5a2678","6055a41.50a7f5c"],"x":1355,"y":460,"wires":[]},{"id":"3d8ca24f.a3ff5e","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"837d3079.305cd","order":14,"width":0,"height":0,"passthru":false,"label":"Apagar Todo PB","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":100,"y":240,"wires":[["65481fe8.c3dd"]]},{"id":"a905769a.3cb038","type":"link in","z":"c5b2ea55.84d058","name":"Apagar Todo Planta Baja","links":["ed524448.244858","65481fe8.c3dd","eff538e0.ffbe98"],"x":235,"y":120,"wires":[["5f169587.07a31c","25b13e03.853852","3384ee93.136ba2","745f0f58.b0dd8"]]},{"id":"5f169587.07a31c","type":"link out","z":"c5b2ea55.84d058","name":"","links":["550e66eb.5a2678","6055a41.50a7f5c"],"x":475,"y":100,"wires":[]},{"id":"25b13e03.853852","type":"link out","z":"c5b2ea55.84d058","name":"","links":["4ed881e6.4c7a2"],"x":595,"y":140,"wires":[]},{"id":"3384ee93.136ba2","type":"link out","z":"c5b2ea55.84d058","name":"","links":["ea0c865d.ea1e08"],"x":475,"y":180,"wires":[]},{"id":"a2d82b6a.3909a8","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"837d3079.305cd","order":14,"width":0,"height":0,"passthru":false,"label":"Apagar Luces PB","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":270,"y":520,"wires":[["bd05e2f5.6e656"]]},{"id":"65481fe8.c3dd","type":"link out","z":"c5b2ea55.84d058","name":"","links":["a905769a.3cb038"],"x":135,"y":340,"wires":[]},{"id":"bd05e2f5.6e656","type":"link out","z":"c5b2ea55.84d058","name":"","links":["ea0c865d.ea1e08"],"x":635,"y":520,"wires":[]},{"id":"745f0f58.b0dd8","type":"link out","z":"c5b2ea55.84d058","name":"","links":["6ca521c4.a62d8"],"x":475,"y":220,"wires":[]},{"id":"ed524448.244858","type":"link out","z":"bb63d718.931208","name":"","links":["a905769a.3cb038"],"x":735,"y":1340,"wires":[]},{"id":"3bf0f746.bff0d8","type":"function","z":"887b2e31.18293","name":"Separar Topic","func":"var topics = msg.topic.split(\"/\");\nmsg.arduino =  topics[1];\nmsg.relay =  topics[4];\nreturn msg;","outputs":1,"noerr":0,"x":380,"y":340,"wires":[["1a27ef99.f047a","97dab7ab.a7c948"]]},{"id":"1a27ef99.f047a","type":"switch","z":"887b2e31.18293","name":"Aduino","property":"arduino","propertyType":"msg","rules":[{"t":"eq","v":"PBTablero","vt":"str"},{"t":"eq","v":"PBLiving","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":550,"y":340,"wires":[["6e803e9f.3fed1"],["7691be04.f618d"]],"outputLabels":["Tablero","Living"]},{"id":"6e803e9f.3fed1","type":"switch","z":"887b2e31.18293","name":"Tablero","property":"relay","propertyType":"msg","rules":[{"t":"eq","v":"26","vt":"str"},{"t":"eq","v":"28","vt":"str"},{"t":"eq","v":"30","vt":"str"},{"t":"eq","v":"32","vt":"str"},{"t":"eq","v":"34","vt":"str"},{"t":"eq","v":"36","vt":"str"},{"t":"eq","v":"38","vt":"str"},{"t":"eq","v":"40","vt":"str"},{"t":"eq","v":"42","vt":"str"},{"t":"eq","v":"44","vt":"str"},{"t":"eq","v":"46","vt":"str"},{"t":"eq","v":"48","vt":"str"},{"t":"eq","v":"4","vt":"str"},{"t":"eq","v":"5","vt":"str"},{"t":"eq","v":"22","vt":"str"},{"t":"eq","v":"24","vt":"str"}],"checkall":"false","repair":false,"outputs":16,"x":720,"y":300,"wires":[["b9fd7b44.1ff218"],["a40018d7.3573f8"],["5bf062f5.67438c"],["7974db4.e5cf524"],["c1cc9f3b.956ff"],["d2a4ea2a.2c1288"],["ac435dc5.be83f"],["464e40ab.062a3"],["c58df6a3.089e88"],["e8d70996.265418"],["c9463021.a8f87"],["384c1577.e7793a"],[],["d23a3a74.2ed6d8"],[],["e5b9b0f.2b9625"]],"outputLabels":["Comedor (26)","Distribuidor (28)","Luiz Escritorio (30)","Reflector Patio (32)","Vestidor (34)","Patio (36)","38","Toma Escritorio (40)","Escalera (42)","Living 2","Living 3","Living (48)","SIN USO","12V (5)","","Comedor Centro"]},{"id":"7691be04.f618d","type":"switch","z":"887b2e31.18293","name":"Living","property":"relay","propertyType":"msg","rules":[{"t":"eq","v":"24","vt":"str"},{"t":"eq","v":"26","vt":"str"},{"t":"eq","v":"28","vt":"str"},{"t":"eq","v":"30","vt":"str"}],"checkall":"false","repair":false,"outputs":4,"x":710,"y":660,"wires":[["7cef22c5.6999bc"],["23f565bd.45fb9a","76741a46.ec1784"],["3d690c4e.637994"],["7b4dca76.1c3a74"]],"outputLabels":["Frente (24)","Subwoofer (26)","Tomtas Tv (28)","Luces Balcon (30)"]},{"id":"b9fd7b44.1ff218","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Comedor","tooltip":"","group":"8baa852c.3b6cc8","order":1,"width":"3","height":"1","passthru":false,"decouple":"true","topic":"Arduino/PBTablero/in/Relay/26","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1020,"y":100,"wires":[["8591f331.53aaf"]]},{"id":"a40018d7.3573f8","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Distribuidor","tooltip":"","group":"8baa852c.3b6cc8","order":3,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/28","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1030,"y":140,"wires":[["8591f331.53aaf"]]},{"id":"8591f331.53aaf","type":"mqtt out","z":"887b2e31.18293","name":"Relays","topic":"","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1550,"y":400,"wires":[],"inputLabels":["kkl"]},{"id":"5bf062f5.67438c","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Escritorio","tooltip":"","group":"5635ed61.b910e4","order":1,"width":"3","height":"1","passthru":false,"decouple":"true","topic":"Arduino/PBTablero/in/Relay/30","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1020,"y":180,"wires":[["8591f331.53aaf"]]},{"id":"7974db4.e5cf524","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Reflector Patio","tooltip":"","group":"7354ee51.5c171","order":2,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/32","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1040,"y":220,"wires":[["8591f331.53aaf"]]},{"id":"c1cc9f3b.956ff","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Vestidor","tooltip":"","group":"6d3da8b1.90ed78","order":2,"width":"3","height":"1","passthru":false,"decouple":"true","topic":"Arduino/PBTablero/in/Relay/34","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1020,"y":260,"wires":[["8591f331.53aaf"]]},{"id":"d2a4ea2a.2c1288","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Patio","tooltip":"","group":"7354ee51.5c171","order":1,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/36","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1010,"y":300,"wires":[["8591f331.53aaf"]]},{"id":"464e40ab.062a3","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Tomas Escritorio","tooltip":"","group":"5635ed61.b910e4","order":2,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/40","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1040,"y":380,"wires":[["8591f331.53aaf"]]},{"id":"c58df6a3.089e88","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Escalera","tooltip":"","group":"8baa852c.3b6cc8","order":4,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/42","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1020,"y":420,"wires":[["8591f331.53aaf"]]},{"id":"384c1577.e7793a","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Living","tooltip":"","group":"6d3da8b1.90ed78","order":1,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/48","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1010,"y":540,"wires":[["8591f331.53aaf"]]},{"id":"23f565bd.45fb9a","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Subwoofers","tooltip":"","group":"6d3da8b1.90ed78","order":4,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBLiving/in/Relay/26","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1030,"y":700,"wires":[["8591f331.53aaf"]]},{"id":"3d690c4e.637994","type":"ui_switch","z":"887b2e31.18293","name":"","label":"12V Arriba","tooltip":"","group":"b89f1435.0c4bf8","order":3,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBLiving/in/Relay/28","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1030,"y":780,"wires":[["8591f331.53aaf"]]},{"id":"7cef22c5.6999bc","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Frente","tooltip":"","group":"a95b4552.f7fa88","order":2,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBLiving/in/Relay/24","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1010,"y":660,"wires":[["8591f331.53aaf"]]},{"id":"7b4dca76.1c3a74","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Balcon","tooltip":"","group":"a95b4552.f7fa88","order":3,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBLiving/in/Relay/30","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1010,"y":820,"wires":[["8591f331.53aaf"]]},{"id":"ef3c0dd1.4e914","type":"mqtt in","z":"887b2e31.18293","name":"","topic":"Arduino/+/out/Relay/+","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":160,"y":340,"wires":[["3bf0f746.bff0d8"]]},{"id":"2942877b.3cd328","type":"mqtt in","z":"2228dc2c.99e004","name":"Celu Chicho","topic":"OpenWrt/+/status/mac-b8-d7-af-b0-e2-9d/event","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":150,"y":400,"wires":[["8806729d.692f9"]]},{"id":"8806729d.692f9","type":"trigger","z":"2228dc2c.99e004","op1":"","op2":"","op1type":"nul","op2type":"payl","duration":"10","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":370,"y":400,"wires":[["73c5d745.50d6b8"]]},{"id":"ccda35c.053ecc8","type":"mqtt in","z":"2228dc2c.99e004","name":"Celu Babu","topic":"OpenWrt/+/status/mac-38-80-df-18-15-ec/event","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":140,"y":540,"wires":[["dd6a52b3.6617d"]]},{"id":"dd6a52b3.6617d","type":"trigger","z":"2228dc2c.99e004","op1":"","op2":"","op1type":"nul","op2type":"payl","duration":"10","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":310,"y":540,"wires":[["679956e6.e82388"]]},{"id":"73c5d745.50d6b8","type":"switch","z":"2228dc2c.99e004","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"new","vt":"str"},{"t":"eq","v":"del","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":550,"y":400,"wires":[["ba660829.d94f18"],["aed88acf.478a28"]],"outputLabels":["Conectado","Desconectado"]},{"id":"ba660829.d94f18","type":"change","z":"2228dc2c.99e004","name":"","rules":[{"t":"set","p":"ChichoPresente","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":400,"wires":[["5fcded9.0865814"]]},{"id":"aed88acf.478a28","type":"change","z":"2228dc2c.99e004","name":"","rules":[{"t":"set","p":"ChichoPresente","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":440,"wires":[["5fcded9.0865814"]]},{"id":"679956e6.e82388","type":"switch","z":"2228dc2c.99e004","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"new","vt":"str"},{"t":"eq","v":"del","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":550,"y":540,"wires":[["4b025905.3cc0c8"],["22f9821d.a23dbe"]],"outputLabels":["Conectado","Desconectado"]},{"id":"4b025905.3cc0c8","type":"change","z":"2228dc2c.99e004","name":"","rules":[{"t":"set","p":"BabuPresente","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":520,"wires":[["5fcded9.0865814"]]},{"id":"22f9821d.a23dbe","type":"change","z":"2228dc2c.99e004","name":"","rules":[{"t":"set","p":"BabuPresente","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":560,"wires":[["5fcded9.0865814"]]},{"id":"5fcded9.0865814","type":"function","z":"2228dc2c.99e004","name":"AlguienPresente","func":"var AlguienPres = (global.get(\"BabuPresente\") || global.get(\"ChichoPresente\"));\nglobal.set(\"AlguienPresente\",AlguienPres);\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":500,"wires":[[]]},{"id":"c1566fcc.e4eaa","type":"mqtt out","z":"57b26073.47916","name":"","topic":"","qos":"","retain":"true","broker":"1ad27743.ce9fb9","x":1030,"y":400,"wires":[]},{"id":"6d72d354.428d6c","type":"mqtt in","z":"57b26073.47916","name":"","topic":"Arduino/+/out/IP","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":200,"y":480,"wires":[["256f449a.6123fc","666818ba.645868"]]},{"id":"413f35da.f67f5c","type":"mqtt in","z":"d0c77eb4.886e7","name":"Comp LasSeen","topic":"LIVING/out/lastseen/epoch","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":120,"y":140,"wires":[["7f6526a6.d24708"]]},{"id":"7f6526a6.d24708","type":"trigger","z":"d0c77eb4.886e7","op1":"1","op2":"0","op1type":"str","op2type":"str","duration":"2","extend":true,"units":"min","reset":"","bytopic":"all","name":"","x":330,"y":140,"wires":[["ef8f262.37035d8"]]},{"id":"ef8f262.37035d8","type":"change","z":"d0c77eb4.886e7","name":"set CompOn","rules":[{"t":"set","p":"CompuPrendida","pt":"global","to":"$boolean(msg.payload)\t","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":140,"wires":[["26418e8.f185b72","68d8060d.bd4da8","bfc6aafc.953778"]]},{"id":"26418e8.f185b72","type":"mqtt out","z":"d0c77eb4.886e7","name":"Monitor Socket (40)","topic":"Arduino/PBTablero/in/Relay/40","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":910,"y":160,"wires":[],"inputLabels":["kkl"]},{"id":"8cc81701.1d2f78","type":"ui_button","z":"d0c77eb4.886e7","name":"","group":"4776a043.c6708","order":1,"width":"3","height":"1","passthru":false,"label":"Turn On","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1080,"y":160,"wires":[["849b3d9f.dee7d"]]},{"id":"6ca521c4.a62d8","type":"link in","z":"d0c77eb4.886e7","name":"Apagar PC","links":["745f0f58.b0dd8"],"x":995,"y":280,"wires":[["e1c0ca03.795908"]]},{"id":"e1c0ca03.795908","type":"function","z":"d0c77eb4.886e7","name":"Shut Down Comp","func":"msg.payload = \"now\";\nreturn msg;","outputs":1,"noerr":0,"x":1270,"y":280,"wires":[["e85602ca.7f09"]]},{"id":"e85602ca.7f09","type":"mqtt out","z":"d0c77eb4.886e7","name":"","topic":"LIVING/in/shutdown","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1560,"y":280,"wires":[]},{"id":"861d211f.91bd2","type":"ui_button","z":"d0c77eb4.886e7","name":"","group":"4776a043.c6708","order":2,"width":"3","height":"1","passthru":false,"label":"Turn Off","tooltip":"","color":"","bgcolor":"","icon":"fa-power-off","payload":"TOGGLE","payloadType":"str","topic":"","x":1040,"y":340,"wires":[["e1c0ca03.795908"]]},{"id":"68d8060d.bd4da8","type":"ui_switch","z":"d0c77eb4.886e7","name":"","label":"Comp","tooltip":"","group":"5635ed61.b910e4","order":4,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":870,"y":220,"wires":[["c56c377d.5386b8"]]},{"id":"133875fc.e712aa","type":"change","z":"2bcc0ccb.cd26a4","name":"","rules":[{"t":"set","p":"EsDeDia","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1290,"y":300,"wires":[[]]},{"id":"c56c377d.5386b8","type":"switch","z":"d0c77eb4.886e7","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1010,"y":220,"wires":[["849b3d9f.dee7d"],["e1c0ca03.795908"]],"outputLabels":["Prendida","Apagada"]},{"id":"adc054f7.7b3a78","type":"mqtt in","z":"d0c77eb4.886e7","name":"Comp Off","topic":"LIVING/out/SHUTDOWN","qos":"1","datatype":"auto","broker":"1ad27743.ce9fb9","x":120,"y":240,"wires":[["3bc3e4a7.a3a2bc"]]},{"id":"3bc3e4a7.a3a2bc","type":"change","z":"d0c77eb4.886e7","name":"Payload 0","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":200,"wires":[["ef8f262.37035d8"]]},{"id":"b1d29e4f.f0f78","type":"mqtt in","z":"d0c77eb4.886e7","name":"Comp On","topic":"LIVING/out/IP","qos":"1","datatype":"auto","broker":"1ad27743.ce9fb9","x":120,"y":60,"wires":[["1a8b8922.1ae247"]]},{"id":"1a8b8922.1ae247","type":"change","z":"d0c77eb4.886e7","name":"Payload 1","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":80,"wires":[["ef8f262.37035d8"]]},{"id":"37791139.092ede","type":"exec","z":"3e473a01.8f8df6","command":"ps4-waker standby","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Stand By","x":680,"y":120,"wires":[[],[],[]]},{"id":"7d2472a2.30d41c","type":"exec","z":"3e473a01.8f8df6","command":"ps4-waker","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Prender","x":660,"y":220,"wires":[[],[],[]]},{"id":"ecec0d4d.75abb","type":"link in","z":"3e473a01.8f8df6","name":"PS4 StandBy","links":["2b6212be.bbb05e","5c1eb982.eb3e88","79fc54ec.57faec"],"x":200,"y":120,"wires":[["37791139.092ede"]]},{"id":"75850dc9.24f0e4","type":"link in","z":"3e473a01.8f8df6","name":"PS4 Prender","links":["d5512660.a02bf8","8fbf78ab.1f29a8","e83353ed.ea3a2"],"x":215,"y":220,"wires":[["7d2472a2.30d41c"]]},{"id":"5b01d785.763578","type":"ui_button","z":"3e473a01.8f8df6","name":"","group":"6d364717.d4fd68","order":2,"width":"3","height":"1","passthru":false,"label":"Apagar","tooltip":"","color":"","bgcolor":"","icon":"fa-power-off","payload":"","payloadType":"str","topic":"","x":340,"y":80,"wires":[["37791139.092ede"]]},{"id":"6ec5d081.13756","type":"ui_button","z":"3e473a01.8f8df6","name":"","group":"6d364717.d4fd68","order":1,"width":"3","height":"1","passthru":false,"label":"Prender","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":340,"y":180,"wires":[["7d2472a2.30d41c"]]},{"id":"66ea1ea6.f51c9","type":"mqtt out","z":"295f893a.42f726","name":"","topic":"Arduino/PBTablero/in/IR/RAW","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1050,"y":360,"wires":[]},{"id":"87d09d20.76ddc","type":"change","z":"230ac56e.bc629a","name":"Power Muteki","rules":[{"t":"set","p":"payload","pt":"msg","to":"49,11,24,11,12,11,24,11,12,11,24,11,12,10,13,11,12,10,13,11,12,10,13,10,25,10,25,11,12,11,12,430","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":160,"wires":[["e14546fc.fe30c8"]]},{"id":"ad23c6a.6bda438","type":"link in","z":"230ac56e.bc629a","name":"Muteki Apagar","links":["1c538dff.50a992","4584644d.b2547c","744d68f5.52b7b8","3be5da58.c5d4a6"],"x":435,"y":380,"wires":[["667368e5.39beb8","dfb47d02.7d201"]]},{"id":"667368e5.39beb8","type":"change","z":"230ac56e.bc629a","name":"Apagar Subwoofers","rules":[{"t":"set","p":"payload","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":650,"y":440,"wires":[["b57ff1b4.07a6f"]]},{"id":"b57ff1b4.07a6f","type":"mqtt out","z":"230ac56e.bc629a","name":"Toma SubWoofer (26)","topic":"Arduino/PBLiving/in/Relay/26","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":900,"y":440,"wires":[],"inputLabels":["kkl"]},{"id":"7dbba7.e218f458","type":"ui_button","z":"230ac56e.bc629a","name":"","group":"913b3f65.8b281","order":2,"width":"3","height":"1","passthru":false,"label":"PS4","tooltip":"","color":"","bgcolor":"","icon":"","payload":"49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311","payloadType":"str","topic":"","x":450,"y":100,"wires":[["c8ed4564.50aa78"]]},{"id":"da95dadf.54feb8","type":"ui_button","z":"230ac56e.bc629a","name":"","group":"7ad1e0a0.b2f66","order":1,"width":"3","height":"1","passthru":false,"label":"Telecentro","tooltip":"","color":"","bgcolor":"","icon":"","payload":"49,10,13,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,11,12,10,25,10,13,10,25,11,12,10,13,310,49,11,12,10,25,10,13,11,12,11,24,11,12,11,13,10,13,10,13,11,12,10,13,10,25,11,12,10,13,10,13,11,24,10,13,10,25,10,13,10,13,311,48,11,12,11,24,11,12,11,12,11,24,11,12,10,12,11,12,10,13,11,12,11,12,10,25,10,13,11,12,11,12,11,24,11,12,10,25,10,13,11,12,49,10,13,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,11,12,10,25,10,13,10,25,11,12,10,13,310,49,11,12,10,25,10,13,11,12,11,24,11,12,11,13,10,13,10,13,11,12,10,13,10,25,11,12,10,13,10,13,11,24,10,13,10,25,10,13,10,13,311,48,11,12,11,24,11,12,11,12,11,24,11,12,10,12,11,12,10,13,11,12,11,12,10,25,10,13,11,12,11,12,11,24,11,12,10,25,10,13,11,12","payloadType":"str","topic":"","x":470,"y":200,"wires":[["69611082.28aee"]]},{"id":"8fbf78ab.1f29a8","type":"link out","z":"230ac56e.bc629a","name":"","links":["75850dc9.24f0e4","e4af47ab.016738"],"x":735,"y":140,"wires":[]},{"id":"b61ea9c6.b22358","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Pieza Nuestra LasSeen","topic":"OpenWrt/Ping/192.168.2.47/lastseen/epoch","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":110,"y":220,"wires":[["93aca954.871cd8"]]},{"id":"93aca954.871cd8","type":"trigger","z":"9bee6473.dc8598","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"5","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":320,"y":220,"wires":[["9556d962.343f38"]]},{"id":"9556d962.343f38","type":"change","z":"9bee6473.dc8598","name":"set TVPiezaNuestraPrendida","rules":[{"t":"set","p":"TVPiezaNuestraPrendida","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":520,"y":280,"wires":[["74209ce6.41be74","39f5845a.1a619c"]]},{"id":"74209ce6.41be74","type":"ui_switch","z":"9bee6473.dc8598","name":"","label":"TV Pieza","tooltip":"","group":"6d3da8b1.90ed78","order":6,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":760,"y":280,"wires":[["904ba9a9.7982b8"]]},{"id":"b0ec0aa3.8392f8","type":"ui_button","z":"9bee6473.dc8598","name":"","group":"20a076b7.fe135a","order":1,"width":0,"height":0,"passthru":false,"label":"Power Tele","tooltip":"","color":"","bgcolor":"","icon":"","payload":"18,15,35,15,17,15,18,15,18,15,18,15,18,15,18,15,18,31,18,15,35,15,18","payloadType":"str","topic":"","x":710,"y":100,"wires":[["904ba9a9.7982b8"]]},{"id":"f4236661.eb0168","type":"mqtt out","z":"9bee6473.dc8598","name":"","topic":"NodeMcu/PiezaNuestra/in/IR/RAW","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1420,"y":240,"wires":[]},{"id":"904ba9a9.7982b8","type":"change","z":"9bee6473.dc8598","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"18,15,35,15,17,15,18,15,18,15,18,15,18,15,18,15,18,31,18,15,35,15,18","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":240,"wires":[["f4236661.eb0168"]]},{"id":"abd1cb9f.c69ab8","type":"link in","z":"9bee6473.dc8598","name":"Apagar Tv Living","links":["2ad750f0.7a56e"],"x":915,"y":680,"wires":[["9252059.c8547f8"]]},{"id":"e7f0a3b8.edc83","type":"link in","z":"9bee6473.dc8598","name":"Prender Tv Living","links":[],"x":875,"y":820,"wires":[["31eb6eb4.73e6d2"]]},{"id":"b81bb3e8.bde01","type":"switch","z":"9bee6473.dc8598","name":"Prendida?","property":"TVPiezaNuestraPrendida","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":710,"y":60,"wires":[["904ba9a9.7982b8"]],"outputLabels":["Prendida"]},{"id":"48e4772.7832188","type":"ui_button","z":"9bee6473.dc8598","name":"","group":"20a076b7.fe135a","order":4,"width":"3","height":"1","passthru":false,"label":"Subir Volumen","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-up","payload":"18,14,36,15,18,15,18,15,18,14,18,15,18,15,18,31,35,15,18,15,18,15,18,18,14,36,15,18,15,18,15,18,14,18,15,18,15,18,31,35,15,18,15,18,15,18","payloadType":"str","topic":"","x":1000,"y":380,"wires":[["f4236661.eb0168"]]},{"id":"9ba4f536.674c48","type":"ui_button","z":"9bee6473.dc8598","name":"","group":"20a076b7.fe135a","order":3,"width":"3","height":"1","passthru":false,"label":"Bajar Volumen","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-down","payload":"18,15,35,15,17,15,18,15,18,15,18,15,18,15,18,32,35,15,18,15,18,31,18,18,15,35,15,17,15,18,15,18,15,18,15,18,15,18,32,35,15,18,15,18,31,18","payloadType":"str","topic":"","x":1000,"y":420,"wires":[["f4236661.eb0168"]]},{"id":"e14546fc.fe30c8","type":"mqtt out","z":"230ac56e.bc629a","name":"","topic":"Arduino/PBTablero/in/IR/RAW","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":930,"y":300,"wires":[]},{"id":"c8ed4564.50aa78","type":"change","z":"230ac56e.bc629a","name":"PS4","rules":[{"t":"set","p":"payload","pt":"msg","to":"49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":610,"y":140,"wires":[["e14546fc.fe30c8","8fbf78ab.1f29a8","839efdfc.0ea32"]]},{"id":"69611082.28aee","type":"change","z":"230ac56e.bc629a","name":"Telecentro","rules":[{"t":"set","p":"payload","pt":"msg","to":"49,10,13,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,11,12,10,25,10,13,10,25,11,12,10,13,310,49,11,12,10,25,10,13,11,12,11,24,11,12,11,13,10,13,10,13,11,12,10,13,10,25,11,12,10,13,10,13,11,24,10,13,10,25,10,13,10,13,311,48,11,12,11,24,11,12,11,12,11,24,11,12,10,12,11,12,10,13,11,12,11,12,10,25,10,13,11,12,11,12,11,24,11,12,10,25,10,13,11,12,49,10,13,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,11,12,10,25,10,13,10,25,11,12,10,13,310,49,11,12,10,25,10,13,11,12,11,24,11,12,11,13,10,13,10,13,11,12,10,13,10,25,11,12,10,13,10,13,11,24,10,13,10,25,10,13,10,13,311,48,11,12,11,24,11,12,11,12,11,24,11,12,10,12,11,12,10,13,11,12,11,12,10,25,10,13,11,12,11,12,11,24,11,12,10,25,10,13,11,12","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":630,"y":240,"wires":[["e14546fc.fe30c8","839efdfc.0ea32"]]},{"id":"3cea545.81724ac","type":"link in","z":"230ac56e.bc629a","name":"Muteki Telecentro","links":["10c536dc.ed24f9"],"x":435,"y":240,"wires":[["69611082.28aee"]]},{"id":"f2785731.bd36e8","type":"link in","z":"230ac56e.bc629a","name":"Muteki PS4","links":[],"x":435,"y":140,"wires":[["c8ed4564.50aa78"]]},{"id":"7a8d5316.fd25ac","type":"link in","z":"230ac56e.bc629a","name":"Muteki Mute","links":["25714e8.454ecb2"],"x":435,"y":320,"wires":[["f09434f0.d25528"]]},{"id":"f09434f0.d25528","type":"change","z":"230ac56e.bc629a","name":"Mute","rules":[{"t":"set","p":"payload","pt":"msg","to":"49,10,13,10,13,10,25,10,13,10,25,10,12,10,13,10,13,10,13,10,13,10,13,10,25,10,25,10,13,10,13,442,49,10,13,10,13,10,25,10,13,10,25,11,12,10,13,10,13,11,12,11,12,10,13,11,24,11,24,11,12,11,12,443,49,10,13,10,13,10,25,11,12,10,25,10,13,10,13,11,12,10,13,10,13,10,13,10,25,10,25,10,13,10,13","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":610,"y":320,"wires":[["e14546fc.fe30c8","839efdfc.0ea32"]]},{"id":"f5fdfcff.d3be5","type":"ui_button","z":"230ac56e.bc629a","name":"","group":"7ad1e0a0.b2f66","order":7,"width":0,"height":0,"passthru":false,"label":"Mute","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-off","payload":"","payloadType":"str","topic":"","x":450,"y":280,"wires":[["f09434f0.d25528"]]},{"id":"16987e28.ccd0c2","type":"ui_button","z":"230ac56e.bc629a","name":"","group":"7ad1e0a0.b2f66","order":3,"width":"3","height":"1","passthru":false,"label":"Apagar","tooltip":"","color":"","bgcolor":"","icon":"fa-power-off","payload":"49,11,24,11,12,11,24,11,12,11,24,11,12,10,13,11,12,10,13,11,12,10,13,10,25,10,25,11,12,11,12,430,49,10,25,10,13,10,25,10,13,10,25,10,13,10,13,10,13,10,13,11,12,10,13,10,25,10,25,10,13,10,13,430,49,10,25,11,12,11,24,10,13,11,24,11,12,10,13,11,12,11,12,11,12,11,12,10,25,10,25,11,12,11,12","payloadType":"str","topic":"","x":180,"y":380,"wires":[["1c538dff.50a992"]]},{"id":"1c538dff.50a992","type":"link out","z":"230ac56e.bc629a","name":"","links":["ad23c6a.6bda438"],"x":355,"y":380,"wires":[]},{"id":"fcada3ec.cffd","type":"mqtt out","z":"d4cc4a57.a7caa8","name":"","topic":"Arduino/PBTablero/in/RF315/","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":800,"y":160,"wires":[],"inputLabels":["kkl"]},{"id":"40b8d541.4c5d4c","type":"trigger","z":"d4cc4a57.a7caa8","op1":"","op2":"","op1type":"pay","op2type":"nul","duration":"1","extend":false,"units":"s","reset":"","bytopic":"all","name":"","x":560,"y":120,"wires":[["fcada3ec.cffd"]]},{"id":"4ed881e6.4c7a2","type":"link in","z":"d4cc4a57.a7caa8","name":"Proyector Pantalla Subir","links":["5516103c.a77ac","25b13e03.853852","23801964.bda096","c5995599.14e858"],"x":155,"y":140,"wires":[["22ed0059.f7bab"]]},{"id":"22ed0059.f7bab","type":"change","z":"d4cc4a57.a7caa8","name":"Subir","rules":[{"t":"set","p":"payload","pt":"msg","to":"110101100010001010100010","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":140,"wires":[["40b8d541.4c5d4c"]]},{"id":"24810692.44e16a","type":"link in","z":"d4cc4a57.a7caa8","name":"Proyector Pantalla Bajar","links":["e1efbdd4.5baf8","f82f3292.24346","12848232.f8f20e"],"x":155,"y":100,"wires":[["ef07a12.2a0f46"]]},{"id":"ef07a12.2a0f46","type":"change","z":"d4cc4a57.a7caa8","name":"Bajar","rules":[{"t":"set","p":"payload","pt":"msg","to":"110101100010001010100100","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":100,"wires":[["40b8d541.4c5d4c"]]},{"id":"511546f7.774948","type":"change","z":"d4cc4a57.a7caa8","name":"Parar","rules":[{"t":"set","p":"payload","pt":"msg","to":"110101100010001010101000","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":220,"wires":[["fcada3ec.cffd"]]},{"id":"c265eb3b.3f8a88","type":"link in","z":"d4cc4a57.a7caa8","name":"Proyector Pantalla Parar","links":[],"x":155,"y":220,"wires":[["511546f7.774948"]]},{"id":"1dd91f1e.361d91","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"a676754.6a79888","order":3,"width":"6","height":"1","passthru":true,"label":"Parar","tooltip":"","color":"","bgcolor":"","icon":"fa-stop","payload":"","payloadType":"str","topic":"","x":190,"y":260,"wires":[["511546f7.774948"]]},{"id":"8dccc4a5.52f1e8","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"a676754.6a79888","order":4,"width":"3","height":"1","passthru":false,"label":"Prender","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":200,"y":360,"wires":[["78855132.54d3d"]]},{"id":"12954b05.ef1bd5","type":"change","z":"d4cc4a57.a7caa8","name":"Apagar","rules":[{"t":"set","p":"payload","pt":"msg","to":"182,88,12,32,12,32,12,10,12,10,12,9,12,10,12,9,12,32,12,10,12,10,12,32,12,10,12,32,12,32,12,32,12,32,12,10,12,32,12,32,12,32,12,10,12,10,12,32,12,10,12,32,12,10,12,10,12,10,12,32,12,32,12,10,12,32,12","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":380,"y":480,"wires":[["120ca2b2.f9ce1d"]]},{"id":"f8106cce.9b491","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"a676754.6a79888","order":7,"width":"3","height":"1","passthru":false,"label":"Menu","tooltip":"","color":"","bgcolor":"","icon":"fa-bars","payload":"182,88,12,32,12,32,12,10,12,10,12,9,12,10,12,9,12,32,12,10,12,10,12,32,12,10,12,32,12,32,12,32,12,32,12,10,12,10,12,10,12,10,12,32,12,32,12,10,12,10,12,32,12,32,12,32,12,32,12,10,12,10,12,32,12,32,12,182,88,12,32,12,32,12,10,12,10,12,9,12,10,12,9,12,32,12,10,12,10,12,32,12,10,12,32,12,32,12,32,12,32,12,10,12,10,12,10,12,10,12,32,12,32,12,10,12,10,12,32,12,32,12,32,12,32,12,10,12,10,12,32,12,32,12","payloadType":"str","topic":"","x":470,"y":720,"wires":[["9530ba68.b56d08"]]},{"id":"b31906b3.858ef8","type":"link in","z":"d4cc4a57.a7caa8","name":"Proyector Apagar","links":["ee6bc9d.7703638","d60eac.212d8158"],"x":255,"y":480,"wires":[["12954b05.ef1bd5"]]},{"id":"120ca2b2.f9ce1d","type":"trigger","z":"d4cc4a57.a7caa8","op1":"","op2":"","op1type":"pay","op2type":"pay","duration":"2","extend":false,"units":"s","reset":"","bytopic":"all","name":"","x":540,"y":480,"wires":[["9530ba68.b56d08"]]},{"id":"9530ba68.b56d08","type":"mqtt out","z":"d4cc4a57.a7caa8","name":"","topic":"Arduino/PBTablero/in/IR/RAW","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":850,"y":440,"wires":[]},{"id":"755337e5.6985c8","type":"link in","z":"d4cc4a57.a7caa8","name":"Proyector Prender","links":[],"x":255,"y":420,"wires":[["78855132.54d3d"]]},{"id":"78855132.54d3d","type":"change","z":"d4cc4a57.a7caa8","name":"Prender","rules":[{"t":"set","p":"payload","pt":"msg","to":"182,88,12,32,12,32,12,10,12,10,12,9,12,10,12,9,12,32,12,9,12,9,12,32,12,10,12,32,12,32,12,32,12,32,12,32,12,32,12,32,12,32,12,10,12,10,12,32,12,10,12,10,12,10,12,10,12,9,12,32,12,32,12,10,12,32,12","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":380,"y":420,"wires":[["9530ba68.b56d08"]]},{"id":"495c213.82ae9e","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"a676754.6a79888","order":6,"width":"3","height":"1","passthru":false,"label":"Apagar","tooltip":"","color":"","bgcolor":"","icon":"fa-power-off","payload":"181,89,12,32,12,32,12,10,12,10,12,10,12,10,11,10,12,33,12, 9,12,10,12,32,12,10,12,32,12,32,12,33,11,32,12,10,12,32,12,32,12,32,12,10,12,10,12,32,12,10,12,32,12,10,12,10,11,10,12,32,12,32,12,10,12,32,12,783,181,89,12,32,12,32,12,10,12,10,12,10,12,10,11,10,12,33,12, 9,12,10,12,32,12,10,12,32,12,32,12,33,11,32,12,10,12,32,12,32,12,32,12,10,12,10,12,32,12,10,12,32,12,10,12,10,11,10,12,32,12,32,12,10,12,32,12,783","payloadType":"str","topic":"","x":200,"y":540,"wires":[["12954b05.ef1bd5"]]},{"id":"dea05145.83588","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"a676754.6a79888","order":1,"width":"3","height":"1","passthru":true,"label":"Subir","tooltip":"","color":"","bgcolor":"","icon":"fa-arrow-up","payload":"","payloadType":"str","topic":"","x":230,"y":180,"wires":[["22ed0059.f7bab"]]},{"id":"8be774a4.192e38","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"a676754.6a79888","order":2,"width":"3","height":"1","passthru":true,"label":"Bajar","tooltip":"","color":"","bgcolor":"","icon":"fa-arrow-down","payload":"","payloadType":"str","topic":"","x":230,"y":40,"wires":[["ef07a12.2a0f46"]]},{"id":"d60eac.212d8158","type":"link out","z":"c5b2ea55.84d058","name":"","links":["5e8f92df.a3fa2c","b31906b3.858ef8"],"x":1175,"y":200,"wires":[]},{"id":"26f8115c.6b657e","type":"link out","z":"c5b2ea55.84d058","name":"","links":["58568a39.50a6d4"],"x":1215,"y":360,"wires":[]},{"id":"6055a41.50a7f5c","type":"link in","z":"c5b2ea55.84d058","name":"Apagar Todo IR Living","links":["4b6c144e.3a0a8c","5f169587.07a31c","d87b7cfd.51b71"],"x":815,"y":220,"wires":[["997e5173.6c95d","956af814.8e0e78","24f9bd91.b9d4b2","744d68f5.52b7b8"]]},{"id":"997e5173.6c95d","type":"delay","z":"c5b2ea55.84d058","name":"","pauseType":"delay","timeout":"4","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":960,"y":240,"wires":[["d60eac.212d8158"]]},{"id":"956af814.8e0e78","type":"delay","z":"c5b2ea55.84d058","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":960,"y":400,"wires":[["26f8115c.6b657e"]]},{"id":"24f9bd91.b9d4b2","type":"delay","z":"c5b2ea55.84d058","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":960,"y":320,"wires":[["2ad750f0.7a56e"]]},{"id":"2ad750f0.7a56e","type":"link out","z":"c5b2ea55.84d058","name":"","links":["abd1cb9f.c69ab8"],"x":1135,"y":480,"wires":[]},{"id":"744d68f5.52b7b8","type":"link out","z":"c5b2ea55.84d058","name":"","links":["ad23c6a.6bda438","8db477cd.aac3e8"],"x":960,"y":100,"wires":[]},{"id":"dfb47d02.7d201","type":"change","z":"230ac56e.bc629a","name":"Apagar Muteki","rules":[{"t":"set","p":"payload","pt":"msg","to":"48,11,24,11,24,11,24,11,12,11,24,11,24,11,12,11,12,11,12,11,24,11,12,11,12,11,12,11,12,11,12,419,48,11,24,11,24,11,24,11,12,11,24,11,24,11,12,11,12,11,12,11,24,11,12,11,12,11,12,11,12,11,12,419","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":640,"y":380,"wires":[["e14546fc.fe30c8","839efdfc.0ea32"]]},{"id":"b040e837.c30f28","type":"ui_button","z":"9bee6473.dc8598","name":"","group":"20a076b7.fe135a","order":2,"width":"3","height":"1","passthru":false,"label":"Telecentro","tooltip":"","color":"","bgcolor":"","icon":"fa-power-off","payload":"18,17,18,17,36,34,36,17,18,17,18,17,18,16,19,34,19,16,36,17,18","payloadType":"str","topic":"","x":990,"y":340,"wires":[["f4236661.eb0168"]]},{"id":"d12cc57d.dfa268","type":"ui_button","z":"230ac56e.bc629a","name":"","group":"7ad1e0a0.b2f66","order":6,"width":"3","height":"1","passthru":false,"label":"Volumen UP","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-up","payload":"49,10,13,10,25,10,13,10,13,11,24,10,13,10,13,10,13,10,13,11,12,10,13,11,25,11,24,10,13,10,13,442,49,10,13,10,25,10,13,10,13,11,24,10,13,10,13,10,13,10,13,11,12,10,13,11,25,11,24,10,13,10,13,442","payloadType":"str","topic":"","x":390,"y":640,"wires":[["8a314981.e48488"]]},{"id":"800b8d3.d14977","type":"ui_button","z":"230ac56e.bc629a","name":"","group":"7ad1e0a0.b2f66","order":5,"width":"3","height":"1","passthru":false,"label":"Volumen Down","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-down","payload":"49,10,25,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,12,10,13,10,13,10,25,10,25,10,13,10,13,430,49,10,25,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,12,10,13,10,13,10,25,10,25,10,13,10,13,430","payloadType":"str","topic":"","x":400,"y":800,"wires":[["a9c28ecf.eab8f"]]},{"id":"e7d74a7e.0edf38","type":"ui_button","z":"295f893a.42f726","name":"","group":"913b3f65.8b281","order":1,"width":0,"height":0,"passthru":false,"label":"Vent Super Bajo","tooltip":"","color":"","bgcolor":"","icon":"","payload":"88,87,11,31,11,10,11,32,11,31,11,10,11,10,11,31,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,10,11,31,12,32,11,10,11,32,11,32,11,31,11,31,11,32,11,31,11,10,11,32,11,9,12,10,11,10,11,10,11,10,11,10,11,32,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,10,11,10,11,10,11,32,11,31,12,10,11,31,11,31,11,104,89,86,11,32,11,9,12,32,11,31,11,10,11,10,11,31,11,10,11,10,11,32,11,10,11,10,11,32,11,32,11,10,11,31,12,31,12,10,11,32,11,31,11,31,11,31,11,31,11,31,12,10,11,31,11,10,11,10,11,10,11,10,11,10,11,10,11,31,12,31,11,32,11,10,11,10,11,31,12,10,11,10,12,10,11,10,11,10,11,31,11,31,11,10,11,31,11,32,11","payloadType":"str","topic":"","x":700,"y":340,"wires":[["66ea1ea6.f51c9"]]},{"id":"7bf2cd28.ce9dd4","type":"ui_slider","z":"295f893a.42f726","name":"","label":"Ventilador","tooltip":"","group":"7a092dd.29b3ed4","order":5,"width":"4","height":"1","passthru":true,"outs":"end","topic":"","min":"1","max":"3","step":1,"x":240,"y":640,"wires":[["30cac02e.da374"]]},{"id":"972311ac.5637","type":"ui_switch","z":"295f893a.42f726","name":"","label":"Frio","tooltip":"","group":"7a092dd.29b3ed4","order":4,"width":"2","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":250,"y":560,"wires":[["8a961b62.4e2688"]]},{"id":"ad594988.7bd4b8","type":"ui_switch","z":"295f893a.42f726","name":"","label":"Prendido","tooltip":"","group":"7a092dd.29b3ed4","order":3,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":240,"y":500,"wires":[["ed080e99.59801"]]},{"id":"8a961b62.4e2688","type":"change","z":"295f893a.42f726","name":"","rules":[{"t":"set","p":"AACLivingFrio","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":470,"y":560,"wires":[["9161da56.e95698"]]},{"id":"30cac02e.da374","type":"change","z":"295f893a.42f726","name":"","rules":[{"t":"set","p":"AACLivingVentilador","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":470,"y":640,"wires":[["9161da56.e95698"]]},{"id":"9161da56.e95698","type":"function","z":"295f893a.42f726","name":"","func":"if (global.get(\"AACLivingPrendido\") === false) {\n    return; \n}\nvar Frio = global.get(\"AACLivingFrio\");\n\n//msg.payload = global.AACLivingVentilador.Value;\nswitch(global.get(\"AACLivingVentilador\")) {\n  case 1:\n      if (Frio === true)\n      {msg.payload = \"88,87,11,31,11,10,11,32,11,31,11,10,11,10,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,32,11,10,11,31,12,10,11,32,11,32,11,31,11,32,11,10,11,32,11,31,12,31,11,10,11,10,11,10,11,10,11,31,11,10,11,10,11,31,11,32,11,32,11,10,11,10,11,9,12,10,11,10,11,10,11,10,11,10,11,32,11,31,11,32,11,32,11,32,11,103,88,86,11,32,11,10,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,32,11,10,11,32,11,10,11,32,11,32,11,31,12,32,11,10,11,32,11,31,12,32,11,10,11,10,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,32,11,10,11,10,11,9,11,10,11,10,12,10,11,10,11,10,11,32,11,32,11,32,11,32,11,31,12\";}\n      else\n      {msg.payload = \"88,87,11,31,11,10,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,10,11,32,11,32,11,10,11,10,11,31,11,31,11,32,11,31,12,32,11,10,11,31,11,30,12,10,11,10,11,10,11,10,11,10,11,31,12,32,11,32,11,10,11,10,11,31,11,10,11,10,11,10,11,10,11,10,11,32,11,32,11,10,11,32,11,32,11,103,89,87,11,31,12,10,11,32,11,32,11,10,11,10,11,31,11,10,11,10,11,32,11,10,11,10,11,31,12,31,11,10,11,32,11,32,11,10,11,10,11,31,11,31,11,31,11,31,11,31,11,10,11,31,11,31,11,10,11,10,11,10,11,10,11,9,12,32,11,31,11,32,11,10,11,10,11,31,11,10,11,10,11,10,11,10,11,10,11,32,11,31,11,10,11,32,11,31,12\";}\n    break;\n  case 2:\n      if (Frio === true)\n      {msg.payload = \"88,86,11,31,11,10,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,10,11,32,11,10,11,32,11,10,11,32,11,32,11,32,11,32,11,32,11,31,11,10,11,31,11,10,11,10,11,10,11,10,11,10,11,10,11,31,11,10,11,10,11,10,11,10,11,9,12,10,11,31,11,10,11,31,11,32,11,32,11,32,11,32,11,31,11,103,88,86,11,32,11,10,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,10,11,10,11,31,11,31,12,10,11,32,11,10,11,31,11,10,11,32,11,32,11,32,11,32,11,32,11,31,11,10,11,32,11,10,11,10,11,10,11,10,11,10,11,9,11,32,11,10,11,10,11,10,11,10,11,10,11,10,11,32,11,10,11,32,11,32,11,32,11,32,11,32,11,32,11\";}\n      else\n      {msg.payload = \"87,87,11,32,11,10,11,31,12,32,11,10,11,10,11,32,11,10,11,10,11,31,12,10,11,10,11,32,11,32,11,10,11,32,11,10,11,31,11,10,11,32,11,32,11,31,11,31,11,32,11,32,11,10,11,32,11,10,11,10,11,10,11,10,11,10,11,32,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,10,11,9,12,10,11,32,11,32,11,10,11,31,12,32,11,104,89,87,11,32,11,10,11,32,11,32,11,10,11,9,12,32,11,10,11,10,11,32,11,10,11,10,11,32,11,32,11,10,11,32,11,9,11,32,11,10,11,31,12,31,11,31,11,32,11,32,11,32,11,9,12,32,11,9,12,10,11,10,11,10,11,10,11,32,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,10,11,10,11,10,11,31,11,32,11,10,11,32,11,32,11\";}\n    break;\n  case 3:\n      if (Frio === true)\n      {msg.payload = \"88,87,11,32,11,10,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,32,11,10,11,32,11,10,11,10,11,32,11,32,11,32,11,32,11,32,11,32,11,31,11,32,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,32,11,10,11,10,11,10,11,10,11,10,11,10,11,31,11,10,11,32,11,31,11,32,11,32,11,32,11,31,12,103,88,86,11,32,11,10,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,10,11,10,11,32,11,32,11,10,11,32,11,10,11,10,11,32,11,32,11,32,11,31,11,32,11,32,11,32,11,32,11,10,11,10,11,9,12,10,11,10,11,10,11,10,11,32,11,10,11,10,11,10,11,9,11,10,11,10,12,32,11,10,11,32,11,32,11,32,11,32,11,32,11,32,11\";}\n      else\n      {msg.payload = \"88,87,11,31,11,10,11,32,11,31,11,10,11,10,11,32,11,10,11,10,11,32,11,10,11,9,12,31,12,31,11,10,11,31,12,10,11,10,11,32,11,32,11,31,11,31,11,31,11,32,11,32,11,32,11,9,12,9,12,10,11,10,11,10,11,10,11,32,11,31,11,31,12,10,11,10,11,31,11,10,11,10,11,10,11,9,11,10,11,31,12,31,11,10,11,32,11,32,11,104,89,86,11,31,11,10,11,32,11,32,11,9,12,9,12,31,11,10,11,10,11,32,11,10,11,10,11,32,11,32,11,9,12,31,11,9,12,10,11,32,11,32,11,32,11,32,11,32,11,31,12,31,11,31,12,9,12,10,11,10,11,10,11,10,11,10,11,32,11,31,11,32,11,10,11,9,11,32,11,10,11,10,11,10,11,10,11,10,11,32,11,31,11,10,11,32,11,32,11\";}\n    break;\n  default:\n    // code block\n}\n    return msg;","outputs":1,"noerr":0,"x":830,"y":580,"wires":[["66ea1ea6.f51c9"]]},{"id":"ed080e99.59801","type":"change","z":"295f893a.42f726","name":"","rules":[{"t":"set","p":"AACLivingPrendido","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":500,"wires":[["f15b031a.7478b"]]},{"id":"f15b031a.7478b","type":"switch","z":"295f893a.42f726","name":"Prendido","property":"payload","propertyType":"msg","rules":[{"t":"false"},{"t":"true"}],"checkall":"true","repair":false,"outputs":2,"x":660,"y":500,"wires":[["6469230a.5002ac"],["9161da56.e95698"]]},{"id":"dd172b82.ab38f8","type":"ui_template","z":"230ac56e.bc629a","group":"7ad1e0a0.b2f66","name":"Subir Volumen","order":9,"width":"3","height":"1","format":"<script>\nthis.scope.on = {payload: \"49,10,13,10,25,10,13,10,13,11,24,10,13,10,13,10,13,10,13,11,12,10,13,11,25,11,24,10,13,10,13,442,49,10,13,10,25,10,13,10,13,11,24,10,13,10,13,10,13,10,13,11,12,10,13,11,25,11,24,10,13,10,13,442\"};\nthis.scope.off = {payload: 0};\n</script>\n<md-button\n   ng-touchstart=\"send(on)\"\n   ng-mousedown=\"send(on)\"\n   ng-touchend=\"send(off)\"\n   ng-mouseup=\"send(off)\">\n       Subir Volumen\n</md-button>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":320,"y":520,"wires":[["d29e1a1d.6ab168"]]},{"id":"117f85b.b675a7a","type":"ui_template","z":"230ac56e.bc629a","group":"a95b4552.f7fa88","name":"","order":4,"width":0,"height":0,"format":"<style>\n.nr-dashboard-template\n{\n    padding: 0px 0px    \n}\n.md-button{\n    height: 48px;\n}\n</style>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"global","x":180,"y":300,"wires":[[]]},{"id":"d29e1a1d.6ab168","type":"trigger","z":"230ac56e.bc629a","op1":"","op2":"0","op1type":"pay","op2type":"str","duration":"-500","extend":false,"units":"ms","reset":"0","bytopic":"all","name":"","x":620,"y":500,"wires":[["e14546fc.fe30c8"]]},{"id":"dfb14418.91ee08","type":"ui_template","z":"230ac56e.bc629a","group":"7ad1e0a0.b2f66","name":"Bajar Volumen","order":8,"width":"3","height":"1","format":"<script>\nthis.scope.on = {payload: \"49,10,25,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,12,10,13,10,13,10,25,10,25,10,13,10,13,430,49,10,25,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,12,10,13,10,13,10,25,10,25,10,13,10,13,430\"};\nthis.scope.off = {payload: 0};\n</script>\n<md-button\n   ng-touchstart=\"send(on)\"\n   ng-mousedown=\"send(on)\"\n   ng-touchend=\"send(off)\"\n   ng-mouseup=\"send(off)\">\n       Subir Volumen\n</md-button>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":320,"y":480,"wires":[["d29e1a1d.6ab168"]]},{"id":"8af43110.2bdf2","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"a676754.6a79888","order":6,"width":"3","height":"1","passthru":false,"label":"Mute","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-off","payload":"182,88,12,32,12,32,12,10,12,10,12,9,12,10,12,9,12,32,12,10,12,10,12,32,12,10,12,32,12,32,12,32,12,32,12,10,12,32,12,32,12,32,12,10,12,10,12,32,12,10,12,32,12,10,12,10,12,10,12,32,12,32,12,10,12,32,12, 9,12,10,12,32,12,10,12,32,12,32,12,33,11,32,12,10,12,32,12,32,12,32,12,10,12,10,12,32,12,10,12,32,12,10,12,10,11,10,12,32,12,32,12,10,12,32,12,783,181,89,12,32,12,32,12,10,12,10,12,10,12,10,11,10,12,33,12, 9,12,10,12,32,12,10,12,32,12,32,12,33,11,32,12,10,12,32,12,32,12,32,12,10,12,10,12,32,12,10,12,32,12,10,12,10,11,10,12,32,12,32,12,10,12,32,12,783","payloadType":"str","topic":"","x":470,"y":680,"wires":[["9530ba68.b56d08"]]},{"id":"76741a46.ec1784","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Subwoofers","tooltip":"","group":"7ad1e0a0.b2f66","order":4,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBLiving/in/Relay/26","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1030,"y":740,"wires":[["8591f331.53aaf"]]},{"id":"632bbf3f.f4a89","type":"ui_button","z":"295f893a.42f726","name":"","group":"7a092dd.29b3ed4","order":1,"width":"3","height":"1","passthru":false,"label":"Apagar","tooltip":"","color":"","bgcolor":"","icon":"fa-power-off","payload":"89,86,11,31,11,10,11,32,11,32,11,10,11,10,11,31,11,10,12,10,11,32,11,10,11,10,11,31,11,32,11,10,11,32,11,10,11,31,12,32,11,31,11,32,11,10,11,32,11,32,11,31,11,10,11,10,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,31,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,31,11,32,11,32,11,32,11,32,12,103,89,86,11,32,11,10,11,32,11,32,11,10,11,10,11,32,11,10,11,10,11,31,11,10,11,10,11,32,11,32,11,10,11,32,11,10,11,32,11,32,11,32,11,32,11,10,11,32,11,32,11,31,11,10,11,10,11,10,11,10,11,32,11,10,11,10,11,31,11,32,11,32,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,32,11,32,11,32,11,32,11,32,11","payloadType":"str","topic":"","x":680,"y":280,"wires":[["66ea1ea6.f51c9"]]},{"id":"39f5845a.1a619c","type":"ui_switch","z":"9bee6473.dc8598","name":"","label":"TV Pieza","tooltip":"","group":"20a076b7.fe135a","order":1,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":760,"y":340,"wires":[["904ba9a9.7982b8"]]},{"id":"2c69a6ee.42f82a","type":"mqtt out","z":"235e5af0.561006","name":"Luz Patio (36)","topic":"Arduino/PBTablero/in/Relay/36","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1140,"y":700,"wires":[],"inputLabels":["kkl"]},{"id":"dbcfdb9c.cc17f8","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"str","op2type":"str","duration":"20","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":890,"y":600,"wires":[["b31bef.2987d41"]]},{"id":"b31bef.2987d41","type":"mqtt out","z":"235e5af0.561006","name":"Luz Vestidor (34)","topic":"Arduino/PBTablero/in/Relay/34","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1150,"y":620,"wires":[],"inputLabels":["kkl"]},{"id":"d32cb70a.b7fcf8","type":"function","z":"2228dc2c.99e004","name":"Setear Fecha","func":"var topics = msg.topic.split(\"/\");\nmsg.Mac = topics[3];\nmsg.Router = topics[1];\nreturn msg;","outputs":1,"noerr":0,"x":400,"y":180,"wires":[["3f936b5f.fd8514"]]},{"id":"511b6daa.89fb74","type":"mqtt in","z":"2228dc2c.99e004","name":"Eventos  Wifi","topic":"OpenWrt/+/status/+/event","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":170,"y":140,"wires":[["d32cb70a.b7fcf8"]]},{"id":"c116c286.819b9","type":"debug","z":"2228dc2c.99e004","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":1130,"y":200,"wires":[]},{"id":"3f936b5f.fd8514","type":"switch","z":"2228dc2c.99e004","name":"","property":"Mac","propertyType":"msg","rules":[{"t":"eq","v":"mac-b8-d7-af-b0-e2-9d","vt":"str"},{"t":"eq","v":"mac-38-80-df-18-15-ec","vt":"str"}],"checkall":"false","repair":false,"outputs":2,"x":630,"y":200,"wires":[["390ccb8f.d92d64"],["efb30fd2.69a57"]],"outputLabels":["Chicho","Babu"]},{"id":"390ccb8f.d92d64","type":"function","z":"2228dc2c.99e004","name":"Chicho","func":"msg.Device = \"Chicho\";\nreturn msg;","outputs":1,"noerr":0,"x":800,"y":160,"wires":[["3566f1c8.7d56fe"]]},{"id":"efb30fd2.69a57","type":"function","z":"2228dc2c.99e004","name":"Babu","func":"msg.Device = \"Babu\";\nreturn msg;","outputs":1,"noerr":0,"x":790,"y":220,"wires":[["3566f1c8.7d56fe"]]},{"id":"3566f1c8.7d56fe","type":"function","z":"2228dc2c.99e004","name":"Logica","func":"\nglobal.set(\"Pres/\" + msg.Device + \"/LastSeen\",new Date());\nglobal.set(\"Pres/\" + msg.Device + \"/Ubicacion\",msg.Router);\nif (msg.payload == \"new\")\n{global.set(\"Pres/\" + msg.Device + \"/Presente\",true);}\nelse\n{global.set(\"Pres/\" + msg.Device + \"/Presente\",false);}\nreturn msg;","outputs":1,"noerr":0,"x":950,"y":200,"wires":[["c116c286.819b9"]]},{"id":"b9bbf481.68b538","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"837d3079.305cd","order":14,"width":0,"height":0,"passthru":false,"label":"Apagar Todo Living","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":370,"y":320,"wires":[["6abe0d5b.91b464"]]},{"id":"6abe0d5b.91b464","type":"link out","z":"c5b2ea55.84d058","name":"","links":["d8ffd3b2.e534f"],"x":515,"y":320,"wires":[]},{"id":"833100a0.e5f0c","type":"link in","z":"bb63d718.931208","name":"Apagar Luces Living","links":["b5514a52.2ccb08"],"x":815,"y":960,"wires":[["3da337a9.1afa28"]]},{"id":"3da337a9.1afa28","type":"function","z":"bb63d718.931208","name":"Apagar Luces Living","func":"msg.payload = \"0\";\nreturn msg;","outputs":1,"noerr":0,"x":960,"y":1080,"wires":[["104f8203.015b3e","d58fafa8.afc3a","1159aa54.7e9ad6","48b04e6.93c95b","889bd440.0cc928","13259406.fd9c8c"]]},{"id":"5bd4377.58992c8","type":"mqtt in","z":"2228dc2c.99e004","name":"Eventos  Wifi","topic":"OpenWrt/+/status/+/","qos":"2","broker":"1ad27743.ce9fb9","x":150,"y":220,"wires":[["aa2c1124.bac7d"]]},{"id":"aa2c1124.bac7d","type":"debug","z":"2228dc2c.99e004","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":370,"y":260,"wires":[]},{"id":"5a4f955.6654c6c","type":"mqtt in","z":"5f9dfcc6.ecd504","name":"Teclas Living IR 1 (37)","topic":"Arduino/PBTablero/out/Button/37/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":660,"y":220,"wires":[["944b10bd.cc3db"]]},{"id":"cf5fc8c1.df8f18","type":"mqtt in","z":"5f9dfcc6.ecd504","name":"Teclas Living IR 1 (35)","topic":"Arduino/PBTablero/out/Button/35/toggle","qos":"2","broker":"1ad27743.ce9fb9","x":660,"y":300,"wires":[["44ff1040.92ccc"]]},{"id":"944b10bd.cc3db","type":"function","z":"5f9dfcc6.ecd504","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":220,"wires":[[]]},{"id":"44ff1040.92ccc","type":"function","z":"5f9dfcc6.ecd504","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":990,"y":300,"wires":[[]]},{"id":"455fd92c.9203e8","type":"subflow:5f9dfcc6.ecd504","z":"bb63d718.931208","name":"","x":1540,"y":380,"wires":[["59689478.9b6c0c"],["8a49d2e9.5f9e2"]]},{"id":"d8ffd3b2.e534f","type":"link in","z":"c5b2ea55.84d058","name":"Apagar Todo Living","links":["6abe0d5b.91b464","8a49d2e9.5f9e2","2c6a112c.8fd2ae"],"x":575,"y":260,"wires":[["b5514a52.2ccb08","25b13e03.853852","4b6c144e.3a0a8c","c801211d.69393"]]},{"id":"b5514a52.2ccb08","type":"link out","z":"c5b2ea55.84d058","name":"","links":["833100a0.e5f0c"],"x":675,"y":320,"wires":[]},{"id":"4b6c144e.3a0a8c","type":"link out","z":"c5b2ea55.84d058","name":"","links":["6055a41.50a7f5c"],"x":715,"y":240,"wires":[]},{"id":"8a49d2e9.5f9e2","type":"link out","z":"bb63d718.931208","name":"","links":["d8ffd3b2.e534f"],"x":1675,"y":400,"wires":[]},{"id":"168fd1b0.3e5f9e","type":"function","z":"2bcc0ccb.cd26a4","name":"Invertir","func":"msg.payload = Math.round(1024 - msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":540,"wires":[["f85b7a96.dd6998"]]},{"id":"10fcbb19.64efb5","type":"mqtt in","z":"2bcc0ccb.cd26a4","name":"Lluvia  (A15 Naranja","topic":"Arduino/PBLiving/out/Sensores/Analog/15","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":150,"y":160,"wires":[["ee5705ab.f79a48","214d3c34.0ed094"]]},{"id":"e6661dc0.44827","type":"ui_gauge","z":"2bcc0ccb.cd26a4","name":"","group":"d94a4634.32b858","order":1,"width":0,"height":0,"gtype":"gage","title":"Lluvia","label":"units","format":"{{value}}","min":0,"max":"100","colors":["#000000","#01928a","#166dfe"],"seg1":"30","seg2":"70","x":890,"y":160,"wires":[]},{"id":"5020374e.25b588","type":"mqtt in","z":"611d2ba5.389f94","name":"Teclas Living Der 1 (35) (UTP Negro Naranja Claro)","topic":"Arduino/PBLiving/out/Button/35/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":250,"y":320,"wires":[["7f58764.5ff8288"]]},{"id":"7f58764.5ff8288","type":"function","z":"611d2ba5.389f94","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":320,"wires":[[]]},{"id":"7b4f0659.b9ec28","type":"mqtt in","z":"611d2ba5.389f94","name":"Encoder 0 (13)","topic":"Arduino/PBLiving/out/Encoder/0/value","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":280,"y":420,"wires":[["5c9fdad1.e0a4e4"]]},{"id":"3c9c2a81.108fc6","type":"mqtt in","z":"611d2ba5.389f94","name":"Encoder 1 (14)","topic":"Arduino/PBLiving/out/Encoder/1/value","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":320,"y":540,"wires":[["99cf7cac.7f194"]]},{"id":"2462dea6.9d2f92","type":"subflow:611d2ba5.389f94","z":"75f22ec1.216f","name":"","env":[],"x":300,"y":300,"wires":[["b96f3183.63427"],["b4ead4ce.3b6be8"],["efb462ab.601b6"],["efb462ab.601b6"],["23b035d0.b0b8ea","6b13299.94ad3d8"],["563f64e3.0f82dc"]]},{"id":"fba26c2c.32ce9","type":"change","z":"611d2ba5.389f94","name":"","rules":[{"t":"set","p":"Pote1","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":420,"wires":[["c0feff95.cf193"]]},{"id":"256f449a.6123fc","type":"function","z":"57b26073.47916","name":"Inicializar","func":"var topics = msg.topic.split(\"/\");\nif (topics[0].toUpperCase() == \"ARDUINO\")\n{\n    msg.ip = msg.topic;\n    msg.topic = \"Arduino/\" + topics[1] + \"/in/\";\n    msg.ArduinoName = \"Arduino/\" + topics[1];\n    msg.host = msg.payload;\n    global.set(msg.ArduinoName,msg.payload);\n    return msg;    \n}\n","outputs":1,"noerr":0,"x":460,"y":440,"wires":[["afdbb2b3.a8ce","dcb90eac.3ec2d","e6346b2a.c7a8f8","99f128b8.8258f8","4a233454.2c259c","690ec881.6b6488"]]},{"id":"afdbb2b3.a8ce","type":"function","z":"57b26073.47916","name":"MaxDev","func":"msg.topic = msg.topic + \"Sensores/MAXDEV\";\nmsg.payload = 20;\nreturn msg;","outputs":1,"noerr":0,"x":710,"y":380,"wires":[["c1566fcc.e4eaa"]]},{"id":"dcb90eac.3ec2d","type":"function","z":"57b26073.47916","name":"Milis","func":"msg.topic = msg.topic + \"Sensores/MILIS\";\nmsg.payload = 50;\nreturn msg;","outputs":1,"noerr":0,"x":710,"y":440,"wires":[["c1566fcc.e4eaa"]]},{"id":"e6346b2a.c7a8f8","type":"function","z":"57b26073.47916","name":"Noise Milis","func":"msg.topic = msg.topic + \"Relay/NOISEMILLIS\";\nmsg.payload = 30;\nreturn msg;","outputs":1,"noerr":0,"x":710,"y":480,"wires":[["c1566fcc.e4eaa"]]},{"id":"666818ba.645868","type":"debug","z":"57b26073.47916","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":450,"y":520,"wires":[]},{"id":"940ec39d.c1b34","type":"ui_chart","z":"2bcc0ccb.cd26a4","name":"","group":"d94a4634.32b858","order":2,"width":0,"height":0,"label":"Lluvia","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":890,"y":80,"wires":[[]]},{"id":"296d7504.367dca","type":"range","z":"2bcc0ccb.cd26a4","minin":"0","maxin":"1024","minout":"0","maxout":"100","action":"scale","round":true,"property":"payload","name":"","x":470,"y":160,"wires":[["e6661dc0.44827","fe6efba7.7188a8","dd1bf912.b28218"]]},{"id":"1ad21b50.4914b5","type":"mqtt in","z":"930c94d9.38ece8","name":"Tablero Volts (A3)","topic":"Arduino/PBTablero/out/Sensores/Analog/Max/3","qos":"2","broker":"1ad27743.ce9fb9","x":190,"y":240,"wires":[["20d46931.130a56","3dc8b540.d71e8a"]]},{"id":"8f6f577a.10d278","type":"ui_gauge","z":"930c94d9.38ece8","name":"","group":"a9d3b0bb.e316c","order":1,"width":0,"height":0,"gtype":"gage","title":"Volts","label":"units","format":"{{value}}","min":0,"max":"400","colors":["#ff0404","#00d505","#ff1515"],"seg1":"200","seg2":"240","x":850,"y":180,"wires":[]},{"id":"37a28d45.077482","type":"ui_chart","z":"930c94d9.38ece8","name":"","group":"a9d3b0bb.e316c","order":2,"width":0,"height":0,"label":"Volts","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"160","ymax":"240","removeOlder":"6","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":850,"y":220,"wires":[[]]},{"id":"20d46931.130a56","type":"range","z":"930c94d9.38ece8","minin":"689","maxin":"702","minout":"199","maxout":"208","action":"scale","round":true,"property":"payload","name":"","x":380,"y":220,"wires":[["c36fed42.5c683","8f6f577a.10d278","98bbab7b.188e98"]]},{"id":"fa8577db.ecaab8","type":"mqtt in","z":"930c94d9.38ece8","name":"Tablero Amps (A12)","topic":"Arduino/PBLiving/out/Sensores/Analog/Max/12","qos":"2","broker":"1ad27743.ce9fb9","x":190,"y":340,"wires":[["5d979510.30364c","d0174328.ef71a"]]},{"id":"5d979510.30364c","type":"range","z":"930c94d9.38ece8","minin":"57","maxin":"95","minout":"9","maxout":"16.2","action":"scale","round":false,"property":"payload","name":"","x":380,"y":340,"wires":[["1acb3f3a.35b0e1"]]},{"id":"6f426f91.327b4","type":"ui_gauge","z":"930c94d9.38ece8","name":"","group":"46ccdc7e.a82334","order":1,"width":0,"height":0,"gtype":"gage","title":"Amps","label":"units","format":"{{value}}","min":0,"max":"40","colors":["#3dff04","#e2e800","#ff1515"],"seg1":"10","seg2":"20","x":850,"y":300,"wires":[]},{"id":"e9212db8.007b8","type":"ui_chart","z":"930c94d9.38ece8","name":"","group":"46ccdc7e.a82334","order":2,"width":0,"height":0,"label":"Amps","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"40","removeOlder":"6","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":2,"x":870,"y":360,"wires":[[],[]]},{"id":"1acb3f3a.35b0e1","type":"function","z":"930c94d9.38ece8","name":"Redondeo","func":"msg.payload = Math.round(msg.payload * 100) /100\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":340,"wires":[["6f426f91.327b4","b012fb74.fc3998","3f28239a.45699c"]]},{"id":"3f28239a.45699c","type":"change","z":"930c94d9.38ece8","name":"","rules":[{"t":"set","p":"Amps","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":400,"wires":[[]]},{"id":"98bbab7b.188e98","type":"change","z":"930c94d9.38ece8","name":"","rules":[{"t":"set","p":"Volts","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":280,"wires":[[]]},{"id":"e8dc009e.b6db2","type":"function","z":"930c94d9.38ece8","name":"","func":"var Watts =  Math.round(global.get(\"Amps\") * global.get(\"Volts\") * 1) /1\nglobal.set(\"Watts\",Watts)\nglobal.set(\"WattsAcumm\",global.get(\"WattsAcumm\") + Watts )\nglobal.set(\"WattsAcummCnt\",global.get(\"WattsAcummCnt\") + 1 )\nmsg.payload = Watts\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":560,"wires":[["bfac5399.e34c2","ae670c52.4acc3"]]},{"id":"6e47d63c.d243c8","type":"inject","z":"930c94d9.38ece8","name":"Watts cada 2 seg","topic":"","payload":"","payloadType":"date","repeat":"2","crontab":"","once":true,"onceDelay":"2","x":230,"y":560,"wires":[["e8dc009e.b6db2"]]},{"id":"ae670c52.4acc3","type":"ui_gauge","z":"930c94d9.38ece8","name":"","group":"8580fa9c.5b7bb8","order":1,"width":0,"height":0,"gtype":"gage","title":"Watts","label":"units","format":"{{value}}","min":0,"max":"8800","colors":["#3dff04","#e2e800","#ff1515"],"seg1":"2200","seg2":"4000","x":770,"y":540,"wires":[]},{"id":"dbdd5238.1ff37","type":"ui_chart","z":"930c94d9.38ece8","name":"","group":"8580fa9c.5b7bb8","order":3,"width":0,"height":0,"label":"Watts","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"8800","removeOlder":"6","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":2,"x":770,"y":600,"wires":[[],[]]},{"id":"8df7d439.902dd8","type":"inject","z":"930c94d9.38ece8","name":"Acumulado Watts (1 Hora)","topic":"","payload":"","payloadType":"date","repeat":"10","crontab":"","once":true,"onceDelay":"10","x":320,"y":680,"wires":[["d9abc83e.199c18"]]},{"id":"d9abc83e.199c18","type":"function","z":"930c94d9.38ece8","name":"","func":"msg.Watts = global.get(\"WattsAcumm\")\nmsg.Cnt = global.get(\"WattsAcummCnt\")\nmsg.payload = msg.Watts / 1000 * msg.Cnt / 3600\nglobal.set(\"WattsAcumm\",0)\nglobal.set(\"WattsAcummCnt\",0)\nreturn msg;","outputs":1,"noerr":0,"x":590,"y":700,"wires":[[]]},{"id":"dd1bf912.b28218","type":"switch","z":"2bcc0ccb.cd26a4","name":"Llueve?","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"10","vt":"num"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":700,"y":200,"wires":[["4ebd7094.cbca3"],["1f93b319.4b52fd"]],"outputLabels":["Llueve","No Llueve"]},{"id":"4ebd7094.cbca3","type":"function","z":"2bcc0ccb.cd26a4","name":"Llueve","func":"msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":200,"wires":[["37fc6ace.6d0736"]]},{"id":"1f93b319.4b52fd","type":"function","z":"2bcc0ccb.cd26a4","name":"No Llueve","func":"msg.payload = false;\nreturn msg;","outputs":1,"noerr":0,"x":880,"y":240,"wires":[["37fc6ace.6d0736"]]},{"id":"37fc6ace.6d0736","type":"change","z":"2bcc0ccb.cd26a4","name":"","rules":[{"t":"set","p":"Llueve","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":200,"wires":[[]]},{"id":"ce25c9cc.c5e278","type":"mqtt in","z":"2bcc0ccb.cd26a4","name":"PBTablero Humedad (DHT 6)","topic":"Arduino/PBTablero/out/Sensores/Humedad","qos":"2","broker":"1ad27743.ce9fb9","x":200,"y":820,"wires":[["7c5ce1e9.913fe"]]},{"id":"b9ca9480.6ccc18","type":"mqtt in","z":"2bcc0ccb.cd26a4","name":"PBTablero Temperatura (DHT 6)","topic":"Arduino/PBTablero/out/Sensores/Temperatura","qos":"2","broker":"1ad27743.ce9fb9","x":190,"y":920,"wires":[["37763872.59b898"]]},{"id":"65a31e25.334e4","type":"ui_gauge","z":"2bcc0ccb.cd26a4","name":"","group":"a0a12305.1eb01","order":1,"width":0,"height":0,"gtype":"gage","title":"Hum.Interior","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":870,"y":800,"wires":[]},{"id":"a9e3d6eb.6a80e8","type":"ui_gauge","z":"2bcc0ccb.cd26a4","name":"","group":"bf36a591.082a28","order":1,"width":0,"height":0,"gtype":"gage","title":"Temp. Interior","label":"C°","format":"{{value}}","min":0,"max":"50","colors":["#0400b5","#00d900","#ca3838"],"seg1":"20","seg2":"28","x":880,"y":900,"wires":[]},{"id":"1dadafa4.bc551","type":"ui_chart","z":"2bcc0ccb.cd26a4","name":"","group":"a0a12305.1eb01","order":2,"width":0,"height":0,"label":"Hum. Interior","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":870,"y":840,"wires":[[]]},{"id":"6e9a3fb6.399f7","type":"ui_chart","z":"2bcc0ccb.cd26a4","name":"","group":"bf36a591.082a28","order":2,"width":0,"height":0,"label":"Temp. Interior","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"40","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":880,"y":940,"wires":[[]]},{"id":"5ed0165c.70af78","type":"function","z":"2bcc0ccb.cd26a4","name":"Redondeo","func":"msg.payload = Math.round(msg.payload * 100) /100\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":820,"wires":[["65a31e25.334e4","1dadafa4.bc551"]]},{"id":"aa8f6735.e01e68","type":"function","z":"2bcc0ccb.cd26a4","name":"Redondeo","func":"msg.payload = Math.round(msg.payload * 100) /100\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":920,"wires":[["a9e3d6eb.6a80e8","6e9a3fb6.399f7"]]},{"id":"c1046727.893738","type":"function","z":"235e5af0.561006","name":"Setear Fecha","func":"global.set(msg.topic,new Date())\nreturn msg;","outputs":1,"noerr":0,"x":880,"y":60,"wires":[[]]},{"id":"9b693f6f.31219","type":"ui_led","z":"235e5af0.561006","group":"b32fa3e9.f2b7f","order":2,"width":"","height":"","label":"Entrada","colorForValue":[{"color":"grey","value":"0","valueType":"num"},{"color":"red","value":"1","valueType":"num"}],"name":"Entrada","x":1040,"y":180,"wires":[]},{"id":"8f6a9ccd.2311f","type":"ui_led","z":"235e5af0.561006","group":"b32fa3e9.f2b7f","order":1,"width":"","height":"","label":"Vestidor","colorForValue":[{"color":"grey","value":"0","valueType":"num"},{"color":"red","value":"1","valueType":"num"}],"name":"Vestidor","x":1040,"y":240,"wires":[]},{"id":"8439a120.efd7a","type":"ui_led","z":"235e5af0.561006","group":"b32fa3e9.f2b7f","order":3,"width":"","height":"","label":"Patio","colorForValue":[{"color":"grey","value":"0","valueType":"num"},{"color":"red","value":"1","valueType":"num"}],"name":"Patio","x":1030,"y":300,"wires":[]},{"id":"d7d423b9.36639","type":"ui_led","z":"235e5af0.561006","group":"b32fa3e9.f2b7f","order":2,"width":"0","height":"0","label":"Living","colorForValue":[{"color":"grey","value":"0","valueType":"num"},{"color":"red","value":"1","valueType":"num"}],"name":"Living","x":1030,"y":120,"wires":[]},{"id":"e461d76a.7c5508","type":"aggregator","z":"2bcc0ccb.cd26a4","name":"","topic":"","intervalCount":"10","intervalUnits":"m","submitIncompleteInterval":true,"submitPerTopic":false,"aggregationType":"median","x":430,"y":720,"wires":[["bb444bfc.865658"]]},{"id":"65dfdee.897542","type":"aggregator","z":"2bcc0ccb.cd26a4","name":"","topic":"","intervalCount":"5","intervalUnits":"m","submitIncompleteInterval":true,"submitPerTopic":false,"aggregationType":"median","x":430,"y":420,"wires":[["8dcdadb5.5986a","21d4f582.ba380a"]]},{"id":"916270e7.2af48","type":"aggregator","z":"2bcc0ccb.cd26a4","name":"","topic":"","intervalCount":"10","intervalUnits":"m","submitIncompleteInterval":true,"submitPerTopic":false,"aggregationType":"median","x":430,"y":620,"wires":[["64b05186.0423d"]]},{"id":"bcbb6657.4c8658","type":"aggregator","z":"57b26073.47916","name":"","topic":"","intervalCount":"3","intervalUnits":"m","submitIncompleteInterval":true,"aggregationType":"median","x":690,"y":200,"wires":[["fc293a26.b43738"]]},{"id":"fe6efba7.7188a8","type":"aggregator","z":"2bcc0ccb.cd26a4","name":"","topic":"","intervalCount":"5","intervalUnits":"m","submitIncompleteInterval":true,"submitPerTopic":false,"aggregationType":"median","x":690,"y":80,"wires":[["940ec39d.c1b34"]]},{"id":"c36fed42.5c683","type":"aggregator","z":"930c94d9.38ece8","name":"","topic":"","intervalCount":"5","intervalUnits":"m","submitIncompleteInterval":true,"aggregationType":"median","x":590,"y":240,"wires":[["37a28d45.077482","314720f3.9b082"]]},{"id":"b012fb74.fc3998","type":"aggregator","z":"930c94d9.38ece8","name":"","topic":"","intervalCount":"5","intervalUnits":"m","submitIncompleteInterval":true,"aggregationType":"median","x":730,"y":360,"wires":[["e9212db8.007b8","8a095048.19b19"]]},{"id":"bfac5399.e34c2","type":"aggregator","z":"930c94d9.38ece8","name":"","topic":"","intervalCount":"5","intervalUnits":"m","submitIncompleteInterval":true,"aggregationType":"median","x":610,"y":600,"wires":[["dbdd5238.1ff37","f4e26607.719868"]]},{"id":"37763872.59b898","type":"aggregator","z":"2bcc0ccb.cd26a4","name":"","topic":"","intervalCount":"10","intervalUnits":"m","submitIncompleteInterval":true,"aggregationType":"median","x":430,"y":920,"wires":[["aa8f6735.e01e68"]]},{"id":"7c5ce1e9.913fe","type":"aggregator","z":"2bcc0ccb.cd26a4","name":"","topic":"","intervalCount":"10","intervalUnits":"m","submitIncompleteInterval":true,"aggregationType":"median","x":430,"y":820,"wires":[["5ed0165c.70af78"]]},{"id":"849b3d9f.dee7d","type":"wake on lan","z":"d0c77eb4.886e7","mac":"E0:D5:5E:47:F3:C1","host":"","name":"PC","x":1270,"y":200,"wires":[]},{"id":"725ae951.b61ef8","type":"Invert","z":"2bcc0ccb.cd26a4","name":"Invert","x":1270,"y":400,"wires":[["133875fc.e712aa"]]},{"id":"30af2ac7.545406","type":"cpu","z":"57b26073.47916","name":"","msgCore":false,"msgOverall":true,"msgArray":false,"msgTemp":false,"x":470,"y":140,"wires":[["d54f36f1.b089c8","bcbb6657.4c8658","a56361ed.9dd4b","b3fdab3a.bd2478"]]},{"id":"b410c2af.58d16","type":"exec","z":"57b26073.47916","command":"sudo reboot","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":1470,"y":220,"wires":[[],[],[]]},{"id":"3117ea96.c88406","type":"ui_button","z":"57b26073.47916","name":"","group":"bee8228d.0d274","order":6,"width":0,"height":0,"passthru":false,"label":"Reboot PI","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1200,"y":220,"wires":[["b410c2af.58d16"]]},{"id":"26b5d5e4.443c7a","type":"mqtt in","z":"57b26073.47916","name":"","topic":"RPI/out/Temp","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":250,"y":260,"wires":[["332b510e.70fdde","61facc6b.816ac4"]]},{"id":"332b510e.70fdde","type":"aggregator","z":"57b26073.47916","name":"","topic":"","intervalCount":"3","intervalUnits":"m","submitIncompleteInterval":true,"aggregationType":"median","x":450,"y":260,"wires":[["a12395e1.7c2288"]]},{"id":"c81d7a30.a3fa68","type":"trigger","z":"57b26073.47916","op1":"","op2":"","op1type":"date","op2type":"date","duration":"5","extend":false,"units":"s","reset":"","bytopic":"topic","name":"","x":740,"y":720,"wires":[["99f128b8.8258f8"]]},{"id":"61d6c495.e7e54c","type":"switch","z":"57b26073.47916","name":"Responde Ping?","property":"payload","propertyType":"msg","rules":[{"t":"false"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":920,"y":660,"wires":[["ae85b6d5.63f218"],["850a633f.0f152"]]},{"id":"ae85b6d5.63f218","type":"function","z":"57b26073.47916","name":"Arduino Down","func":"global.set(msg.ArduinoName + \"Up\",false);\nmsg.payload = false;\nmsg.LastSeen = global.get(msg.ArduinoName + \"/LastSeen\");\nreturn msg;","outputs":1,"noerr":0,"x":1120,"y":640,"wires":[["4400bfce.99dee"]]},{"id":"850a633f.0f152","type":"function","z":"57b26073.47916","name":"Arduino Up","func":"global.set(msg.ArduinoName + \"/Up\",true);\nglobal.set(msg.ArduinoName + \"/LastSeen\",new Date());\nmsg.payload = true;\nmsg.LastSeen = new Date();\nreturn msg;","outputs":1,"noerr":0,"x":1110,"y":680,"wires":[["4400bfce.99dee"]]},{"id":"4400bfce.99dee","type":"switch","z":"57b26073.47916","name":"","property":"ArduinoName","propertyType":"msg","rules":[{"t":"eq","v":"Arduino/PBLiving","vt":"str"},{"t":"eq","v":"Arduino/PBTablero","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1310,"y":660,"wires":[["47c94d3b.a152b4"],["b9d2771b.9cefd8"]],"outputLabels":["PBLiving","PBTablero"]},{"id":"47c94d3b.a152b4","type":"ui_led","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":5,"width":0,"height":0,"label":"PBLiving Red","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"PBLiving","x":1440,"y":640,"wires":[]},{"id":"b9d2771b.9cefd8","type":"ui_led","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":10,"width":0,"height":0,"label":"PBTablero Red","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"PBTablero","x":1450,"y":680,"wires":[]},{"id":"b492275e.fcfe48","type":"ui_text","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":7,"width":0,"height":0,"name":"PBLiving","label":"LastSeen","format":"{{msg.LastSeen}}","layout":"row-spread","x":1480,"y":800,"wires":[]},{"id":"a56361ed.9dd4b","type":"ui_level","z":"57b26073.47916","group":"bee8228d.0d274","order":1,"width":0,"height":0,"name":"CPU","label":"CPU","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"%","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"off","shape":"1","colorschema":"fixed","x":670,"y":80,"wires":[]},{"id":"de8340ab.decd","type":"ui_text","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":12,"width":0,"height":0,"name":"PBTablero","label":"LastSeen","format":"{{msg.LastSeen}}","layout":"row-spread","x":1490,"y":920,"wires":[]},{"id":"61facc6b.816ac4","type":"ui_level","z":"57b26073.47916","group":"bee8228d.0d274","order":2,"width":0,"height":0,"name":"Temp","label":"TEMP","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"30","max":"90","segWarn":"60","segHigh":"75","unit":"C°","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"2","colorschema":"fixed","x":590,"y":300,"wires":[]},{"id":"a12395e1.7c2288","type":"ui_chart","z":"57b26073.47916","name":"","group":"bee8228d.0d274","order":5,"width":0,"height":0,"label":"Temp","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"6","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":610,"y":260,"wires":[[]]},{"id":"93cd5ec4.fea7d","type":"mqtt in","z":"57b26073.47916","name":"","topic":"RPI/out/RAM/Used","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":190,"y":360,"wires":[["31f93566.52cc4a"]]},{"id":"7109ab53.eb50a4","type":"ui_level","z":"57b26073.47916","group":"bee8228d.0d274","order":3,"width":0,"height":0,"name":"RAM","label":"RAM","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"0","max":"100","segWarn":"50","segHigh":"75","unit":"%","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"3","colorschema":"fixed","x":490,"y":360,"wires":[]},{"id":"31f93566.52cc4a","type":"range","z":"57b26073.47916","minin":"0","maxin":"948304","minout":"0","maxout":"100","action":"scale","round":true,"property":"payload","name":"","x":360,"y":360,"wires":[["7109ab53.eb50a4"]]},{"id":"62dae9a4.aa8568","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":false,"onceDelay":0.1,"x":210,"y":800,"wires":[["3ff8204b.ffa2"]]},{"id":"f84d004.8528f","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Camara Patio\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":800,"wires":[["df2bf38b.0137","90373d13.5fe1b"]]},{"id":"df2bf38b.0137","type":"ui_led","z":"57b26073.47916","group":"bc362a5c.0bea88","order":1,"width":0,"height":0,"label":"Patio","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Camara Patio (51)","x":690,"y":800,"wires":[]},{"id":"c718fd9b.61a86","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":"1","x":210,"y":840,"wires":[["618d3e98.fb7ef"]]},{"id":"1b429be5.b44554","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Camara Domo\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":840,"wires":[["bed39aec.f20938","90373d13.5fe1b"]]},{"id":"bed39aec.f20938","type":"ui_led","z":"57b26073.47916","group":"bc362a5c.0bea88","order":4,"width":0,"height":0,"label":"Domo","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Camara Domo (52)","x":690,"y":840,"wires":[]},{"id":"9111e12.9b6862","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":"2","x":210,"y":880,"wires":[["af17a31c.f6b2c"]]},{"id":"8e2a259b.eb3d28","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Camara Balcon\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":880,"wires":[["a0182ac9.cb7188","90373d13.5fe1b"]]},{"id":"a0182ac9.cb7188","type":"ui_led","z":"57b26073.47916","group":"bc362a5c.0bea88","order":2,"width":0,"height":0,"label":"Balcon","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Camara Balcon (53)","x":700,"y":880,"wires":[]},{"id":"6a1e3288.ee379c","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":"3","x":160,"y":1260,"wires":[["84d831f3.da072"]]},{"id":"fb7239ab.53cc48","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Router Telecentro\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":1260,"wires":[["9012965f.c6d378","90373d13.5fe1b"]]},{"id":"9012965f.c6d378","type":"ui_led","z":"57b26073.47916","group":"f177c7aa.290658","order":3,"width":0,"height":0,"label":"Router Telecentro","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Router Telecentro","x":630,"y":1260,"wires":[]},{"id":"b4baf414.dc8188","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":"4","x":210,"y":960,"wires":[["dee72894.58edf8"]]},{"id":"8e9bdec4.ffd5","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Camara Entrada\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":960,"wires":[["51c9c50f.165ecc","90373d13.5fe1b"]]},{"id":"51c9c50f.165ecc","type":"ui_led","z":"57b26073.47916","group":"bc362a5c.0bea88","order":3,"width":0,"height":0,"label":"Entrada","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Camara Entrada (186)","x":700,"y":960,"wires":[]},{"id":"dc6d6b4e.ebd228","type":"ui_button","z":"bb63d718.931208","name":"","group":"73bc3aee.13bf44","order":0,"width":0,"height":0,"passthru":false,"label":"button","tooltip":"","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"","x":110,"y":300,"wires":[[]]},{"id":"e3fe3abe.5b9d88","type":"debug","z":"bb63d718.931208","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":450,"y":400,"wires":[]},{"id":"28669530.61b13a","type":"rpi-gpio in","z":"bb63d718.931208","name":"Tecla Roja","pin":"10","intype":"down","debounce":"25","read":false,"x":120,"y":360,"wires":[["e3fe3abe.5b9d88","46f7e7ae.50bea8"]]},{"id":"f17a9635.f6f188","type":"function","z":"bb63d718.931208","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":250,"y":440,"wires":[["d700df73.35ba4"]]},{"id":"46f7e7ae.50bea8","type":"switch","z":"bb63d718.931208","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":320,"y":240,"wires":[["f17a9635.f6f188"]]},{"id":"3ff8204b.ffa2","type":"adv ping","z":"57b26073.47916","name":"","host":"192.168.2.51","x":370,"y":800,"wires":[["f84d004.8528f"]]},{"id":"618d3e98.fb7ef","type":"adv ping","z":"57b26073.47916","name":"","host":"192.168.2.52","x":370,"y":840,"wires":[["1b429be5.b44554"]]},{"id":"af17a31c.f6b2c","type":"adv ping","z":"57b26073.47916","name":"","host":"192.168.2.53","x":370,"y":880,"wires":[["8e2a259b.eb3d28"]]},{"id":"84d831f3.da072","type":"adv ping","z":"57b26073.47916","name":"","host":"192.168.0.1","x":320,"y":1260,"wires":[["fb7239ab.53cc48"]]},{"id":"99f128b8.8258f8","type":"adv ping","z":"57b26073.47916","name":"","host":"","x":740,"y":660,"wires":[["61d6c495.e7e54c","c81d7a30.a3fa68"]]},{"id":"dee72894.58edf8","type":"adv ping","z":"57b26073.47916","name":"","host":"192.168.2.186","x":380,"y":960,"wires":[["8e9bdec4.ffd5"]]},{"id":"60ed99dc.830dd8","type":"trigger","z":"bb63d718.931208","op1":"","op2":"0","op1type":"pay","op2type":"str","duration":"2","extend":false,"units":"s","reset":"","bytopic":"all","name":"","x":840,"y":580,"wires":[["d58fafa8.afc3a"]]},{"id":"1159aa54.7e9ad6","type":"function","z":"bb63d718.931208","name":"UnForce","func":"msg.payload = \"unforce\";\nreturn msg;","outputs":1,"noerr":0,"x":680,"y":640,"wires":[["d58fafa8.afc3a"]]},{"id":"da978042.08506","type":"rpi-gpio out","z":"bb63d718.931208","name":"Rojo 3","pin":"15","set":"","level":"0","freq":"","out":"pwm","x":810,"y":300,"wires":[]},{"id":"ee5705ab.f79a48","type":"ui_level","z":"2bcc0ccb.cd26a4","group":"cd9fc1f7.18d92","order":2,"width":0,"height":0,"name":"","label":"Lluvia","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"1024","segWarn":"","segHigh":"","unit":"units","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":2,"colorschema":"fixed","x":370,"y":260,"wires":[]},{"id":"214d3c34.0ed094","type":"function","z":"2bcc0ccb.cd26a4","name":"Invertir","func":"msg.payload = Math.round(1024 - msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":160,"wires":[["296d7504.367dca"]]},{"id":"c0c5968f.951788","type":"ui_level","z":"2bcc0ccb.cd26a4","group":"cd9fc1f7.18d92","order":2,"width":0,"height":0,"name":"","label":"Luz","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"1024","segWarn":"","segHigh":"","unit":"units","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":2,"colorschema":"fixed","x":350,"y":320,"wires":[]},{"id":"d0174328.ef71a","type":"ui_level","z":"930c94d9.38ece8","group":"e8c5d0b7.ae42a","order":2,"width":0,"height":0,"name":"","label":"Amps","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"1024","segWarn":"","segHigh":"","unit":"units","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":2,"colorschema":"fixed","x":370,"y":460,"wires":[]},{"id":"3dc8b540.d71e8a","type":"ui_level","z":"930c94d9.38ece8","group":"e8c5d0b7.ae42a","order":2,"width":0,"height":0,"name":"","label":"Volts","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"1024","segWarn":"","segHigh":"","unit":"units","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":2,"colorschema":"fixed","x":370,"y":420,"wires":[]},{"id":"297e1c43.285b34","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":false,"onceDelay":0.1,"x":210,"y":740,"wires":[[]]},{"id":"4a233454.2c259c","type":"function","z":"57b26073.47916","name":"PING","func":"msg.topic = msg.topic + \"PING\";\nmsg.payload = 1;\nreturn msg;","outputs":1,"noerr":0,"x":710,"y":560,"wires":[[]]},{"id":"8899307f.25896","type":"mqtt in","z":"57b26073.47916","name":"","topic":"Arduino/+/out/PONG","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":190,"y":420,"wires":[["666818ba.645868"]]},{"id":"cdd4a2c5.d5c87","type":"ui_button","z":"57b26073.47916","name":"","group":"b89f1435.0c4bf8","order":8,"width":0,"height":0,"passthru":false,"label":"Reboot PBLiving","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1230,"y":260,"wires":[["87eb95f9.05b7f8"]]},{"id":"c89b94c6.d243e8","type":"ui_button","z":"57b26073.47916","name":"","group":"b89f1435.0c4bf8","order":13,"width":0,"height":0,"passthru":false,"label":"Reboot PBTablero","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1230,"y":300,"wires":[["90ae212b.2abae"]]},{"id":"87eb95f9.05b7f8","type":"mqtt out","z":"57b26073.47916","name":"","topic":"Arduino/PBLiving/in/RESET","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1520,"y":260,"wires":[]},{"id":"90ae212b.2abae","type":"mqtt out","z":"57b26073.47916","name":"","topic":"Arduino/PBTablero/in/RESET","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1520,"y":300,"wires":[]},{"id":"3a9cad9f.86dc72","type":"mqtt in","z":"930c94d9.38ece8","name":"Tablero Amps (A12)","topic":"Arduino/PBLiving/out/Sensores/Analog/12","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":190,"y":420,"wires":[["c474e789.14d038"]]},{"id":"c474e789.14d038","type":"ui_level","z":"930c94d9.38ece8","group":"e8c5d0b7.ae42a","order":2,"width":0,"height":0,"name":"","label":"Amps","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"1024","segWarn":"","segHigh":"","unit":"units","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":2,"colorschema":"fixed","x":370,"y":500,"wires":[]},{"id":"314720f3.9b082","type":"influxdb out","z":"930c94d9.38ece8","influxdb":"e5a1cfdf.94ab5","name":"","measurement":"Volts","precision":"m","retentionPolicy":"","x":880,"y":260,"wires":[]},{"id":"8a095048.19b19","type":"influxdb out","z":"930c94d9.38ece8","influxdb":"e5a1cfdf.94ab5","name":"","measurement":"Amps","precision":"m","retentionPolicy":"","x":960,"y":400,"wires":[]},{"id":"b3fdab3a.bd2478","type":"function","z":"57b26073.47916","name":"","func":"msg.payload = [{\n    value: msg.payload\n},\n{\n    host:\"RaspberryPI\"\n}];\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":100,"wires":[["64bc79e7.831e18"]]},{"id":"64bc79e7.831e18","type":"influxdb out","z":"57b26073.47916","influxdb":"e5a1cfdf.94ab5","name":"","measurement":"Cpu","precision":"s","retentionPolicy":"","x":1050,"y":100,"wires":[]},{"id":"f4e26607.719868","type":"influxdb out","z":"930c94d9.38ece8","influxdb":"e5a1cfdf.94ab5","name":"","measurement":"Watts","precision":"m","retentionPolicy":"","x":820,"y":660,"wires":[]},{"id":"8243518b.b9425","type":"influxdb out","z":"887b2e31.18293","influxdb":"e5a1cfdf.94ab5","name":"","measurement":"Relays","precision":"s","retentionPolicy":"","x":760,"y":120,"wires":[]},{"id":"97dab7ab.a7c948","type":"function","z":"887b2e31.18293","name":"","func":"msg.payload = [{\n    value: msg.payload\n},\n{\n    arduino:msg.arduino,\n    nro:msg.relay\n}];\nreturn msg;","outputs":1,"noerr":0,"x":590,"y":120,"wires":[["8243518b.b9425"]]},{"id":"90373d13.5fe1b","type":"function","z":"57b26073.47916","name":"","func":"if (msg.payload == false) value = 0;\nif (msg.payload == true) value = 1;\nmsg.payload = [{\n    value: value\n},\n{\n    host:msg.hostname\n}];\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":1040,"wires":[["ba44a7c1.d6d9f8"]]},{"id":"ba44a7c1.d6d9f8","type":"influxdb out","z":"57b26073.47916","influxdb":"e5a1cfdf.94ab5","name":"","measurement":"HostsUp","precision":"s","retentionPolicy":"","x":970,"y":1040,"wires":[]},{"id":"698870fb.682f5","type":"mqtt in","z":"57b26073.47916","name":"","topic":"Arduino/PBLiving/out/LastSeen","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":1110,"y":820,"wires":[["f7536e2c.98f8d","88f0291.63bc6d8"]]},{"id":"f7536e2c.98f8d","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"7","extend":true,"units":"s","reset":"","bytopic":"topic","name":"","x":1340,"y":840,"wires":[["2400c417.1b36cc"]]},{"id":"2400c417.1b36cc","type":"ui_led","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":6,"width":0,"height":0,"label":"PBLiving OK","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"PBLiving OK","x":1490,"y":840,"wires":[]},{"id":"8c555022.ddcbc","type":"mqtt in","z":"57b26073.47916","name":"","topic":"Arduino/PBTablero/out/LastSeen","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":1110,"y":900,"wires":[["cd8a1740.44b838","95e968b8.b2d2f8"]]},{"id":"cd8a1740.44b838","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"7","extend":true,"units":"s","reset":"","bytopic":"topic","name":"","x":1340,"y":880,"wires":[["eea63b5f.041388"]]},{"id":"eea63b5f.041388","type":"ui_led","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":11,"width":0,"height":0,"label":"PbTablero OK","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"PbTablero OK","x":1500,"y":880,"wires":[]},{"id":"a153b813.839bf8","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":950,"y":1500,"wires":[["145c849f.97212b"]]},{"id":"145c849f.97212b","type":"rpi-gpio out","z":"57b26073.47916","name":"Amarillo 1","pin":"12","set":"","level":"0","freq":"","out":"out","x":1120,"y":1500,"wires":[]},{"id":"e7bbe76d.536128","type":"rpi-gpio out","z":"57b26073.47916","name":"Amarillo 2","pin":"16","set":"","level":"0","freq":"","out":"out","x":1120,"y":1560,"wires":[]},{"id":"c1de68da.b823f8","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":950,"y":1560,"wires":[["e7bbe76d.536128"]]},{"id":"a18ab030.e67e6","type":"rpi-gpio out","z":"57b26073.47916","name":"Rojo 1","pin":"18","set":"","level":"0","freq":"","out":"out","x":530,"y":580,"wires":[]},{"id":"7584323d.8efc2c","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":350,"y":580,"wires":[["a18ab030.e67e6"]]},{"id":"62acdaee.5710d4","type":"trigger","z":"235e5af0.561006","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":470,"y":960,"wires":[["b0256700.411198"]]},{"id":"b0256700.411198","type":"rpi-gpio out","z":"235e5af0.561006","name":"Rojo 2","pin":"13","set":"","level":"0","freq":"","out":"out","x":650,"y":960,"wires":[]},{"id":"10504fd3.8d689","type":"rpi-gpio out","z":"57b26073.47916","name":"Verde 1","pin":"5","set":"","level":"0","freq":"","out":"out","x":680,"y":40,"wires":[]},{"id":"66cc9a32.9555c4","type":"rpi-gpio out","z":"57b26073.47916","name":"Verde 2","pin":"3","set":"","level":"0","freq":"","out":"out","x":1020,"y":1420,"wires":[]},{"id":"24734ab7.b3bf66","type":"rpi-gpio out","z":"57b26073.47916","name":"Verde 3","pin":"11","set":"","level":"0","freq":"","out":"out","x":1000,"y":1200,"wires":[]},{"id":"fa45480d.9d02f8","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":430,"y":660,"wires":[["a18ab030.e67e6"]]},{"id":"50a9490.aee2eb8","type":"inject","z":"235e5af0.561006","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":590,"y":1100,"wires":[["b0256700.411198"]]},{"id":"5b835972.c24ec8","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":470,"y":40,"wires":[["10504fd3.8d689"]]},{"id":"2401312b.a96bbe","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"73bc3aee.13bf44","order":2,"width":0,"height":0,"passthru":false,"label":"button 1","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1120,"y":60,"wires":[["d60eac.212d8158"]]},{"id":"1c7e69b0.b80dd6","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"73bc3aee.13bf44","order":1,"width":0,"height":0,"passthru":false,"label":"button 2","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":820,"y":600,"wires":[["26f8115c.6b657e"]]},{"id":"664a96bd.055968","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"73bc3aee.13bf44","order":3,"width":0,"height":0,"passthru":false,"label":"button 3","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":780,"y":720,"wires":[["2ad750f0.7a56e"]]},{"id":"60e7d8a8.e76568","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"73bc3aee.13bf44","order":3,"width":0,"height":0,"passthru":false,"label":"button 4","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":520,"y":700,"wires":[[]]},{"id":"a238a31a.3e0e9","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"73bc3aee.13bf44","order":3,"width":0,"height":0,"passthru":false,"label":"button 5","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":740,"y":120,"wires":[["744d68f5.52b7b8"]]},{"id":"ea38bb53.9589c8","type":"ui_button","z":"c5b2ea55.84d058","name":"","group":"73bc3aee.13bf44","order":3,"width":0,"height":0,"passthru":false,"label":"button 6","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":560,"y":380,"wires":[["b5514a52.2ccb08"]]},{"id":"dc07d014.12b79","type":"ui_button","z":"9bee6473.dc8598","name":"","group":"20a076b7.fe135a","order":3,"width":"3","height":"1","passthru":false,"label":"Bajar Volumen 2","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-down","payload":"18,15,35,15,17,15,18,15,18,15,18,15,18,15,18,32,35,15,18,15,18,31,18","payloadType":"str","topic":"","x":980,"y":500,"wires":[["f4236661.eb0168"]]},{"id":"bc2c9248.86126","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":"3","x":150,"y":1200,"wires":[["25698cec.dedfc4"]]},{"id":"25698cec.dedfc4","type":"adv ping","z":"57b26073.47916","name":"","host":"192.168.2.4","x":310,"y":1200,"wires":[["4ef69bb0.189ca4"]]},{"id":"4ef69bb0.189ca4","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Router Living\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":1200,"wires":[["f3ccfb30.b3e658"]]},{"id":"f3ccfb30.b3e658","type":"ui_led","z":"57b26073.47916","group":"f177c7aa.290658","order":2,"width":0,"height":0,"label":"Router Living","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Router Living","x":600,"y":1200,"wires":[]},{"id":"ac435dc5.be83f","type":"ui_switch","z":"887b2e31.18293","name":"","label":"Audio Patio","tooltip":"","group":"35f37aae.e9b246","order":3,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/38","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1030,"y":340,"wires":[["8591f331.53aaf"]]},{"id":"b4ead4ce.3b6be8","type":"function","z":"75f22ec1.216f","name":"Cambiar CurrLed","func":"var CurrLed = flow.get(\"CurrLed\")||0;\nif (CurrLed >= 4 )  { CurrLed = 0;}\nCurrLed += 1;\nflow.set(\"CurrLed\",CurrLed)\nmsg.currLed = CurrLed;\nmsg.payload = CurrLed; // para el dropdown\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":280,"wires":[["aa7469b3.affdc8","23b035d0.b0b8ea","4f459fb5.14cfc","18eb023b.c4dbce"]]},{"id":"203af874.249d48","type":"rpi-gpio in","z":"75f22ec1.216f","name":"Tecla Blanca","pin":"8","intype":"down","debounce":"25","read":false,"x":290,"y":960,"wires":[["68180122.b80d4"]]},{"id":"db702ecb.e1b1a","type":"inject","z":"75f22ec1.216f","name":"","topic":"LedStart","payload":"1","payloadType":"num","repeat":"","crontab":"","once":true,"onceDelay":"0.5","x":350,"y":220,"wires":[["6b56a03e.e811d"]]},{"id":"6b56a03e.e811d","type":"change","z":"75f22ec1.216f","name":"","rules":[{"t":"set","p":"CurrLed","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":620,"y":220,"wires":[["284e7f13.6251f"]]},{"id":"68180122.b80d4","type":"switch","z":"75f22ec1.216f","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":490,"y":980,"wires":[[]]},{"id":"284e7f13.6251f","type":"change","z":"75f22ec1.216f","name":"","rules":[{"t":"set","p":"CurrLedMode1","pt":"flow","to":"FILL","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":220,"wires":[["d9adf694.3324c8"]]},{"id":"d9adf694.3324c8","type":"change","z":"75f22ec1.216f","name":"","rules":[{"t":"set","p":"CurrLedOnOff1","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1090,"y":220,"wires":[["aa7469b3.affdc8"]]},{"id":"6b13299.94ad3d8","type":"function","z":"75f22ec1.216f","name":"CurrLedOnOff","func":"msg.currLed = flow.get(\"CurrLed\");\nvar Nombre = \"CurrLedOnOff\" + msg.currLed;\nflow.set(Nombre,!flow.get(Nombre))\nmsg.payload = flow.get(Nombre);\nreturn msg;","outputs":1,"noerr":0,"x":600,"y":320,"wires":[["e1797793.8d47b8","23b035d0.b0b8ea"]]},{"id":"b96f3183.63427","type":"function","z":"75f22ec1.216f","name":"CurrLedMode","func":"msg.currLed = flow.get(\"CurrLed\");\nvar Nombre = \"CurrLedMode\" + msg.currLed;\nvar CurrMode = flow.get(Nombre)||\"FILL\";\nswitch(parseInt(msg.currLed))\n{\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 99:\n        switch(CurrMode)\n        {\n            case \"FILL\":\n                msg.mode = \"SINELON\";\n                break;   \n            case \"SINELON\":\n                msg.mode = \"FULL\";\n                break;   \n           case \"FULL\":\n                msg.mode = \"RAINBOW\";\n                break;   \n           case \"RAINBOW\":\n                msg.mode = \"FILL\";\n                break;   \n\n        }\n        break;   \n} \n\nflow.set(Nombre,msg.mode);\nreturn msg;","outputs":1,"noerr":0,"x":600,"y":360,"wires":[["e1797793.8d47b8","18eb023b.c4dbce","2865909.087147"]]},{"id":"aa7469b3.affdc8","type":"function","z":"75f22ec1.216f","name":"Setear Topic CurrLed","func":"switch(parseInt(msg.currLed))\n{\n    case 1:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/0/\"\n        break;\n    case 2:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/2/\";\n        break;\n    case 3:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/3/\";\n        break;\n    case 4:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/1/\";\n        break;\n     case 5:\n        msg.topic = \"Arduino/PBLiving/in/WSSTRIP/0/\";\n        break;\n     case 10:\n        msg.topic = \"NodeMcu/PiezaNuestra/in/WSSTRIP/0/\";\n        break;\n     case 11:\n        msg.topic = \"NodeMcu/PiezaNuestra/in/WSSTRIP/1/\";\n        break;\n    case 99:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/0,1,2,3/\";\n        break;\n} \nflow.set(\"CurrLedTopic\",msg.topic);\nmsg.topic += \"FILL\";\nmsg.payload =\"255,255,255\";\nreturn msg;","outputs":1,"noerr":0,"x":880,"y":280,"wires":[["f4b1e03.cb3782","c864c27e.37a43","2865909.087147"]]},{"id":"efb462ab.601b6","type":"function","z":"75f22ec1.216f","name":"CurrLedEncoder","func":"msg.currLed = flow.get(\"CurrLed\");\nmsg.mode =  flow.get(\"CurrLedMode\" + msg.currLed)||\"FILL\";\nvar Nombre = \"CurrLed\" + msg.mode + \"Encoder\" +  msg.currLed + msg.NroEncoder;\nflow.set(Nombre,msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":600,"y":400,"wires":[["e1797793.8d47b8"]]},{"id":"e1797793.8d47b8","type":"function","z":"75f22ec1.216f","name":"Parametros","func":"var CurrLed = flow.get(\"CurrLed\");\nvar Mode = flow.get(\"CurrLedMode\" + CurrLed);\nvar NombrePote = \"CurrLed\" + Mode + \"Encoder\" +  CurrLed;\nvar OnOff = flow.get(\"CurrLedOnOff\" + CurrLed);\nvar Pote1 = flow.get(NombrePote + \"0\")||global.get(\"Pote1\");\nvar Pote2 = flow.get(NombrePote + \"1\")||global.get(\"Pote2\");\nmsg.topic = flow.get(\"CurrLedTopic\");\nmsg.currLed = CurrLed;\nmsg.onOff = OnOff;\nif (OnOff === true)\n{\n    msg.mode = Mode;\n    msg.hue = 0;\n    msg.sat = 100;\n    msg.light = 100;\n    msg.EncLoop0 = 0;\n    msg.EncLoop1 = 0;\n    \n    switch(msg.mode)\n    {\n        case \"FADETO\":\n        case \"FILL\":\n            msg.EncMode1 = \"light\";\n            msg.EncMode0 = \"hue\";\n            msg.mode = \"FADETO\"\n            break;   \n        case \"FULL\":\n            msg.EncMode0 = \"light\";\n            msg.EncMode1 = \"None\";\n            msg.mode = \"FADETO\"\n            msg.sat = 0;\n            break;   \n        case \"SINELON\":\n            msg.EncMode1 = \"bpm\";\n            msg.EncMode0 = \"hue\";\n            break;   \n        case \"RAINBOW\":\n            msg.EncMode0 = \"hue\";\n            msg.EncMode1 = \"spread\";\n            break;   \n         case \"JUGGLE\":\n            msg.EncMode1 = \"bpm\";\n       //     msg.EncMode0 = \"hue\";\n            break;   \n         case \"CONFETTI\":\n            msg.EncMode1 = \"bpm\";\n       //     msg.EncMode0 = \"hue\";\n            break;   \n    }\n}\nelse\n{\n    //apagado\n  //  msg.topic += \"FILL\";\n    msg.payload =\"0,0,0\";\n    msg.light = 0;\n    msg.sat = 0;\n    msg.hue = 0;\n    msg.mode = \"FADETO\";\n}\n\n\nvar SetMsg = function(EncMode, value) {\n    var Value = Number(value);\n    switch (EncMode)\n    {\n        case \"hue\":\n            msg.hue = Value;\n            break;\n        case \"spread\":\n            msg.spread = Value;\n            break;\n        case \"bpm\":\n            msg.bpm = Value;\n            break;\n        case \"light\":\n            msg.light = Value;\n            break;\n    }\n    return msg\n}\nflow.set(\"EncMode0\",msg.EncMode0);\nflow.set(\"EncMode1\",msg.EncMode1);\nSetMsg(msg.EncMode0,Pote1);\nif (msg.EncMode0 == \"hue\") msg.EncLoop0 = 1;\nSetMsg(msg.EncMode1,Pote2);\nif (msg.EncMode1 == \"hue\") msg.EncLoop1 = 1;\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":360,"wires":[["bb7bea64.efa3f8","49702e85.9de17"]]},{"id":"bb7bea64.efa3f8","type":"range","z":"75f22ec1.216f","minin":"0","maxin":"120","minout":"0","maxout":"358","action":"scale","round":true,"property":"hue","name":"hue","x":1210,"y":400,"wires":[["7edb8af9.e7f954"]]},{"id":"7edb8af9.e7f954","type":"range","z":"75f22ec1.216f","minin":"0","maxin":"120","minout":"0","maxout":"100","action":"scale","round":true,"property":"light","name":"light","x":1330,"y":400,"wires":[["51d67c92.f0d4f4"]]},{"id":"d412b5c2.cad878","type":"function","z":"75f22ec1.216f","name":"HSV","func":"msg.payload  = [msg.hue,msg.sat,msg.light];\nreturn msg;","outputs":1,"noerr":0,"x":1210,"y":480,"wires":[["49f9f64a.063358"]]},{"id":"49f9f64a.063358","type":"color-convert","z":"75f22ec1.216f","input":"hsv","output":"rgb","outputType":"string","scaleInput":true,"x":1350,"y":480,"wires":[["5543b52d.1dea4c","f7028ca.c30fd7"]]},{"id":"5543b52d.1dea4c","type":"function","z":"75f22ec1.216f","name":"","func":"msg.payload = msg.payload.replace(\"rgb(\",'');\nmsg.payload = msg.payload.replace(')','');\nmsg.color = msg.payload;\nmsg.topic += msg.mode;\n\nswitch(msg.mode)\n{\n  case \"CONFETTI\":\n  case \"JUGGLE\":\n        msg.payload = msg.bpm;\n        break;   \n  case \"SINELON\":\n        msg.payload += \",\" + msg.bpm;\n        break;   \n  case \"RAINBOW\":\n        msg.payload = msg.hue + \",\" + msg.spread;\n        break;   \n  case \"FADETO\":\n        msg.payload += \",8\";\n        break;   \n  \n    \n}\nreturn msg;","outputs":1,"noerr":0,"x":1490,"y":420,"wires":[["50225624.29c5c8"]]},{"id":"5a2c110b.f9f91","type":"mqtt out","z":"75f22ec1.216f","name":"Parpadear","topic":"","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1310,"y":280,"wires":[],"inputLabels":["kkl"]},{"id":"f4b1e03.cb3782","type":"trigger","z":"75f22ec1.216f","op1":"","op2":"0,0,0","op1type":"pay","op2type":"str","duration":"300","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":1140,"y":280,"wires":[["5a2c110b.f9f91"]]},{"id":"c864c27e.37a43","type":"delay","z":"75f22ec1.216f","name":"","pauseType":"delay","timeout":"600","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1130,"y":320,"wires":[["e1797793.8d47b8"]]},{"id":"251dac6d.613c74","type":"switch","z":"611d2ba5.389f94","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":550,"y":140,"wires":[["2139b3c5.de180c"],[]]},{"id":"51d67c92.f0d4f4","type":"range","z":"75f22ec1.216f","minin":"0","maxin":"120","minout":"0","maxout":"100","action":"scale","round":true,"property":"bpm","name":"bpm","x":1210,"y":440,"wires":[["57871013.eb375"]]},{"id":"e9afa09b.d2877","type":"influxdb out","z":"235e5af0.561006","influxdb":"e5a1cfdf.94ab5","name":"","measurement":"SensoresMovimiento","precision":"s","retentionPolicy":"","x":1650,"y":320,"wires":[]},{"id":"773f1d0e.3a55d4","type":"delay","z":"235e5af0.561006","name":"","pauseType":"timed","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"10","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1340,"y":320,"wires":[["e9afa09b.d2877"]]},{"id":"ab30dfc8.c962","type":"bigtimer","z":"2bcc0ccb.cd26a4","outtopic":"","outpayload1":"","outpayload2":"","name":"Big Timer","comment":"","lat":"-34","lon":"-58","starttime":5001,"endtime":"5003","starttime2":0,"endtime2":0,"startoff":0,"endoff":0,"startoff2":0,"endoff2":0,"offs":0,"outtext1":"","outtext2":"","timeout":1440,"sun":true,"mon":true,"tue":true,"wed":true,"thu":true,"fri":true,"sat":true,"jan":true,"feb":true,"mar":true,"apr":true,"may":true,"jun":true,"jul":true,"aug":true,"sep":true,"oct":true,"nov":true,"dec":true,"day1":0,"month1":0,"day2":0,"month2":0,"day3":0,"month3":0,"day4":0,"month4":0,"day5":0,"month5":0,"day6":0,"month6":0,"d1":0,"w1":0,"d2":0,"w2":0,"d3":0,"w3":0,"d4":0,"w4":0,"d5":0,"w5":0,"d6":0,"w6":0,"xday1":0,"xmonth1":0,"xday2":0,"xmonth2":0,"xday3":0,"xmonth3":0,"xday4":0,"xmonth4":0,"xday5":0,"xmonth5":0,"xday6":0,"xmonth6":0,"xd1":0,"xw1":0,"xd2":0,"xw2":0,"xd3":0,"xw3":0,"xd4":0,"xw4":0,"xd5":0,"xw5":0,"xd6":0,"xw6":0,"suspend":false,"random":false,"repeat":true,"atstart":true,"odd":false,"even":false,"x":120,"y":320,"wires":[[],[],[]]},{"id":"77f9b0ca.15fa","type":"ui_chart","z":"235e5af0.561006","name":"Entrada","group":"b32fa3e9.f2b7f","order":8,"width":0,"height":0,"label":"Entrada","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"step","nodata":"","dot":false,"ymin":"0","ymax":"1","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1260,"y":140,"wires":[[]]},{"id":"b831f42c.eac588","type":"ui_chart","z":"235e5af0.561006","name":"Living","group":"b32fa3e9.f2b7f","order":8,"width":0,"height":0,"label":"Living","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"step","nodata":"","dot":false,"ymin":"0","ymax":"1","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1250,"y":80,"wires":[[]]},{"id":"cfa6340c.433a18","type":"ui_chart","z":"235e5af0.561006","name":"Vestidor","group":"b32fa3e9.f2b7f","order":8,"width":0,"height":0,"label":"Vestidor","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"step","nodata":"","dot":false,"ymin":"0","ymax":"1","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1260,"y":200,"wires":[[]]},{"id":"90be3e1.bcbe5c","type":"ui_led","z":"235e5af0.561006","group":"b32fa3e9.f2b7f","order":3,"width":"","height":"","label":"Patio Arriba","colorForValue":[{"color":"grey","value":"0","valueType":"num"},{"color":"red","value":"1","valueType":"num"}],"name":"Patio Arriba","x":1050,"y":360,"wires":[]},{"id":"babfd7c.d410228","type":"ui_led","z":"235e5af0.561006","group":"b32fa3e9.f2b7f","order":3,"width":"","height":"","label":"Balcon PA Pieza Nuestra","colorForValue":[{"color":"grey","value":"0","valueType":"num"},{"color":"red","value":"1","valueType":"num"}],"name":"Balcon PA Pieza Nuestra","x":1110,"y":420,"wires":[]},{"id":"a1c6741d.1aaf08","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"20","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":870,"y":480,"wires":[["5239eab0.46b654","3572364f.e572ca"]]},{"id":"5239eab0.46b654","type":"ui_led","z":"235e5af0.561006","group":"b32fa3e9.f2b7f","order":3,"width":"","height":"","label":"Balcon PA Pieza Nenes","colorForValue":[{"color":"grey","value":"0","valueType":"num"},{"color":"red","value":"1","valueType":"num"}],"name":"Balcon PA Pieza Nenes","x":1090,"y":480,"wires":[]},{"id":"8fea8ef8.9ae8b","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"20","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":890,"y":540,"wires":[["493adb3.7cbaa24","c8502bba.fce988"]]},{"id":"493adb3.7cbaa24","type":"ui_led","z":"235e5af0.561006","group":"b32fa3e9.f2b7f","order":3,"width":"","height":"","label":"Ventana Comedor","colorForValue":[{"color":"grey","value":"0","valueType":"num"},{"color":"red","value":"1","valueType":"num"}],"name":"Ventana Comedor","x":1150,"y":540,"wires":[]},{"id":"9e27c7f0.bde738","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"20","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":870,"y":120,"wires":[["d7d423b9.36639"]]},{"id":"8ef2b4c3.eba3f8","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"20","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":890,"y":420,"wires":[["babfd7c.d410228","3ad14c82.5077d4"]]},{"id":"5882b20c.270a7c","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"20","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":870,"y":360,"wires":[["90be3e1.bcbe5c","282e013b.ffecce"]]},{"id":"875113b9.1007f","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"20","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":870,"y":240,"wires":[["8f6a9ccd.2311f","cfa6340c.433a18"]]},{"id":"6e7c6369.e563cc","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"20","extend":false,"units":"s","reset":"","bytopic":"all","name":"","x":870,"y":180,"wires":[["9b693f6f.31219","77f9b0ca.15fa"]]},{"id":"eae60e68.55c21","type":"trigger","z":"235e5af0.561006","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"20","extend":true,"units":"s","reset":"","bytopic":"all","name":"","x":870,"y":300,"wires":[["8439a120.efd7a","523ad42b.81a09c"]]},{"id":"523ad42b.81a09c","type":"ui_chart","z":"235e5af0.561006","name":"Patio","group":"b32fa3e9.f2b7f","order":8,"width":0,"height":0,"label":"Patio","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"step","nodata":"","dot":false,"ymin":"0","ymax":"1","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1250,"y":260,"wires":[[]]},{"id":"282e013b.ffecce","type":"ui_chart","z":"235e5af0.561006","name":"Patio Arriba","group":"b32fa3e9.f2b7f","order":8,"width":0,"height":0,"label":"Patio Arriba","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"step","nodata":"","dot":false,"ymin":"0","ymax":"1","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1270,"y":360,"wires":[[]]},{"id":"3ad14c82.5077d4","type":"ui_chart","z":"235e5af0.561006","name":"Balcon PA Pieza Nuestra","group":"b32fa3e9.f2b7f","order":8,"width":0,"height":0,"label":"Balcon PA Pieza Nuestra","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"step","nodata":"","dot":false,"ymin":"0","ymax":"1","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1330,"y":440,"wires":[[]]},{"id":"3572364f.e572ca","type":"ui_chart","z":"235e5af0.561006","name":"Balcon PA Pieza Nenes","group":"b32fa3e9.f2b7f","order":8,"width":0,"height":0,"label":"Balcon PA Pieza Nenes","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"step","nodata":"","dot":false,"ymin":"0","ymax":"1","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1350,"y":500,"wires":[[]]},{"id":"c8502bba.fce988","type":"ui_chart","z":"235e5af0.561006","name":"Ventana Comedor","group":"b32fa3e9.f2b7f","order":8,"width":0,"height":0,"label":"Ventana Comedor","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"step","nodata":"","dot":false,"ymin":"0","ymax":"1","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1370,"y":580,"wires":[[]]},{"id":"b9b0b21e.67f6f","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living LasSeen","topic":"OpenWrt/Ping/192.168.2.188/lastseen/epoch","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":110,"y":760,"wires":[["6f83706c.5cbff","b98dacd6.73d4d"]]},{"id":"6f83706c.5cbff","type":"trigger","z":"9bee6473.dc8598","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"5","extend":true,"units":"s","reset":"false","bytopic":"all","name":"","x":300,"y":760,"wires":[["a36228ea.ffa108"]]},{"id":"a36228ea.ffa108","type":"change","z":"9bee6473.dc8598","name":"set TVLivingPrendida","rules":[{"t":"set","p":"TVLivingPrendida","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":760,"wires":[["1e47eda6.2f5f02","e139894e.a3a858"]]},{"id":"1e47eda6.2f5f02","type":"ui_switch","z":"9bee6473.dc8598","name":"","label":"TV Living","tooltip":"","group":"6d3da8b1.90ed78","order":5,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":700,"y":740,"wires":[["9928c7b1.7cddb8"]]},{"id":"e139894e.a3a858","type":"ui_switch","z":"9bee6473.dc8598","name":"","label":"TV Living","tooltip":"","group":"20a076b7.fe135a","order":1,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":700,"y":800,"wires":[["9928c7b1.7cddb8"]]},{"id":"9252059.c8547f8","type":"switch","z":"9bee6473.dc8598","name":"Prendida?","property":"TVLivingPrendida","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1150,"y":720,"wires":[["ac636a16.410028"]],"outputLabels":["Prendida"]},{"id":"9928c7b1.7cddb8","type":"switch","z":"9bee6473.dc8598","name":"Apagar?","property":"payload","propertyType":"msg","rules":[{"t":"false"},{"t":"true"}],"checkall":"true","repair":false,"outputs":2,"x":880,"y":760,"wires":[["9252059.c8547f8"],["31eb6eb4.73e6d2"]],"outputLabels":["Apagar","Prender"]},{"id":"31eb6eb4.73e6d2","type":"wake on lan","z":"9bee6473.dc8598","mac":"28:35:45:93:bd:ea","host":"","name":"","x":1170,"y":800,"wires":[]},{"id":"7b150618.afecc8","type":"mqtt in","z":"7ad2ef9d.dd79e","name":"","topic":"Arduino/+/out/Sensores/Ir","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":340,"y":200,"wires":[["b5dffc8d.7db07","7cda19f4.ebcd78"]]},{"id":"7cda19f4.ebcd78","type":"debug","z":"7ad2ef9d.dd79e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":990,"y":220,"wires":[]},{"id":"1a12a50e.225a8b","type":"switch","z":"7ad2ef9d.dd79e","name":"Control Muteki","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"49424","vt":"str"},{"t":"eq","v":"475408","vt":"str"},{"t":"eq","v":"1006","vt":"str"},{"t":"eq","v":"1036","vt":"str"},{"t":"eq","v":"17420","vt":"str"},{"t":"eq","v":"639248","vt":"str"}],"checkall":"true","repair":false,"outputs":6,"x":620,"y":380,"wires":[["4735c757.d4e238"],["3071865d.65728a"],[],["c5995599.14e858"],["12848232.f8f20e"],["55e3c81.0475d38"]],"outputLabels":["Rew","Cat Left","Theater","ch up","ch down","Pause"]},{"id":"b5dffc8d.7db07","type":"delay","z":"7ad2ef9d.dd79e","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"0.5","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":450,"y":300,"wires":[["1a12a50e.225a8b"]]},{"id":"4735c757.d4e238","type":"function","z":"7ad2ef9d.dd79e","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":380,"wires":[["6a34a0ac.11a2f"]]},{"id":"6a34a0ac.11a2f","type":"mqtt out","z":"7ad2ef9d.dd79e","name":"Luz Comedor (26)","topic":"Arduino/PBTablero/in/Relay/26","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1090,"y":420,"wires":[],"inputLabels":["kkl"]},{"id":"740fdbfd.f75e44","type":"mqtt out","z":"7ad2ef9d.dd79e","name":"Luz Living (48)","topic":"Arduino/PBTablero/in/Relay/48","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1040,"y":680,"wires":[],"inputLabels":["kkl"]},{"id":"3071865d.65728a","type":"function","z":"7ad2ef9d.dd79e","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":830,"y":520,"wires":[["740fdbfd.f75e44"]]},{"id":"4d5c46a7.467778","type":"mqtt out","z":"7ad2ef9d.dd79e","name":"Toma SubWoofer (26)","topic":"Arduino/PBLiving/in/Relay/26","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":860,"y":760,"wires":[],"inputLabels":["kkl"]},{"id":"55e3c81.0475d38","type":"function","z":"7ad2ef9d.dd79e","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":600,"wires":[["4d5c46a7.467778"]]},{"id":"12848232.f8f20e","type":"link out","z":"7ad2ef9d.dd79e","name":"","links":["24810692.44e16a"],"x":580,"y":720,"wires":[]},{"id":"c5995599.14e858","type":"link out","z":"7ad2ef9d.dd79e","name":"","links":["4ed881e6.4c7a2"],"x":455,"y":620,"wires":[]},{"id":"20792344.3f7e0c","type":"ui_button","z":"9bee6473.dc8598","name":"","group":"73bc3aee.13bf44","order":3,"width":"3","height":"1","passthru":false,"label":"Power ON","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-down","payload":"18,15,35,15,17,15,18,15,18,15,18,15,18,15,18,32,35,15,18,15,18,31,18","payloadType":"str","topic":"","x":930,"y":880,"wires":[["31eb6eb4.73e6d2"]]},{"id":"ac636a16.410028","type":"change","z":"9bee6473.dc8598","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"90,89,11,11,11,33,11,33,11,33,11,10,11,11,11,10,11,10,11,10,11,33,11,33,11,33,11,10,11,10,11,10,11,11,11,10,11,11,11,33,10,33,11,10,11,10,11,10,11,10,11,33,11,33,11,11,11,10,11,33,11,33,11,33,11,33,11","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1320,"y":720,"wires":[["ed3caea1.14085"]]},{"id":"b98dacd6.73d4d","type":"switch","z":"9bee6473.dc8598","name":"Apagada?","property":"TVLivingPrendida","propertyType":"global","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":370,"y":640,"wires":[["eac8c914.6a0148"]],"outputLabels":["Apagada"]},{"id":"a2dbc598.856968","type":"ui_level","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":4,"width":0,"height":0,"name":"Ram Living","label":"Living RAM","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"0","max":"8096","segWarn":"5600","segHigh":"7000","unit":"Bytes","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"2","colorschema":"fixed","x":1650,"y":380,"wires":[]},{"id":"ec9998a3.43ee18","type":"mqtt in","z":"57b26073.47916","name":"","topic":"Arduino/PBLiving/out/FreeRam","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":1270,"y":380,"wires":[["e45ac6ea.1255b8"]]},{"id":"e45ac6ea.1255b8","type":"function","z":"57b26073.47916","name":"Invertir","func":"msg.payload = Math.round(8096 - msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":380,"wires":[["a2dbc598.856968"]]},{"id":"da2ae2ac.c74c5","type":"ui_level","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":9,"width":0,"height":0,"name":"Ram","label":"Tablero RAM","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":"0","max":"8096","segWarn":"5600","segHigh":"7000","unit":"Bytes","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"2","colorschema":"fixed","x":1630,"y":420,"wires":[]},{"id":"89c383bd.54c4b","type":"mqtt in","z":"57b26073.47916","name":"","topic":"Arduino/PBTablero/out/FreeRam","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":1270,"y":420,"wires":[["1e6e769b.f00e39"]]},{"id":"1e6e769b.f00e39","type":"function","z":"57b26073.47916","name":"Invertir","func":"msg.payload = Math.round(8096 - msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":420,"wires":[["da2ae2ac.c74c5"]]},{"id":"9eac4b64.2966d8","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":"3","x":170,"y":1140,"wires":[["9aba88db.d53708"]]},{"id":"9aba88db.d53708","type":"adv ping","z":"57b26073.47916","name":"","host":"192.168.2.2","x":330,"y":1140,"wires":[["432ac48f.34df6c"]]},{"id":"432ac48f.34df6c","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Router PA\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":1140,"wires":[["871566bd.8376f8","15e6e976.114667"]]},{"id":"871566bd.8376f8","type":"ui_led","z":"57b26073.47916","group":"f177c7aa.290658","order":1,"width":0,"height":0,"label":"Router PA","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Router PA","x":620,"y":1140,"wires":[]},{"id":"9be6cefc.abbdb","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":"3","x":150,"y":1320,"wires":[["4d0aa871.8f5f18"]]},{"id":"4d0aa871.8f5f18","type":"adv ping","z":"57b26073.47916","name":"","host":"8.8.8.8","x":290,"y":1320,"wires":[["f156f415.c1da68"]]},{"id":"b685b938.8ce1e8","type":"ui_led","z":"57b26073.47916","group":"f177c7aa.290658","order":4,"width":0,"height":0,"label":"Internet","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Internet","x":620,"y":1340,"wires":[]},{"id":"f156f415.c1da68","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Router Telecentro\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":1320,"wires":[["b685b938.8ce1e8","2f022722.96eb88"]]},{"id":"c801211d.69393","type":"link out","z":"c5b2ea55.84d058","name":"","links":["6c034e35.16ea1"],"x":655,"y":180,"wires":[]},{"id":"1d846740.a92609","type":"ui_button","z":"230ac56e.bc629a","name":"","group":"7ad1e0a0.b2f66","order":2,"width":"3","height":"1","passthru":false,"label":"TELE","tooltip":"","color":"","bgcolor":"","icon":"","payload":"49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311,49,10,25,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,13,10,13,10,13,10,25,10,13,10,13,10,13,10,25,10,13,10,25,10,13,11,12,311","payloadType":"str","topic":"","x":450,"y":40,"wires":[["6fee71ed.0ff1"]]},{"id":"6fee71ed.0ff1","type":"change","z":"230ac56e.bc629a","name":"TELE","rules":[{"t":"set","p":"payload","pt":"msg","to":"48,11,12,11,24,11,24,11,12,11,24,11,12,10,13,11,12,11,12,11,12,11,12,11,24,11,12,11,12,11,12,11,24,11,12,11,24,11,12,10,13,299,48,11,12,11,24,11,24,11,12,11,24,11,12,10,13,11,12,11,12,11,12,11,12,11,24,11,12,11,12,11,12,11,24,11,12,11,24,11,12,10,13,299","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":610,"y":80,"wires":[["e14546fc.fe30c8","839efdfc.0ea32"]]},{"id":"393eb183.5e465e","type":"mqtt in","z":"2bcc0ccb.cd26a4","name":"Sensor Gases (A9)","topic":"Arduino/PBLiving/out/Sensores/Analog/Max/9","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":170,"y":1040,"wires":[["9edc0a19.794db8","6a903a2a.4fd7b4","e460a020.75738"]]},{"id":"6a903a2a.4fd7b4","type":"ui_level","z":"2bcc0ccb.cd26a4","group":"cd9fc1f7.18d92","order":2,"width":0,"height":0,"name":"","label":"Gases","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"1024","segWarn":"","segHigh":"","unit":"units","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":2,"colorschema":"fixed","x":410,"y":1220,"wires":[]},{"id":"9edc0a19.794db8","type":"range","z":"2bcc0ccb.cd26a4","minin":"0","maxin":"1024","minout":"0","maxout":"100","action":"scale","round":true,"property":"payload","name":"","x":500,"y":1120,"wires":[["db45e8a6.be0778"]]},{"id":"e460a020.75738","type":"aggregator","z":"2bcc0ccb.cd26a4","name":"","topic":"","intervalCount":"5","intervalUnits":"m","submitIncompleteInterval":true,"submitPerTopic":false,"aggregationType":"max","x":730,"y":1040,"wires":[["6c69aa2e.3e1134"]]},{"id":"6c69aa2e.3e1134","type":"ui_chart","z":"2bcc0ccb.cd26a4","name":"","group":"2c0daec4.48feb2","order":3,"width":0,"height":0,"label":"Gases","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":930,"y":1040,"wires":[[]]},{"id":"db45e8a6.be0778","type":"ui_gauge","z":"2bcc0ccb.cd26a4","name":"","group":"2c0daec4.48feb2","order":2,"width":0,"height":0,"gtype":"gage","title":"Gases","label":"units","format":"{{value}}","min":0,"max":"100","colors":["#000000","#01928a","#166dfe"],"seg1":"30","seg2":"70","x":930,"y":1120,"wires":[]},{"id":"5f2e8b5d.c42ab4","type":"mqtt in","z":"57b26073.47916","name":"","topic":"Arduino/PBLiving/out/#","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":760,"y":1500,"wires":[["a153b813.839bf8"]]},{"id":"d6b860a2.05beb","type":"mqtt in","z":"57b26073.47916","name":"","topic":"Arduino/PBTablero/out/#","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":750,"y":1560,"wires":[["c1de68da.b823f8"]]},{"id":"2f022722.96eb88","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":790,"y":1320,"wires":[["93d41f08.230b4"]]},{"id":"fcb37e9f.1cf5a","type":"mqtt in","z":"930c94d9.38ece8","name":"Living Volts (A8)","topic":"Arduino/PBLiving/out/Sensores/Analog/Max/8","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":200,"y":160,"wires":[["8765ff6.a5792","6e0e9dbc.4eb0c4"]]},{"id":"8765ff6.a5792","type":"aggregator","z":"930c94d9.38ece8","name":"","topic":"","intervalCount":"5","intervalUnits":"m","submitIncompleteInterval":true,"aggregationType":"median","x":490,"y":140,"wires":[["bba6c43f.02c058"]]},{"id":"bba6c43f.02c058","type":"ui_chart","z":"930c94d9.38ece8","name":"","group":"a9d3b0bb.e316c","order":2,"width":0,"height":0,"label":"Volts 2","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"300","ymax":"800","removeOlder":"6","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":690,"y":140,"wires":[[]]},{"id":"6e0e9dbc.4eb0c4","type":"ui_gauge","z":"930c94d9.38ece8","name":"","group":"a9d3b0bb.e316c","order":1,"width":0,"height":0,"gtype":"gage","title":"Volts 2","label":"units","format":"{{value}}","min":"300","max":"800","colors":["#ff0404","#00d505","#ff1515"],"seg1":"200","seg2":"240","x":570,"y":80,"wires":[]},{"id":"a621d1.e6b56e3","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 1","topic":"Android/TvLiving/out/button/1","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1140,"wires":[["631a6258.e70a8c"]]},{"id":"631a6258.e70a8c","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1140,"wires":[["b507d1fb.5df69"]]},{"id":"b8643582.7d1508","type":"mqtt out","z":"9bee6473.dc8598","name":"Luz Living (48)","topic":"Arduino/PBTablero/in/Relay/48","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1600,"y":1940,"wires":[],"inputLabels":["kkl"]},{"id":"aaee4de6.a54c9","type":"mqtt out","z":"9bee6473.dc8598","name":"Toma SubWoofer (26)","topic":"Arduino/PBLiving/in/Relay/26","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":500,"y":1500,"wires":[],"inputLabels":["kkl"]},{"id":"d4159be6.5b0648","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 2","topic":"Android/TvLiving/out/button/2","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1200,"wires":[["fb9f9d9b.f4b11"]]},{"id":"35701897.e27398","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 3","topic":"Android/TvLiving/out/button/3","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1260,"wires":[["ac41bed0.c124a"]]},{"id":"fb9f9d9b.f4b11","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1200,"wires":[["cf2dab61.f057d8"]]},{"id":"ac41bed0.c124a","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1260,"wires":[["87a321db.ae531"]]},{"id":"87a348ea.8babc8","type":"link in","z":"230ac56e.bc629a","name":"Muteki Tele","links":["eac8c914.6a0148"],"x":315,"y":60,"wires":[["6fee71ed.0ff1"]]},{"id":"10c536dc.ed24f9","type":"link out","z":"9bee6473.dc8598","name":"","links":["3cea545.81724ac"],"x":575,"y":500,"wires":[]},{"id":"eac8c914.6a0148","type":"link out","z":"9bee6473.dc8598","name":"","links":["87a348ea.8babc8"],"x":575,"y":540,"wires":[]},{"id":"f8a14883.c752e8","type":"mqtt in","z":"9bee6473.dc8598","name":"CurrentApp","topic":"Android/TvLiving/out/CurrentApp/#","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":150,"y":520,"wires":[["1240fe29.0786e2"]]},{"id":"406afe6d.15da3","type":"mqtt in","z":"9bee6473.dc8598","name":"VolumeDown","topic":"Android/TvLiving/out/volume/down","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":940,"wires":[["da82011f.01a6e"]]},{"id":"ddb0ca5b.0123e8","type":"mqtt in","z":"9bee6473.dc8598","name":"VolumeUp","topic":"Android/TvLiving/out/volume/up","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":120,"y":1000,"wires":[["2773c1d9.00231e"]]},{"id":"da82011f.01a6e","type":"link out","z":"9bee6473.dc8598","name":"","links":["5572a01.4dc876"],"x":295,"y":940,"wires":[]},{"id":"2773c1d9.00231e","type":"link out","z":"9bee6473.dc8598","name":"","links":["8db477cd.aac3e8"],"x":295,"y":1000,"wires":[]},{"id":"8a314981.e48488","type":"change","z":"230ac56e.bc629a","name":"Volume Up","rules":[{"t":"set","p":"payload","pt":"msg","to":"49,10,13,10,25,10,13,10,13,11,24,10,13,10,13,10,13,10,13,11,12,10,13,11,25,11,24,10,13,10,13,442,49,10,13,10,25,10,13,10,13,11,24,10,13,10,13,10,13,10,13,11,12,10,13,11,25,11,24,10,13,10,13,442","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":690,"y":600,"wires":[["e14546fc.fe30c8","839efdfc.0ea32"]]},{"id":"a9c28ecf.eab8f","type":"change","z":"230ac56e.bc629a","name":"Volume Down","rules":[{"t":"set","p":"payload","pt":"msg","to":"49,10,25,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,12,10,13,10,13,10,25,10,25,10,13,10,13,430,49,10,25,10,25,10,13,10,13,10,25,10,13,10,13,10,13,10,12,10,13,10,13,10,25,10,25,10,13,10,13,430","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":700,"y":660,"wires":[["e14546fc.fe30c8","839efdfc.0ea32"]]},{"id":"8db477cd.aac3e8","type":"link in","z":"230ac56e.bc629a","name":"Volume Up","links":["744d68f5.52b7b8","2773c1d9.00231e"],"x":175,"y":600,"wires":[["8a314981.e48488"]]},{"id":"5572a01.4dc876","type":"link in","z":"230ac56e.bc629a","name":"Volume Down","links":["da82011f.01a6e"],"x":195,"y":700,"wires":[["a9c28ecf.eab8f"]]},{"id":"1240fe29.0786e2","type":"switch","z":"9bee6473.dc8598","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Tv","vt":"str"},{"t":"eq","v":"Netflix","vt":"str"},{"t":"eq","v":"YouTube","vt":"str"},{"t":"eq","v":"Plex","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":410,"y":520,"wires":[["10c536dc.ed24f9"],["eac8c914.6a0148"],["eac8c914.6a0148"],["eac8c914.6a0148"]]},{"id":"9498b8c3.c66448","type":"mqtt in","z":"9bee6473.dc8598","name":"Mute","topic":"Android/TvLiving/out/volume/mute","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":110,"y":1060,"wires":[["25714e8.454ecb2"]]},{"id":"25714e8.454ecb2","type":"link out","z":"9bee6473.dc8598","name":"","links":["7a8d5316.fd25ac"],"x":295,"y":1060,"wires":[]},{"id":"daeb0b1b.008378","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 7","topic":"Android/TvLiving/out/button/7","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1500,"wires":[["4ce2fc85.c90704"]]},{"id":"4ce2fc85.c90704","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1500,"wires":[["aaee4de6.a54c9"]]},{"id":"219aa266.f0553e","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 0","topic":"Android/TvLiving/out/button/0","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1720,"wires":[["2c6a112c.8fd2ae"]]},{"id":"2c6a112c.8fd2ae","type":"link out","z":"9bee6473.dc8598","name":"","links":["d8ffd3b2.e534f"],"x":275,"y":1720,"wires":[]},{"id":"f9f4734f.1aca5","type":"mqtt in","z":"9bee6473.dc8598","name":"ShutDown","topic":"Android/TvLiving/out/power/shutdown","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":400,"y":1020,"wires":[["3be5da58.c5d4a6","3284de1b.7198c2"]]},{"id":"3be5da58.c5d4a6","type":"link out","z":"9bee6473.dc8598","name":"","links":["ad23c6a.6bda438"],"x":575,"y":1040,"wires":[]},{"id":"e94cb371.a76dc","type":"mqtt out","z":"d4cc4a57.a7caa8","name":"","topic":"Arduino/PBTablero/in/RF433","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":980,"y":560,"wires":[],"inputLabels":["kkl"]},{"id":"90a692c0.1f9","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"73bc3aee.13bf44","order":9,"width":0,"height":0,"passthru":false,"label":"Prender","tooltip":"","color":"","bgcolor":"","icon":"","payload":"100000101100100011001000","payloadType":"str","topic":"","x":700,"y":640,"wires":[["8264b56d.0b3a68"]]},{"id":"8264b56d.0b3a68","type":"mqtt out","z":"d4cc4a57.a7caa8","name":"","topic":"Arduino/PBLiving/in/RF433","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":960,"y":642,"wires":[],"inputLabels":["kkl"]},{"id":"9f55c46f.c6d8b8","type":"switch","z":"235e5af0.561006","name":"Remoto 1","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"3000001","vt":"str"},{"t":"eq","v":"3000002","vt":"str"},{"t":"eq","v":"3000003","vt":"str"},{"t":"eq","v":"3000010","vt":"str"}],"checkall":"false","repair":false,"outputs":4,"x":600,"y":780,"wires":[["13249727.188d79"],["cf8da29c.aee53"],["7c6d648f.70542c"],["eff538e0.ffbe98"]],"outputLabels":["A","B","C","D"]},{"id":"13249727.188d79","type":"function","z":"235e5af0.561006","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":760,"wires":[["b7c22d24.54a4b"]]},{"id":"b7c22d24.54a4b","type":"mqtt out","z":"235e5af0.561006","name":"Luz Escritorio (30)","topic":"Arduino/PBTablero/in/Relay/30","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1150,"y":760,"wires":[],"inputLabels":["kkl"]},{"id":"2409d46b.9c7d3c","type":"trigger","z":"235e5af0.561006","op1":"","op2":"","op1type":"pay","op2type":"nul","duration":"500","extend":true,"units":"ms","reset":"","bytopic":"topic","name":"","x":420,"y":380,"wires":[["8654a4a2.6ce7f8","9f55c46f.c6d8b8","49957b79.19c924","c7aa34b2.867fb8"]]},{"id":"49957b79.19c924","type":"switch","z":"235e5af0.561006","name":"Remoto 2","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"3000011","vt":"str"},{"t":"eq","v":"3000012","vt":"str"},{"t":"eq","v":"3000013","vt":"str"},{"t":"eq","v":"3000015","vt":"str"}],"checkall":"false","repair":false,"outputs":4,"x":600,"y":860,"wires":[["13249727.188d79"],["cf8da29c.aee53"],["7c6d648f.70542c"],["eff538e0.ffbe98"]],"outputLabels":["A","B","C","D"]},{"id":"bb0482fe.9bf8c","type":"mqtt out","z":"235e5af0.561006","name":"Luz Comedor (26)","topic":"Arduino/PBTablero/in/Relay/26","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1130,"y":880,"wires":[],"inputLabels":["kkl"]},{"id":"8cb76675.df4e78","type":"mqtt out","z":"235e5af0.561006","name":"Luz Living (48)","topic":"Arduino/PBTablero/in/Relay/48","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1120,"y":940,"wires":[],"inputLabels":["kkl"]},{"id":"cf8da29c.aee53","type":"function","z":"235e5af0.561006","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":900,"wires":[["bb0482fe.9bf8c"]]},{"id":"7c6d648f.70542c","type":"function","z":"235e5af0.561006","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":940,"wires":[["8cb76675.df4e78"]]},{"id":"eff538e0.ffbe98","type":"link out","z":"235e5af0.561006","name":"","links":["a905769a.3cb038"],"x":900,"y":1040,"wires":[]},{"id":"b76b6203.dcece","type":"ui_button","z":"d4cc4a57.a7caa8","name":"","group":"73bc3aee.13bf44","order":9,"width":0,"height":0,"passthru":false,"label":"Apagar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"100000101100100011001001","payloadType":"str","topic":"","x":700,"y":700,"wires":[["8264b56d.0b3a68"]]},{"id":"93d41f08.230b4","type":"rpi-gpio out","z":"57b26073.47916","name":"Verde 4","pin":"7","set":"","level":"0","freq":"","out":"pwm","x":1220,"y":1260,"wires":[]},{"id":"a3be3ac3.08a0b8","type":"inject","z":"57b26073.47916","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":"3","x":150,"y":1380,"wires":[["78e4c2fd.b22c3c"]]},{"id":"78e4c2fd.b22c3c","type":"adv ping","z":"57b26073.47916","name":"","host":"192.168.2.2","x":310,"y":1380,"wires":[["51290915.961028"]]},{"id":"51290915.961028","type":"function","z":"57b26073.47916","name":"","func":"msg.hostname = \"Router PA\";\nif (msg.payload === false) return msg;\nif (msg.payload >= 0) msg.payload = true;\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":1380,"wires":[["116c2e55.3fe2a2"]]},{"id":"15e6e976.114667","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":790,"y":1200,"wires":[["24734ab7.b3bf66"]]},{"id":"116c2e55.3fe2a2","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"50","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":770,"y":1440,"wires":[["66cc9a32.9555c4"]]},{"id":"f32a2619.bc4298","type":"mqtt in","z":"254f6ab6.9adb86","name":"","topic":"RPI/BlueTooth","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":350,"y":280,"wires":[["7ea88ec0.cbd08"]]},{"id":"84ac9536.69a078","type":"mqtt out","z":"254f6ab6.9adb86","name":"Audio Patio (38)","topic":"Arduino/PBTablero/in/Relay/38","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1260,"y":400,"wires":[],"inputLabels":["kkl"]},{"id":"e9d7fc27.87877","type":"change","z":"254f6ab6.9adb86","name":"Audio Patio Off","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":260,"wires":[["84ac9536.69a078"]]},{"id":"7ea88ec0.cbd08","type":"switch","z":"254f6ab6.9adb86","name":"Conecto?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Disconnected","vt":"str"},{"t":"eq","v":"Connected","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":280,"wires":[["778ac368.022cbc","4b749e64.d5199"],["f2ea1215.b09"]]},{"id":"88f0291.63bc6d8","type":"function","z":"57b26073.47916","name":"LastSeen","func":"msg.LastSeen = new Date();\nreturn msg;","outputs":1,"noerr":0,"x":1340,"y":800,"wires":[["b492275e.fcfe48"]]},{"id":"95e968b8.b2d2f8","type":"function","z":"57b26073.47916","name":"LastSeen","func":"msg.LastSeen = new Date();\nreturn msg;","outputs":1,"noerr":0,"x":1340,"y":920,"wires":[["de8340ab.decd"]]},{"id":"3284de1b.7198c2","type":"change","z":"9bee6473.dc8598","name":"set TVLivingPrendida","rules":[{"t":"set","p":"TVLivingPrendida","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":960,"wires":[["d8544d49.d3492"]]},{"id":"d8544d49.d3492","type":"change","z":"9bee6473.dc8598","name":"set TVLivingPrendida","rules":[{"t":"set","p":"payload","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1000,"wires":[["6f83706c.5cbff"]]},{"id":"d23a3a74.2ed6d8","type":"ui_switch","z":"887b2e31.18293","name":"","label":"12V","tooltip":"","group":"b89f1435.0c4bf8","order":1,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/5","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1010,"y":580,"wires":[["8591f331.53aaf"]]},{"id":"70ceb7ed.bc3b58","type":"mqtt in","z":"75f22ec1.216f","name":"","topic":"Arduino/PBLiving/out/IP","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":100,"y":840,"wires":[["2c12a849.8dd988","deb38ffe.37448"]]},{"id":"47b1c09f.4ea53","type":"mqtt out","z":"75f22ec1.216f","name":"","topic":"Arduino/PBLiving/in/Encoder/0/MIN","qos":"","retain":"true","broker":"1ad27743.ce9fb9","x":540,"y":780,"wires":[]},{"id":"2c12a849.8dd988","type":"change","z":"75f22ec1.216f","name":"Min","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":800,"wires":[["47b1c09f.4ea53","75a02353.38b54c"]]},{"id":"75a02353.38b54c","type":"mqtt out","z":"75f22ec1.216f","name":"","topic":"Arduino/PBLiving/in/Encoder/1/MIN","qos":"","retain":"true","broker":"1ad27743.ce9fb9","x":540,"y":820,"wires":[]},{"id":"deb38ffe.37448","type":"change","z":"75f22ec1.216f","name":"Max","rules":[{"t":"set","p":"payload","pt":"msg","to":"120","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":880,"wires":[["c73c48d3.9448d8","58644a84.7e9e64"]]},{"id":"c73c48d3.9448d8","type":"mqtt out","z":"75f22ec1.216f","name":"","topic":"Arduino/PBLiving/in/Encoder/0/MAX","qos":"","retain":"true","broker":"1ad27743.ce9fb9","x":550,"y":860,"wires":[]},{"id":"58644a84.7e9e64","type":"mqtt out","z":"75f22ec1.216f","name":"","topic":"Arduino/PBLiving/in/Encoder/1/MAX","qos":"","retain":"true","broker":"1ad27743.ce9fb9","x":550,"y":900,"wires":[]},{"id":"49bb0231.5423cc","type":"switch","z":"611d2ba5.389f94","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":550,"y":80,"wires":[["ddc0a444.cd55f8"]]},{"id":"93e52afb.02aa18","type":"change","z":"611d2ba5.389f94","name":"","rules":[{"t":"set","p":"Pote2","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":560,"wires":[["3d88b3aa.d7cd6c"]]},{"id":"5c9fdad1.e0a4e4","type":"delay","z":"611d2ba5.389f94","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"24","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":500,"y":420,"wires":[["fba26c2c.32ce9","d4f546cd.ebdf88"]]},{"id":"99cf7cac.7f194","type":"delay","z":"611d2ba5.389f94","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"24","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":520,"y":540,"wires":[["93e52afb.02aa18","17267f05.d19c71"]]},{"id":"e82e1ba0.b22968","type":"mqtt in","z":"95877930.dde488","name":"Teclas Living Der 1 (49) (UTP Negro Naranja)","topic":"Arduino/PBLiving/out/Button/49/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":570,"y":260,"wires":[["c0e9d61d.5e9bd8"]]},{"id":"a53ca2b5.b8463","type":"mqtt in","z":"95877930.dde488","name":"Teclas Living Der 1 (47) (UTP Negro Naranja Claro)","topic":"Arduino/PBLiving/out/Button/47/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":510,"y":360,"wires":[["34824fdc.597ec"]]},{"id":"5205cc3e.dca144","type":"function","z":"95877930.dde488","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":260,"wires":[[]]},{"id":"aaa37ebb.8a33f","type":"function","z":"95877930.dde488","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":930,"y":360,"wires":[[]]},{"id":"ee17a62d.74b9f8","type":"mqtt in","z":"95877930.dde488","name":"Teclas Living Der 1 (35) (UTP Negro Naranja Claro)","topic":"Arduino/PBLiving/out/Button/35/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":390,"y":440,"wires":[["1c9ab0b1.3ff9cf"]]},{"id":"1c9ab0b1.3ff9cf","type":"function","z":"95877930.dde488","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":440,"wires":[[]]},{"id":"c91d6c77.56e9e","type":"mqtt in","z":"95877930.dde488","name":"Potenciometro 1 (13)","topic":"Arduino/PBLiving/out/Encoder/0","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":520,"y":600,"wires":[["39ca5ec.232a4a2"]]},{"id":"23a11fed.29b29","type":"mqtt in","z":"95877930.dde488","name":"Potenciometro 2 (14)","topic":"Arduino/PBLiving/out/Encoder/1/value","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":700,"y":720,"wires":[["eb9edfbd.dc77f"]]},{"id":"34824fdc.597ec","type":"switch","z":"95877930.dde488","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":790,"y":360,"wires":[["aaa37ebb.8a33f"]]},{"id":"c0e9d61d.5e9bd8","type":"switch","z":"95877930.dde488","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":790,"y":200,"wires":[["5205cc3e.dca144"]]},{"id":"36e66b85.e42a14","type":"change","z":"95877930.dde488","name":"","rules":[{"t":"set","p":"Pote2","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1020,"y":720,"wires":[[]]},{"id":"39ca5ec.232a4a2","type":"delay","z":"95877930.dde488","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"24","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":840,"y":580,"wires":[["b1f41318.7071f"]]},{"id":"eb9edfbd.dc77f","type":"delay","z":"95877930.dde488","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"24","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":860,"y":780,"wires":[["36e66b85.e42a14"]]},{"id":"b1f41318.7071f","type":"switch","z":"95877930.dde488","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"+","vt":"str"},{"t":"eq","v":"-","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1030,"y":580,"wires":[["3fab11c4.3b9dae"],["3f63fc9d.7b9534"]]},{"id":"3fab11c4.3b9dae","type":"function","z":"95877930.dde488","name":"CurrLedOnOff","func":"val = global.get(\"Pote3\");\nglobal.set(\"Pote3\", val + 1);\nmsg.payload = val + 1;\nreturn msg;","outputs":1,"noerr":0,"x":1300,"y":620,"wires":[[]]},{"id":"3f63fc9d.7b9534","type":"function","z":"95877930.dde488","name":"CurrLedOnOff","func":"val = global.get(\"Pote3\");\nglobal.set(\"Pote3\", val - 1);\nmsg.payload = val - 1;\nreturn msg;","outputs":1,"noerr":0,"x":1300,"y":660,"wires":[[]]},{"id":"e3fb212b.04a93","type":"rpi-gpio out","z":"254f6ab6.9adb86","name":"20","pin":"38","set":true,"level":"0","freq":"","out":"out","x":890,"y":620,"wires":[]},{"id":"a0fde477.db57f8","type":"rpi-gpio out","z":"254f6ab6.9adb86","name":"21","pin":"40","set":true,"level":"0","freq":"","out":"out","x":890,"y":660,"wires":[]},{"id":"66089779.236368","type":"ui_button","z":"254f6ab6.9adb86","name":"","group":"35f37aae.e9b246","order":1,"width":"3","height":"1","passthru":false,"label":"RaspBerry","tooltip":"","color":"","bgcolor":"","icon":"","payload":"1","payloadType":"num","topic":"","x":370,"y":500,"wires":[["bb8278c5.b6d8c8"]]},{"id":"efa3619a.6a1cb","type":"ui_button","z":"254f6ab6.9adb86","name":"","group":"35f37aae.e9b246","order":2,"width":"3","height":"1","passthru":false,"label":"PC","tooltip":"","color":"","bgcolor":"","icon":"","payload":"0","payloadType":"num","topic":"","x":310,"y":660,"wires":[["b1960c88.8eefe"]]},{"id":"c0feff95.cf193","type":"change","z":"611d2ba5.389f94","name":"","rules":[{"t":"set","p":"NroEncoder","pt":"msg","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":1060,"y":420,"wires":[[]]},{"id":"3d88b3aa.d7cd6c","type":"change","z":"611d2ba5.389f94","name":"","rules":[{"t":"set","p":"NroEncoder","pt":"msg","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":640,"wires":[[]]},{"id":"8eed7ea6.22117","type":"function","z":"75f22ec1.216f","name":"Enc Value","func":"msg.mode = flow.get(\"CurrLedMode\" + msg.currLed);\nvar NombrePote = \"CurrLed\" + msg.mode + \"Encoder\" +  msg.currLed;\nvar NroEncoder = 0;\nmsg.topic = \"Arduino/PBLiving/in/Encoder/\";\nvar EncValue = flow.get(NombrePote + NroEncoder)||global.get(\"Pote1\");\nmsg.topic = msg.topic + NroEncoder + \"/VALUE\"\nmsg.payload = EncValue\nreturn msg;","outputs":1,"noerr":0,"x":1180,"y":960,"wires":[[]]},{"id":"8362404c.1d174","type":"mqtt out","z":"75f22ec1.216f","name":"Strip 1","topic":"","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1810,"y":420,"wires":[],"inputLabels":["kkl"]},{"id":"d4f546cd.ebdf88","type":"ui_slider","z":"611d2ba5.389f94","name":"","label":"slider","tooltip":"","group":"f687a4d9.3b1578","order":5,"width":0,"height":0,"passthru":false,"outs":"all","topic":"","min":0,"max":"120","step":1,"x":670,"y":480,"wires":[["233d07c6.b7ac38","3e19ada3.3c4a02"]]},{"id":"17267f05.d19c71","type":"ui_slider","z":"611d2ba5.389f94","name":"","label":"slider","tooltip":"","group":"f687a4d9.3b1578","order":4,"width":0,"height":0,"passthru":false,"outs":"all","topic":"","min":0,"max":"120","step":1,"x":630,"y":620,"wires":[["f997c93f.667d78","ac45c04c.03031"]]},{"id":"f997c93f.667d78","type":"mqtt out","z":"611d2ba5.389f94","name":"","topic":"Arduino/PBLiving/out/Encoder/1/value","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":870,"y":700,"wires":[]},{"id":"ac45c04c.03031","type":"mqtt out","z":"611d2ba5.389f94","name":"","topic":"Arduino/PBLiving/in/Encoder/1/VALUE","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":870,"y":740,"wires":[]},{"id":"3e19ada3.3c4a02","type":"mqtt out","z":"611d2ba5.389f94","name":"","topic":"Arduino/PBLiving/in/Encoder/0/VALUE","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1150,"y":540,"wires":[]},{"id":"233d07c6.b7ac38","type":"mqtt out","z":"611d2ba5.389f94","name":"","topic":"Arduino/PBLiving/out/Encoder/0/value","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1150,"y":500,"wires":[]},{"id":"d8ec2413.71b388","type":"mqtt in","z":"611d2ba5.389f94","name":"Encoder 1 (14)","topic":"Arduino/PBLiving/in/Encoder/1/VALUE","qos":"0","datatype":"auto","broker":"1ad27743.ce9fb9","x":320,"y":640,"wires":[["17267f05.d19c71"]]},{"id":"78c14307.8bd40c","type":"mqtt in","z":"611d2ba5.389f94","name":"Encoder 0 (13)","topic":"Arduino/PBLiving/in/Encoder/0/VALUE","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":300,"y":480,"wires":[["d4f546cd.ebdf88"]]},{"id":"f800c336.45fb8","type":"ui_dropdown","z":"75f22ec1.216f","name":"","label":"Current Led","tooltip":"","place":"Select option","group":"f687a4d9.3b1578","order":1,"width":0,"height":0,"passthru":false,"options":[{"label":"Teclas","value":"5","type":"str"},{"label":"Parlante Izq","value":"1","type":"str"},{"label":"Parlante Central","value":"2","type":"str"},{"label":"Parlante Derecho","value":"3","type":"str"},{"label":"Techo","value":"4","type":"str"},{"label":"Node Pieza 1","value":"10","type":"str"},{"label":"Node Pieza 2","value":"11","type":"str"},{"label":"Todos","value":"99","type":"str"}],"payload":"","topic":"aa","x":450,"y":560,"wires":[["b4878cb0.93d7a"]]},{"id":"b4878cb0.93d7a","type":"function","z":"75f22ec1.216f","name":"Set CurrLed","func":"flow.set(\"CurrLed\",Number(msg.payload))\nmsg.currLed = Number(msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":560,"wires":[["aa7469b3.affdc8","18eb023b.c4dbce","23b035d0.b0b8ea","2865909.087147"]]},{"id":"2865909.087147","type":"function","z":"75f22ec1.216f","name":"Enc Value","func":"for (NroEncoder = 0; NroEncoder<2; NroEncoder++)\n{\n    msg.mode = flow.get(\"CurrLedMode\" + msg.currLed);\n    var NombrePote = \"CurrLed\" + msg.mode + \"Encoder\" +  msg.currLed;\n    msg.topic = \"Arduino/PBLiving/in/Encoder/\";\n    var EncValue = flow.get(NombrePote + NroEncoder)||global.get(\"Pote1\");\n    msg.topic = msg.topic + NroEncoder + \"/VALUE\"\n    msg.payload = EncValue\n    node.send(msg);    \n}\n","outputs":1,"noerr":0,"x":1040,"y":500,"wires":[["a3c7e18c.516c9"]]},{"id":"fdde1b53.70f7a8","type":"ui_switch","z":"75f22ec1.216f","name":"","label":"Prendido","tooltip":"","group":"f687a4d9.3b1578","order":3,"width":0,"height":0,"passthru":false,"decouple":"true","topic":"aa","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":420,"y":660,"wires":[["581e00a7.d56dd","1a2844.7fa6d7bd"]]},{"id":"581e00a7.d56dd","type":"function","z":"75f22ec1.216f","name":"CurrLedOnOff","func":"var CurrLed = flow.get(\"CurrLed\");\nvar Nombre = \"CurrLedOnOff\" + CurrLed;\nflow.set(Nombre,!flow.get(Nombre))\nreturn msg;","outputs":1,"noerr":0,"x":620,"y":640,"wires":[["e1797793.8d47b8"]]},{"id":"4f459fb5.14cfc","type":"function","z":"75f22ec1.216f","name":"CurrLed","func":"msg.payload = flow.get(\"CurrLed\");\nreturn msg;","outputs":1,"noerr":0,"x":280,"y":560,"wires":[["f800c336.45fb8"]]},{"id":"23b035d0.b0b8ea","type":"function","z":"75f22ec1.216f","name":"OnOff","func":"msg.currLed = flow.get(\"CurrLed\");\nvar Nombre = \"CurrLedOnOff\" + msg.currLed;\nmsg.payload = flow.get(Nombre);\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":640,"wires":[["fdde1b53.70f7a8"]]},{"id":"e1689a8f.406708","type":"ui_dropdown","z":"75f22ec1.216f","name":"","label":"Current Mode","tooltip":"","place":"Select option","group":"f687a4d9.3b1578","order":2,"width":0,"height":0,"passthru":false,"options":[{"label":"FILL","value":"FILL","type":"str"},{"label":"","value":"RAINBOW","type":"str"},{"label":"","value":"SINELON","type":"str"},{"label":"","value":"FULL","type":"str"},{"label":"","value":"CONFETTI","type":"str"},{"label":"","value":"JUGGLE","type":"str"}],"payload":"","topic":"aa","x":440,"y":600,"wires":[["77385e30.3ec13"]]},{"id":"18eb023b.c4dbce","type":"function","z":"75f22ec1.216f","name":"Current Mode","func":"var Nombre = \"CurrLedMode\" + msg.currLed;\nmsg.payload =  flow.get(Nombre)||\"FILL\";\nreturn msg;","outputs":1,"noerr":0,"x":260,"y":600,"wires":[["e1689a8f.406708"]]},{"id":"77385e30.3ec13","type":"function","z":"75f22ec1.216f","name":"Set CurrMode","func":"msg.currLed = flow.get(\"CurrLed\");\nvar Nombre = \"CurrLedMode\" + msg.currLed;\nmsg.mode = msg.payload;\nflow.set(Nombre,msg.mode);\nreturn msg;\n","outputs":1,"noerr":0,"x":620,"y":600,"wires":[["e1797793.8d47b8","2865909.087147"]]},{"id":"253a00c4.be1f","type":"link in","z":"254f6ab6.9adb86","name":"Entrada PC","links":["b1960c88.8eefe"],"x":495,"y":660,"wires":[["9a03b8ea.1ab368","fb60839.afa9a8","27aa24c3.d6485c"]]},{"id":"f86aadcf.035b9","type":"link in","z":"254f6ab6.9adb86","name":"Entrada RPI","links":["bb8278c5.b6d8c8","f8a83356.4740f"],"x":495,"y":600,"wires":[["c3a6fe1.5c1b3","9db79f15.e8a6f","6510afa0.6ef8c","7085b6aa.927138"]]},{"id":"9a03b8ea.1ab368","type":"change","z":"254f6ab6.9adb86","name":"0","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":660,"wires":[["e3fb212b.04a93","a0fde477.db57f8"]]},{"id":"c3a6fe1.5c1b3","type":"change","z":"254f6ab6.9adb86","name":"1","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":620,"wires":[["a0fde477.db57f8","e3fb212b.04a93"]]},{"id":"7982797.f7bfb88","type":"change","z":"254f6ab6.9adb86","name":"Prender Parlantes","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":560,"wires":[["84ac9536.69a078"]]},{"id":"b1960c88.8eefe","type":"link out","z":"254f6ab6.9adb86","name":"","links":["253a00c4.be1f"],"x":415,"y":660,"wires":[]},{"id":"bb8278c5.b6d8c8","type":"link out","z":"254f6ab6.9adb86","name":"","links":["f86aadcf.035b9"],"x":975,"y":360,"wires":[]},{"id":"f8a83356.4740f","type":"link out","z":"d0c77eb4.886e7","name":"","links":["f86aadcf.035b9"],"x":855,"y":80,"wires":[]},{"id":"bfc6aafc.953778","type":"switch","z":"d0c77eb4.886e7","name":"Apagada?","property":"CompuPrendida","propertyType":"global","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":710,"y":80,"wires":[["f8a83356.4740f","ed873ba0.52a518"]],"outputLabels":["Apagada"]},{"id":"ed873ba0.52a518","type":"mqtt out","z":"d0c77eb4.886e7","name":"Audio Patio (38)","topic":"Arduino/PBTablero/in/Relay/38","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":920,"y":40,"wires":[],"inputLabels":["kkl"]},{"id":"ef553b5b.2b7f68","type":"rpi-gpio out","z":"254f6ab6.9adb86","name":"16","pin":"36","set":true,"level":"1","freq":"","out":"out","x":890,"y":720,"wires":[]},{"id":"27aa24c3.d6485c","type":"change","z":"254f6ab6.9adb86","name":"1","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":740,"wires":[["ef553b5b.2b7f68"]]},{"id":"6510afa0.6ef8c","type":"change","z":"254f6ab6.9adb86","name":"0","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":700,"wires":[["ef553b5b.2b7f68"]]},{"id":"fb60839.afa9a8","type":"change","z":"254f6ab6.9adb86","name":"AudioInput PC","rules":[{"t":"set","p":"AudioInput","pt":"flow","to":"PC","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":720,"y":560,"wires":[["7982797.f7bfb88"]]},{"id":"9db79f15.e8a6f","type":"change","z":"254f6ab6.9adb86","name":"AudioInput RPI","rules":[{"t":"set","p":"AudioInput","pt":"flow","to":"RPI","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":720,"y":520,"wires":[["21f688da.e62ee8"]]},{"id":"778ac368.022cbc","type":"switch","z":"254f6ab6.9adb86","name":"RPI?","property":"AudioInput","propertyType":"flow","rules":[{"t":"eq","v":"RPI","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":710,"y":240,"wires":[["e9d7fc27.87877"]]},{"id":"1a2844.7fa6d7bd","type":"function","z":"75f22ec1.216f","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":410,"y":700,"wires":[["fdde1b53.70f7a8"]]},{"id":"57871013.eb375","type":"range","z":"75f22ec1.216f","minin":"0","maxin":"120","minout":"0","maxout":"50","action":"scale","round":true,"property":"spread","name":"spread","x":1330,"y":440,"wires":[["d412b5c2.cad878"]]},{"id":"32232114.6a95ee","type":"function","z":"75f22ec1.216f","name":"Enc Loop","func":"var NroEncoder = 0;\nmsg.topic = \"Arduino/PBLiving/in/Encoder/\";\nmsg.topic = msg.topic + NroEncoder + \"/LOOP\"\nmsg.payload = msg.EncLoop0\nreturn msg;","outputs":1,"noerr":0,"x":1040,"y":540,"wires":[["a3c7e18c.516c9"]]},{"id":"a3c7e18c.516c9","type":"mqtt out","z":"75f22ec1.216f","name":"","topic":"","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1190,"y":540,"wires":[]},{"id":"a8c46272.991","type":"function","z":"75f22ec1.216f","name":"Enc Loop","func":"var NroEncoder = 1;\nmsg.topic = \"Arduino/PBLiving/in/Encoder/\";\nmsg.topic = msg.topic + NroEncoder + \"/LOOP\"\nmsg.payload = msg.EncLoop1\nreturn msg;","outputs":1,"noerr":0,"x":1040,"y":580,"wires":[["a3c7e18c.516c9"]]},{"id":"49702e85.9de17","type":"function","z":"75f22ec1.216f","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":560,"wires":[["32232114.6a95ee","a8c46272.991"]]},{"id":"9b70fc68.7aae3","type":"ui_button","z":"75f22ec1.216f","name":"","group":"f687a4d9.3b1578","order":10,"width":0,"height":0,"passthru":false,"label":"Curr Mode","tooltip":"","color":"","bgcolor":"","icon":"","payload":"1","payloadType":"str","topic":"","x":160,"y":460,"wires":[["b96f3183.63427"]]},{"id":"f12c3ac9.7a4288","type":"ui_button","z":"75f22ec1.216f","name":"","group":"f687a4d9.3b1578","order":5,"width":0,"height":0,"passthru":false,"label":"Curr Led","tooltip":"","color":"","bgcolor":"","icon":"","payload":"1","payloadType":"str","topic":"","x":150,"y":420,"wires":[["b4ead4ce.3b6be8"]]},{"id":"2c463fee.0bcca","type":"ui_colour_picker","z":"75f22ec1.216f","name":"","label":"","group":"f687a4d9.3b1578","format":"hsv","outformat":"object","showSwatch":true,"showPicker":false,"showValue":false,"showHue":true,"showAlpha":false,"showLightness":true,"square":"true","dynOutput":"false","order":7,"width":0,"height":0,"passthru":false,"topic":"","x":1370,"y":680,"wires":[["ea1f96fe.8f54c8"]]},{"id":"f7028ca.c30fd7","type":"function","z":"75f22ec1.216f","name":"RGB","func":"msg.payload = \"rgb(\" + msg.payload + \")\";\nreturn msg;","outputs":1,"noerr":0,"x":1350,"y":600,"wires":[["2c463fee.0bcca"]]},{"id":"ea1f96fe.8f54c8","type":"function","z":"75f22ec1.216f","name":"RGB","func":"var pl = msg.payload;\nfor (nro = 0 ; nro < 2 ; nro++)\n{\n    msg.hue2 = -99;\n    msg.light2 = -0.2;\n    if (flow.get(\"EncMode\" + nro) == \"hue\")\n    {\n        msg.tt = \"h\";\n        msg.NroEncoder = nro;\n        msg.hue2 = pl.h;\n        node.send(msg);\n    }\n    if (flow.get(\"EncMode\" + nro) == \"light\")\n    {\n        msg.tt = \"l\";\n        msg.NroEncoder = nro;\n        msg.light2 = pl.v;\n        node.send(msg);\n    }\n}\n\n","outputs":1,"noerr":0,"x":1510,"y":720,"wires":[["4c4e20dc.d469e"]]},{"id":"4c4e20dc.d469e","type":"range","z":"75f22ec1.216f","minin":"0","maxin":"358","minout":"0","maxout":"120","action":"scale","round":true,"property":"hue2","name":"hue","x":1470,"y":800,"wires":[["c0d2556a.189a68"]]},{"id":"c0d2556a.189a68","type":"range","z":"75f22ec1.216f","minin":"0","maxin":"1","minout":"0","maxout":"120","action":"scale","round":true,"property":"light2","name":"light","x":1490,"y":840,"wires":[["e509385b.986a18"]]},{"id":"e509385b.986a18","type":"function","z":"75f22ec1.216f","name":"RGB","func":"if (msg.hue2 >= 0) msg.payload = msg.hue2;\nif (msg.light2 >= 0) msg.payload = msg.light2;\nmsg.test = 1;\nmsg.test = null;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":880,"wires":[["efb462ab.601b6"]]},{"id":"d8177543.1e7668","type":"trigger","z":"611d2ba5.389f94","op1":"","op2":"long","op1type":"nul","op2type":"str","duration":"2","extend":false,"units":"s","reset":"0","bytopic":"all","name":"","x":560,"y":220,"wires":[[]]},{"id":"563f64e3.0f82dc","type":"function","z":"75f22ec1.216f","name":"Cambiar CurrLed","func":"var CurrLed = 99;\nflow.set(\"CurrLed\",CurrLed)\nmsg.currLed = CurrLed;\nmsg.payload = CurrLed; // para el dropdown\nreturn msg;","outputs":1,"noerr":0,"x":210,"y":120,"wires":[["4f459fb5.14cfc","aa7469b3.affdc8"]]},{"id":"674a5e47.ef7a7","type":"ui_slider","z":"254f6ab6.9adb86","name":"","label":"Volumen","tooltip":"","group":"35f37aae.e9b246","order":6,"width":0,"height":0,"passthru":false,"outs":"all","topic":"LIVING/in/volume","min":0,"max":"100","step":1,"x":680,"y":960,"wires":[["a75ed155.98f35"]]},{"id":"d7bf09b8.5ef818","type":"mqtt out","z":"254f6ab6.9adb86","name":"","topic":"","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1280,"y":940,"wires":[],"inputLabels":["kkl"]},{"id":"c79f595.9a94ba8","type":"mqtt in","z":"254f6ab6.9adb86","name":"Comp Volume","topic":"LIVING/out/volume","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":220,"y":960,"wires":[["6e1f9113.6c611"]]},{"id":"af228dc5.3cbf","type":"ui_button","z":"254f6ab6.9adb86","name":"","group":"5635ed61.b910e4","order":5,"width":0,"height":0,"passthru":false,"label":"Mute","tooltip":"","color":"","bgcolor":"","icon":"","payload":"0","payloadType":"num","topic":"","x":780,"y":900,"wires":[["ad04a5de.b58ab8"]]},{"id":"d0ff8e4f.9f80d","type":"mqtt in","z":"254f6ab6.9adb86","name":"","topic":"RPI/out/volume","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":230,"y":1000,"wires":[["da3157ad.14b028"]]},{"id":"da3157ad.14b028","type":"switch","z":"254f6ab6.9adb86","name":"RPI","property":"AudioInput","propertyType":"flow","rules":[{"t":"eq","v":"RPI","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":400,"y":1000,"wires":[["80eb4483.72cd88"]]},{"id":"168a7cfe.a82503","type":"ui_slider","z":"d0c77eb4.886e7","name":"","label":"Volumen","tooltip":"","group":"5635ed61.b910e4","order":5,"width":0,"height":0,"passthru":false,"outs":"all","topic":"LIVING/in/volume","min":0,"max":"100","step":1,"x":790,"y":580,"wires":[["aa82e588.d6f338"]]},{"id":"22ff146a.f2a21c","type":"mqtt in","z":"d0c77eb4.886e7","name":"Comp Volume","topic":"LIVING/out/volume","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":630,"y":580,"wires":[["168a7cfe.a82503"]]},{"id":"aa82e588.d6f338","type":"mqtt out","z":"d0c77eb4.886e7","name":"","topic":"","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":950,"y":560,"wires":[],"inputLabels":["kkl"]},{"id":"233ee828.b83ff8","type":"ui_button","z":"d0c77eb4.886e7","name":"","group":"35f37aae.e9b246","order":4,"width":"3","height":"1","passthru":false,"label":"Mute","tooltip":"","color":"","bgcolor":"","icon":"","payload":"0","payloadType":"num","topic":"LIVING/in/Mute","x":810,"y":520,"wires":[["aa82e588.d6f338"]]},{"id":"6e1f9113.6c611","type":"switch","z":"254f6ab6.9adb86","name":"PC","property":"AudioInput","propertyType":"flow","rules":[{"t":"eq","v":"PC","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":400,"y":960,"wires":[["674a5e47.ef7a7"]]},{"id":"a75ed155.98f35","type":"switch","z":"254f6ab6.9adb86","name":"RPI / PC","property":"AudioInput","propertyType":"flow","rules":[{"t":"eq","v":"PC","vt":"str"},{"t":"eq","v":"RPI","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":840,"y":960,"wires":[["daeb8c8f.81e92"],["797442f3.a10e1c"]]},{"id":"daeb8c8f.81e92","type":"change","z":"254f6ab6.9adb86","name":"PC","rules":[{"t":"set","p":"topic","pt":"msg","to":"LIVING/in/volume","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1100,"y":960,"wires":[["d7bf09b8.5ef818"]]},{"id":"1a4097.7d08df6a","type":"change","z":"254f6ab6.9adb86","name":"RPI","rules":[{"t":"set","p":"topic","pt":"msg","to":"RPI/in/volume","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1100,"y":1000,"wires":[["d7bf09b8.5ef818"]]},{"id":"ad04a5de.b58ab8","type":"switch","z":"254f6ab6.9adb86","name":"RPI / PC","property":"AudioInput","propertyType":"flow","rules":[{"t":"eq","v":"PC","vt":"str"},{"t":"eq","v":"RPI","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":930,"y":900,"wires":[["c486dba.bbdca28"],["d9d330f1.657d3"]]},{"id":"c486dba.bbdca28","type":"change","z":"254f6ab6.9adb86","name":"PC","rules":[{"t":"set","p":"topic","pt":"msg","to":"LIVING/in/Mute","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1100,"y":880,"wires":[["d7bf09b8.5ef818"]]},{"id":"d9d330f1.657d3","type":"change","z":"254f6ab6.9adb86","name":"RPI","rules":[{"t":"set","p":"topic","pt":"msg","to":"RPI/in/mute","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1100,"y":920,"wires":[["d7bf09b8.5ef818"]]},{"id":"80eb4483.72cd88","type":"range","z":"254f6ab6.9adb86","minin":"65","maxin":"100","minout":"0","maxout":"100","action":"clamp","round":true,"property":"payload","name":"","x":540,"y":1020,"wires":[["674a5e47.ef7a7"]]},{"id":"797442f3.a10e1c","type":"range","z":"254f6ab6.9adb86","minin":"0","maxin":"100","minout":"65","maxout":"100","action":"clamp","round":true,"property":"payload","name":"","x":970,"y":1020,"wires":[["1a4097.7d08df6a"]]},{"id":"d90ca1be.aa2ca","type":"mqtt out","z":"254f6ab6.9adb86","name":"","topic":"RPI/in/volume","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":880,"y":480,"wires":[],"inputLabels":["kkl"]},{"id":"7085b6aa.927138","type":"change","z":"254f6ab6.9adb86","name":"Volumen","rules":[{"t":"set","p":"payload","pt":"msg","to":"100","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":700,"y":480,"wires":[["d90ca1be.aa2ca"]]},{"id":"b00b7b43.afc8f8","type":"function","z":"75f22ec1.216f","name":"All Off","func":"msg.currLed = 1;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff1\",false);\nnode.send(msg);\n\nmsg.currLed = 2;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff\" + msg.currLed ,false);\nnode.send(msg);\n\nmsg.currLed = 3;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff\" + msg.currLed ,false);\nnode.send(msg);\n\nmsg.currLed = 4;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff\" + msg.currLed ,false);\nnode.send(msg);\n\nmsg.currLed = 99;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff\" + msg.currLed ,false);\nnode.send(msg);\n","outputs":1,"noerr":0,"x":830,"y":1020,"wires":[["2865909.087147","fd377c17.ed514"]]},{"id":"936eb143.a0189","type":"ui_button","z":"75f22ec1.216f","name":"","group":"f687a4d9.3b1578","order":8,"width":0,"height":0,"passthru":false,"label":"Escea","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":670,"y":1100,"wires":[["70f2d491.7d564c"]]},{"id":"fd377c17.ed514","type":"function","z":"75f22ec1.216f","name":"Setear Topic CurrLed","func":"switch(parseInt(msg.currLed))\n{\n    case 1:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/0/\"\n        break;\n    case 2:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/2/\";\n        break;\n    case 3:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/3/\";\n        break;\n    case 4:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/1/\";\n        break;\n     case 5:\n        msg.topic = \"Arduino/PBLiving/in/WSSTRIP/0/\";\n        break;\n     case 10:\n        msg.topic = \"NodeMcu/PiezaNuestra/in/WSSTRIP/0/\";\n        break;\n     case 11:\n        msg.topic = \"NodeMcu/PiezaNuestra/in/WSSTRIP/1/\";\n        break;\n    case 99:\n        msg.topic = \"Arduino/PBTablero/in/WSSTRIP/0,1,2,3/\";\n        break;\n} \nflow.set(\"CurrLedTopic\",msg.topic);\nreturn msg;","outputs":1,"noerr":0,"x":860,"y":720,"wires":[["e1797793.8d47b8"]]},{"id":"ed3caea1.14085","type":"mqtt out","z":"9bee6473.dc8598","name":"","topic":"Arduino/PBTablero/in/IR/RAW","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1550,"y":720,"wires":[]},{"id":"c9463021.a8f87","type":"ui_switch","z":"887b2e31.18293","name":"Living 3","label":"Living 3","tooltip":"","group":"6d3da8b1.90ed78","order":1,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/46","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1020,"y":500,"wires":[["8591f331.53aaf"]]},{"id":"e8d70996.265418","type":"ui_switch","z":"887b2e31.18293","name":"Living 2","label":"Living 2","tooltip":"","group":"6d3da8b1.90ed78","order":1,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/44","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1020,"y":460,"wires":[["8591f331.53aaf"]]},{"id":"e5b9b0f.2b9625","type":"ui_switch","z":"887b2e31.18293","name":"Comedor Centro","label":"Comedor Centro","tooltip":"","group":"8baa852c.3b6cc8","order":2,"width":"3","height":"1","passthru":false,"decouple":"false","topic":"Arduino/PBTablero/in/Relay/24","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","x":1050,"y":620,"wires":[["8591f331.53aaf"]]},{"id":"889bd440.0cc928","type":"mqtt out","z":"bb63d718.931208","name":"Luz Living Principal (44)","topic":"Arduino/PBTablero/in/Relay/44","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":1330,"y":720,"wires":[],"inputLabels":["kkl"]},{"id":"50225624.29c5c8","type":"delay","z":"75f22ec1.216f","name":"","pauseType":"queue","timeout":"5","timeoutUnits":"seconds","rate":"24","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1650,"y":420,"wires":[["8362404c.1d174"]]},{"id":"70f2d491.7d564c","type":"function","z":"75f22ec1.216f","name":"Escena","func":"msg.mode = \"FILL\";\nmsg.currLed = 1;\nflow.set(\"CurrLed\",msg.currLed);\n//flow.set(\"CurrLed\"+ msg.mode + \"Encoder\" + msg.currLed + \"0\",120);\n//flow.set(\"CurrLed\"+ msg.mode + \"Encoder\" + msg.currLed + \"1\",0);\n//flow.set(\"CurrLedMode\"+ msg.currLed ,msg.mode);\n//flow.set(\"CurrLedOnOff\" + msg.currLed,true);\nnode.send(msg);\n\nmsg.currLed = 2;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLed\"+ msg.mode + \"Encoder\" + msg.currLed + \"0\",40);\nflow.set(\"CurrLed\"+ msg.mode + \"Encoder\" + msg.currLed + \"1\",0);\nflow.set(\"CurrLedMode\"+ msg.currLed,msg.mode);\nflow.set(\"CurrLedOnOff\" + msg.currLed,true);\nnode.send(msg);\n\nreturn;\nmsg.currLed = 3;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLed\"+ msg.mode + \"Encoder\" + msg.currLed + \"0\",80);\nflow.set(\"CurrLed\"+ msg.mode + \"Encoder\" + msg.currLed + \"1\",0);\nflow.set(\"CurrLedMode\"+ msg.currLed ,msg.mode);\nflow.set(\"CurrLedOnOff\" + msg.currLed,true);\nnode.send(msg);","outputs":1,"noerr":0,"x":840,"y":1080,"wires":[["fd377c17.ed514","2865909.087147"]]},{"id":"1979ee24.a7e492","type":"ui_button","z":"75f22ec1.216f","name":"","group":"f687a4d9.3b1578","order":8,"width":0,"height":0,"passthru":false,"label":"Apagar Todos","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":680,"y":980,"wires":[["b00b7b43.afc8f8"]]},{"id":"850e61b2.483ec","type":"link in","z":"75f22ec1.216f","name":"Apagar Todos","links":["fde89d11.67f4c","13259406.fd9c8c"],"x":715,"y":1040,"wires":[["b00b7b43.afc8f8"]]},{"id":"cc869471.e6b798","type":"mqtt in","z":"235e5af0.561006","name":"Sensor Movimiento Living (8)","topic":"Arduino/PBLiving/out/Button/8","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":420,"y":120,"wires":[["6d174464.fc7edc"]]},{"id":"6d174464.fc7edc","type":"switch","z":"235e5af0.561006","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":650,"y":120,"wires":[["c1046727.893738","9e27c7f0.bde738"]]},{"id":"b6ca793.0ceb988","type":"switch","z":"235e5af0.561006","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":650,"y":60,"wires":[["dbcfdb9c.cc17f8","875113b9.1007f"]]},{"id":"467cdc6b.580a24","type":"mqtt in","z":"235e5af0.561006","name":"Sensor Movimiento Vestidor (17)","topic":"Arduino/PBTablero/out/Button/17","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":430,"y":60,"wires":[["b6ca793.0ceb988"]]},{"id":"690ec881.6b6488","type":"function","z":"57b26073.47916","name":"WSLeds FPS","func":"msg.topic = msg.topic + \"WSSTRIP/FPS\";\nmsg.payload = 30;\nreturn msg;","outputs":1,"noerr":0,"x":740,"y":520,"wires":[["c1566fcc.e4eaa"]]},{"id":"839efdfc.0ea32","type":"mqtt out","z":"230ac56e.bc629a","name":"","topic":"NodeMcu/NodeTest/in/IR/RAW","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":990,"y":600,"wires":[]},{"id":"2f91069b.d0f17a","type":"mqtt in","z":"9bee6473.dc8598","name":"Teclas NodeMcu Pieza Nuestra","topic":"NodeMcu/PiezaNuestra/out/Button/16/toggle","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":150,"y":160,"wires":[["279fb7a.3818748","22e9676.8a7eb98"]]},{"id":"279fb7a.3818748","type":"switch","z":"9bee6473.dc8598","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":370,"y":160,"wires":[["904ba9a9.7982b8"],[]]},{"id":"46a26612.ea60a8","type":"mqtt in","z":"57b26073.47916","name":"","topic":"NodeMcu/+/out/IP","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":1330,"y":540,"wires":[["e360b60a.b071a8"]]},{"id":"e360b60a.b071a8","type":"function","z":"57b26073.47916","name":"Inicializar","func":"var topics = msg.topic.split(\"/\");\nif (topics[0].toUpperCase() == \"NODEMCU\")\n{\n    msg.ip = msg.topic;\n    msg.topic = \"NodeMcu/\" + topics[1] + \"/in/\";\n    msg.ArduinoName = \"NodeMcu/\" + topics[1];\n    msg.host = msg.payload;\n    global.set(msg.ArduinoName,msg.payload);\n    return msg;    \n}\n","outputs":1,"noerr":0,"x":1520,"y":540,"wires":[["d739f16a.2cc3c","9c2a0d06.3f702","bfcfdbe9.f83478"]]},{"id":"d739f16a.2cc3c","type":"function","z":"57b26073.47916","name":"Milis","func":"msg.topic = msg.topic + \"Sensores/MILIS\";\nmsg.payload = 50;\nreturn msg;","outputs":1,"noerr":0,"x":1710,"y":500,"wires":[["e49c3dc2.2a193"]]},{"id":"9c2a0d06.3f702","type":"function","z":"57b26073.47916","name":"Noise Milis","func":"msg.topic = msg.topic + \"Relay/NOISEMILLIS\";\nmsg.payload = 30;\nreturn msg;","outputs":1,"noerr":0,"x":1730,"y":540,"wires":[["e49c3dc2.2a193"]]},{"id":"bfcfdbe9.f83478","type":"function","z":"57b26073.47916","name":"WSLeds FPS","func":"msg.topic = msg.topic + \"WSSTRIP/FPS\";\nmsg.payload = 120;\nreturn msg;","outputs":1,"noerr":0,"x":1740,"y":580,"wires":[["e49c3dc2.2a193"]]},{"id":"e49c3dc2.2a193","type":"mqtt out","z":"57b26073.47916","name":"","topic":"","qos":"","retain":"true","broker":"1ad27743.ce9fb9","x":1950,"y":540,"wires":[]},{"id":"22e9676.8a7eb98","type":"trigger","z":"9bee6473.dc8598","op1":"","op2":"long","op1type":"nul","op2type":"str","duration":"2","extend":false,"units":"s","reset":"0","bytopic":"all","name":"","x":380,"y":100,"wires":[[]]},{"id":"bb3e943a.d582b8","type":"ui_text","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":15,"width":0,"height":0,"name":"Node Pieza","label":"LastSeen","format":"{{msg.LastSeen}}","layout":"row-spread","x":1490,"y":960,"wires":[]},{"id":"d820f78a.1ba9c8","type":"mqtt in","z":"57b26073.47916","name":"","topic":"NodeMcu/PiezaNuestra/out/LastSeen","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":1090,"y":980,"wires":[["b1fe0ba6.0eb548","9bd6f3d.c10651"]]},{"id":"b1fe0ba6.0eb548","type":"trigger","z":"57b26073.47916","op1":"true","op2":"false","op1type":"bool","op2type":"bool","duration":"7","extend":true,"units":"s","reset":"","bytopic":"topic","name":"","x":1340,"y":1000,"wires":[["26264ea0.cae692"]]},{"id":"26264ea0.cae692","type":"ui_led","z":"57b26073.47916","group":"b89f1435.0c4bf8","order":14,"width":0,"height":0,"label":"Node Pieza Ok","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"red","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"name":"Node Pieza OK","x":1500,"y":1000,"wires":[]},{"id":"9bd6f3d.c10651","type":"function","z":"57b26073.47916","name":"LastSeen","func":"msg.LastSeen = new Date();\nreturn msg;","outputs":1,"noerr":0,"x":1340,"y":960,"wires":[["bb3e943a.d582b8"]]},{"id":"f21e4434.e3aef8","type":"ui_button","z":"57b26073.47916","name":"","group":"b89f1435.0c4bf8","order":16,"width":0,"height":0,"passthru":false,"label":"Reboot Node Pieza","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1230,"y":340,"wires":[["aaed4da3.1d519"]]},{"id":"aaed4da3.1d519","type":"mqtt out","z":"57b26073.47916","name":"","topic":"NodeMcu/PiezaNuestra/in/RESET","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1540,"y":340,"wires":[]},{"id":"86d78556.63ede8","type":"ui_button","z":"295f893a.42f726","name":"","group":"9baecddc.3dece","order":2,"width":"3","height":"1","passthru":false,"label":"Direct","tooltip":"","color":"","bgcolor":"","icon":"fa-rss","payload":"89,89,12,31,11,11,12,31,11,31,12,11,11,11,12,31,11,12,12,11,11,31,12,11,11,11,12,31,11,31,12,11,11,31,12,11,11,12,12,11,11,11,12,31,11,31,12,31,12,31,12,31,12,31,12,31,12,31,12,11,12,11,12,11,12,11,12,31,12,31,12,31,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,11,32,12,31,12,31,12,31,12,31,12","payloadType":"str","topic":"","x":650,"y":780,"wires":[["8154ad80.e9747"]]},{"id":"e804966f.f9e3e8","type":"link in","z":"295f893a.42f726","name":"AAC ¨Pieza Apagar","links":[],"x":455,"y":840,"wires":[["73a0fa3b.741ba4"]]},{"id":"73a0fa3b.741ba4","type":"change","z":"295f893a.42f726","name":"Apagar AAC","rules":[{"t":"set","p":"payload","pt":"msg","to":"90,88,12,31,12,11,12,31,12,31,12,11,11,11,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,11,12,31,12,11,11,31,12,31,11,31,12,31,11,11,12,31,12,31,12,31,12,11,12,11,12,11,12,11,11,31,12,11,11,11,12,31,11,31,12,31,12,11,12,11,12,11,12,11,11,11,12,11,11,11,12,11,11,31,12,31,11,31,12,31,12,31,12,89,90,89,11,31,12,11,11,31,12,31,11,11,12,11,11,31,12,11,11,11,12,31,11,11,12,11,11,31,12,31,11,11,12,31,11,11,12,31,12,31,12,31,12,31,12,11,12,31,12,31,12,31,12,11,12,11,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,31,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,31,12,31,12,31,12,31,12,31,12","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":670,"y":840,"wires":[["8154ad80.e9747"]]},{"id":"e1288df.e7d9f7","type":"ui_slider","z":"295f893a.42f726","name":"","label":"Ventilador","tooltip":"","group":"9baecddc.3dece","order":5,"width":"4","height":"1","passthru":true,"outs":"end","topic":"","min":"1","max":"3","step":1,"x":220,"y":1040,"wires":[["5121bdbd.8d48a4"]]},{"id":"39ba01ae.d74a0e","type":"ui_switch","z":"295f893a.42f726","name":"","label":"Frio","tooltip":"","group":"9baecddc.3dece","order":4,"width":"2","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":230,"y":960,"wires":[["890cc36e.6095f"]]},{"id":"6420c64.cefb838","type":"ui_switch","z":"295f893a.42f726","name":"","label":"Prendido","tooltip":"","group":"9baecddc.3dece","order":3,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":220,"y":900,"wires":[["63173c28.5500c4"]]},{"id":"890cc36e.6095f","type":"change","z":"295f893a.42f726","name":"","rules":[{"t":"set","p":"AACPiezaFrio","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":960,"wires":[["21eab5f4.6d638a"]]},{"id":"5121bdbd.8d48a4","type":"change","z":"295f893a.42f726","name":"","rules":[{"t":"set","p":"AACPiezaVentilador","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":1040,"wires":[["21eab5f4.6d638a"]]},{"id":"21eab5f4.6d638a","type":"function","z":"295f893a.42f726","name":"","func":"if (global.get(\"AACPiezaPrendido\") === false) {\n    return; \n}\nvar Frio = global.get(\"AACPiezaFrio\");\n\n//msg.payload = global.AACLivingVentilador.Value;\nswitch(global.get(\"AACPiezaVentilador\")) {\n  case 1:\n      if (Frio === true)\n      {msg.payload = \"90,88,12,31,12,11,12,31,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,11,12,31,12,31,12,11,12,11,12,31,11,31,12,31,11,31,12,31,11,12,12,31,11,32,12,11,12,11,12,11,11,12,12,11,11,11,12,31,11,11,12,11,11,11,12,11,12,11,12,11,12,31,12,11,12,31,12,31,11,31,12,31,11,31,12,31,12,88,90,88,12,31,11,11,12,31,11,31,12,11,11,11,12,31,11,11,12,11,11,31,12,11,11,11,12,31,11,31,12,11,11,31,12,31,12,11,12,11,11,31,12,31,12,31,12,31,12,31,12,11,12,31,12,31,12,11,12,11,12,11,12,11,12,11,12,11,12,31,12,11,12,11,12,11,11,12,12,11,11,11,12,31,11,11,12,31,11,31,12,31,12,31,12,31,12,31,12\";}\n      else\n      {msg.payload = \"89,89,12,31,12,11,12,31,12,31,12,11,12,12,12,31,12,11,12,11,11,31,12,11,11,11,12,31,12,31,12,11,11,32,12,31,12,11,12,11,12,31,12,31,12,31,12,31,12,31,11,11,12,31,11,31,12,11,11,11,12,11,12,11,12,11,12,31,12,31,12,31,12,11,11,11,12,31,11,11,12,11,12,11,12,11,12,11,12,31,12,31,12,11,12,31,12,31,11,89,90,88,12,31,12,11,12,31,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,11,12,31,12,31,12,11,12,11,12,31,12,31,11,31,12,31,11,31,12,11,11,31,12,31,12,11,12,11,11,11,12,11,11,11,12,31,11,31,12,31,12,11,12,11,11,31,12,11,11,11,12,11,11,11,12,11,11,31,12,31,11,11,12,31,11,31,12\";}\n    break;\n  case 2:\n      if (Frio === true)\n      {msg.payload = \"90,89,12,31,12,11,12,31,12,31,11,11,12,11,12,31,12,11,12,11,12,31,11,11,12,11,12,31,12,31,11,11,12,31,11,11,12,31,11,11,12,31,11,31,12,31,12,31,12,31,12,31,12,11,12,31,12,11,12,11,12,11,12,11,12,11,12,11,12,31,12,11,12,11,12,11,12,11,11,11,12,11,12,31,12,11,12,31,12,31,11,31,12,31,12,31,12,31,12,89,90,88,12,31,12,11,12,31,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,11,12,31,12,11,12,31,12,11,12,31,12,31,12,31,12,31,12,31,12,31,12,11,12,31,12,11,12,11,12,11,12,11,12,11,12,11,12,31,12,11,12,11,12,11,12,11,12,11,12,11,12,31,12,11,12,31,12,31,12,31,12,31,12,31,12,31,12\";}\n      else\n      {msg.payload = \"90,88,12,30,12,11,12,30,12,31,12,11,12,11,12,30,12,11,12,10,12,31,12,11,12,11,12,30,12,31,12,11,12,31,12,11,13,31,12,11,12,31,12,31,12,30,11,32,13,30,12,31,13,10,12,31,12,10,12,11,12,10,12,11,12,10,11,32,13,30,12,31,12,10,12,11,12,30,13,11,13,10,11,12,13,10,11,12,13,30,11,32,12,10,11,32,13,30,12,88,90,88,12,30,11,12,13,30,11,32,13,10,11,12,12,30,11,12,13,11,12,31,12,11,11,11,13,30,11,32,12,10,11,32,13,10,11,32,13,10,11,32,12,30,12,31,12,30,12,31,12,30,12,11,12,30,12,11,12,10,12,11,12,10,12,11,12,30,12,31,12,30,12,11,12,10,12,31,12,10,12,11,12,10,12,11,12,10,12,31,13,30,12,11,13,30,12,31,12\";}\n    break;\n  case 3:\n      if (Frio === true)\n      {msg.payload = \"90,89,11,32,12,11,12,31,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,11,12,31,12,11,12,11,11,32,12,31,12,31,12,31,12,31,11,31,12,31,11,31,12,11,11,11,12,11,11,11,12,11,12,11,12,11,12,31,12,11,12,11,12,11,12,11,12,11,12,11,12,31,12,11,12,31,12,31,12,31,12,31,12,31,11,31,12,89,90,89,12,31,12,11,12,31,12,31,11,11,12,11,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,11,12,31,11,11,12,11,12,31,12,31,11,31,12,31,11,31,12,31,12,31,12,31,12,11,12,11,11,12,12,11,11,11,12,11,11,11,12,31,11,11,12,11,11,11,12,11,12,11,12,11,12,31,12,11,12,31,12,31,11,31,12,31,11,31,12,31,12\";}\n      else\n      {msg.payload = \"91,88,12,31,12,10,12,31,12,30,12,11,12,10,12,31,12,10,12,11,12,30,12,11,13,10,12,31,13,30,12,11,12,30,12,11,12,10,12,31,12,30,12,31,12,30,12,31,12,31,12,30,12,31,12,10,12,11,12,11,12,11,12,11,12,11,12,31,12,31,12,31,12,11,12,11,12,31,12,11,12,11,12,11,12,11,12,11,12,30,12,31,12,11,12,31,12,31,12,88,90,88,12,30,12,11,12,30,12,31,12,11,12,11,12,30,12,11,12,10,12,31,12,11,12,11,12,30,12,31,12,11,12,31,12,11,12,11,12,30,12,31,12,31,13,30,11,32,12,30,12,31,12,30,12,11,12,10,12,11,12,10,11,12,12,10,11,32,12,30,12,31,13,10,12,11,12,30,12,11,12,10,11,12,12,10,11,12,12,30,11,32,12,10,11,32,12,30,12\";}\n    break;\n  default:\n    // code block\n}\n    return msg;","outputs":1,"noerr":0,"x":810,"y":980,"wires":[["8154ad80.e9747"]]},{"id":"63173c28.5500c4","type":"change","z":"295f893a.42f726","name":"","rules":[{"t":"set","p":"AACPiezaPrendido","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":430,"y":900,"wires":[["ff4489b.03cc078"]]},{"id":"ff4489b.03cc078","type":"switch","z":"295f893a.42f726","name":"Prendido","property":"payload","propertyType":"msg","rules":[{"t":"false"},{"t":"true"}],"checkall":"true","repair":false,"outputs":2,"x":640,"y":900,"wires":[["73a0fa3b.741ba4"],["21eab5f4.6d638a"]]},{"id":"6ad3540c.f55a2c","type":"ui_button","z":"295f893a.42f726","name":"","group":"9baecddc.3dece","order":1,"width":"3","height":"1","passthru":false,"label":"Apagar","tooltip":"","color":"","bgcolor":"","icon":"fa-power-off","payload":"90,88,12,31,12,11,12,31,12,31,12,11,11,11,12,31,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,11,12,31,12,11,11,31,12,31,11,31,12,31,11,11,12,31,12,31,12,31,12,11,12,11,12,11,12,11,11,31,12,11,11,11,12,31,11,31,12,31,12,11,12,11,12,11,12,11,11,11,12,11,11,11,12,11,11,31,12,31,11,31,12,31,12,31,12,89,90,89,11,31,12,11,11,31,12,31,11,11,12,11,11,31,12,11,11,11,12,31,11,11,12,11,11,31,12,31,11,11,12,31,11,11,12,31,12,31,12,31,12,31,12,11,12,31,12,31,12,31,12,11,12,11,12,11,12,11,12,31,12,11,12,11,12,31,12,31,12,31,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,31,12,31,12,31,12,31,12,31,12","payloadType":"str","topic":"","x":660,"y":700,"wires":[["8154ad80.e9747"]]},{"id":"39d7244d.096c8c","type":"ui_button","z":"295f893a.42f726","name":"","group":"9baecddc.3dece","order":2,"width":"3","height":"1","passthru":false,"label":"Luz Visor","tooltip":"","color":"","bgcolor":"","icon":"fa-rss","payload":"90,88,12,31,11,11,12,31,11,31,12,11,11,31,12,11,11,31,12,11,11,31,12,11,11,11,12,31,11,11,12,31,12,11,12,31,12,31,12,31,12,31,12,11,12,31,12,11,12,31,12,11,12,11,12,11,12,11,12,31,12,11,12,31,12,11,12,31,12,11,12,31,12,11,12,11,12,31,12,11,12,31,12,11,12,31,12,11,12,31,12,31,12,11,12,31,12,11,12,88,90,89,12,31,12,11,12,31,12,31,12,11,12,31,12,11,12,31,12,11,12,31,12,11,12,11,12,31,12,11,12,31,12,11,12,31,12,31,12,31,12,31,12,11,12,31,12,11,12,31,12,11,12,11,12,11,12,11,12,31,12,11,12,31,12,11,12,31,12,11,12,31,12,11,12,11,12,31,12,11,12,31,12,11,12,31,12,11,12,31,12,31,11,11,12,31,11,11,12","payloadType":"str","topic":"","x":660,"y":740,"wires":[["8154ad80.e9747"]]},{"id":"8154ad80.e9747","type":"mqtt out","z":"295f893a.42f726","name":"","topic":"NodeMcu/PiezaNuestra/in/IR/RAW","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":1120,"y":860,"wires":[]},{"id":"55f25434.42b20c","type":"ui_button","z":"11a22008.94eaf","name":"","group":"b881457e.8f3768","order":2,"width":0,"height":0,"passthru":false,"label":"MUTE","tooltip":"","color":"","bgcolor":"","icon":"","payload":"178,89,11,11,11,10,11,10,11,11,11,10,11,10,11,11,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,10,11,11,11,10,11,33,11,33,11,33,11,10,11,11,11,33,11,33,11,33,11,10,11,10,11,11,11,33,11,33,11,10,11","payloadType":"str","topic":"","x":410,"y":140,"wires":[["85c3c5f0.8932f8"]]},{"id":"b1ea50d3.f4308","type":"ui_button","z":"11a22008.94eaf","name":"","group":"b881457e.8f3768","order":3,"width":"3","height":"1","passthru":false,"label":"Apagar","tooltip":"","color":"","bgcolor":"","icon":"fa-power-off","payload":"179,88,11,10,11,11,11,10,11,10,11,10,11,10,11,10,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,10,11,10,11,11,11,10,11,33,11,33,11,11,11,10,11,33,11,33,11,33,11,33,11,10,11,10,11,33,11,33,11,10,11,792,179,44,11","payloadType":"str","topic":"","x":420,"y":180,"wires":[["85c3c5f0.8932f8"]]},{"id":"f80539c7.690698","type":"ui_button","z":"11a22008.94eaf","name":"","group":"b881457e.8f3768","order":6,"width":"3","height":"1","passthru":false,"label":"Volumen UP","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-up","payload":"179,88,11,10,11,11,11,10,11,10,11,11,11,10,11,10,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,10,11,10,11,11,11,33,11,11,11,33,11,11,11,10,11,33,11,33,11,33,11,10,11,33,11,10,11,33,11,33,11,10,11,792,179,44,11","payloadType":"str","topic":"","x":430,"y":240,"wires":[["85c3c5f0.8932f8"]]},{"id":"d783553d.00ae68","type":"ui_button","z":"11a22008.94eaf","name":"","group":"7ad1e0a0.b2f66","order":5,"width":"3","height":"1","passthru":false,"label":"Volumen Down","tooltip":"","color":"","bgcolor":"","icon":"fa-volume-down","payload":"179,88,11,10,11,11,11,10,11,10,11,11,11,10,11,10,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,10,11,10,11,11,11,10,11,10,11,33,11,10,11,11,11,33,11,33,11,33,11,33,11,33,11,10,11,33,11,33,11,10,11,791,179,44,11","payloadType":"str","topic":"","x":440,"y":280,"wires":[["85c3c5f0.8932f8"]]},{"id":"b6173ee1.a38d6","type":"ui_button","z":"11a22008.94eaf","name":"","group":"b881457e.8f3768","order":5,"width":"3","height":"1","passthru":false,"label":"DVD","tooltip":"","color":"","bgcolor":"","icon":"","payload":"179,88,11,10,11,10,11,10,11,10,11,10,11,10,11,10,11,32,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,10,11,33,11,10,11,33,11,33,11,33,11,10,11,11,11,33,11,11,11,33,11,11,11,10,11,10,11,33,11,33,11,10,11","payloadType":"str","topic":"","x":430,"y":340,"wires":[["85c3c5f0.8932f8"]]},{"id":"2d8aec98.ecd4f4","type":"ui_button","z":"11a22008.94eaf","name":"","group":"b881457e.8f3768","order":5,"width":"3","height":"1","passthru":false,"label":"STEREO","tooltip":"","color":"","bgcolor":"","icon":"","payload":"179,88,11,10,11,11,11,10,11,10,11,11,11,10,11,10,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,33,11,10,11,33,11,10,11,33,11,10,11,33,11,10,11,10,11,33,11,10,11,33,11,10,11,33,11,10,11,33,11,33,11,10,11,792,179,44,11","payloadType":"str","topic":"","x":440,"y":380,"wires":[["85c3c5f0.8932f8"]]},{"id":"85c3c5f0.8932f8","type":"mqtt out","z":"11a22008.94eaf","name":"","topic":"NodeMcu/PiezaNuestra/in/IR/RAW","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":960,"y":260,"wires":[]},{"id":"12a07e32.0e88f2","type":"inject","z":"254f6ab6.9adb86","name":"Inicializar","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":"2","x":360,"y":380,"wires":[["4b749e64.d5199"]]},{"id":"f2ea1215.b09","type":"change","z":"254f6ab6.9adb86","name":"Bt On","rules":[{"t":"set","p":"BlueTooth","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":300,"wires":[["bb8278c5.b6d8c8"]]},{"id":"4b749e64.d5199","type":"change","z":"254f6ab6.9adb86","name":"Bt Off","rules":[{"t":"set","p":"BlueTooth","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":380,"wires":[["865bfc97.e3aa1"]]},{"id":"21f688da.e62ee8","type":"change","z":"254f6ab6.9adb86","name":"Bt","rules":[{"t":"set","p":"payload","pt":"msg","to":"BlueTooth","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":520,"wires":[["84ac9536.69a078"]]},{"id":"865bfc97.e3aa1","type":"delay","z":"254f6ab6.9adb86","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":700,"y":380,"wires":[["bb8278c5.b6d8c8"]]},{"id":"57a13d55.fbeae4","type":"change","z":"254f6ab6.9adb86","name":"Audio Patio On","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":220,"wires":[["84ac9536.69a078"]]},{"id":"49e6de6.f1c412","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 4","topic":"Android/TvLiving/out/button/4","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1320,"wires":[["e1c758d0.2d5f48"]]},{"id":"e1c758d0.2d5f48","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1320,"wires":[["948fa6e4.1932d8"]]},{"id":"948fa6e4.1932d8","type":"mqtt out","z":"9bee6473.dc8598","name":"Luz Living (48)","topic":"Arduino/PBTablero/in/Relay/48","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":480,"y":1320,"wires":[],"inputLabels":["kkl"]},{"id":"15a62ec2.c82eb1","type":"mqtt out","z":"9bee6473.dc8598","name":"Luz Comedor (26)","topic":"Arduino/PBTablero/in/Relay/26","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":490,"y":1380,"wires":[],"inputLabels":["kkl"]},{"id":"d3ae6aa5.3b95b8","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 5","topic":"Android/TvLiving/out/button/5","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1380,"wires":[["7626f7a9.78cfa8"]]},{"id":"71ffb770.7d20b8","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 6","topic":"Android/TvLiving/out/button/6","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1440,"wires":[["95c43b24.a52be8"]]},{"id":"7626f7a9.78cfa8","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1380,"wires":[["15a62ec2.c82eb1"]]},{"id":"95c43b24.a52be8","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1440,"wires":[["40fa6f46.f0a9c"]]},{"id":"40fa6f46.f0a9c","type":"mqtt out","z":"9bee6473.dc8598","name":"Luz Vestidor (34)","topic":"Arduino/PBTablero/in/Relay/34","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":490,"y":1440,"wires":[],"inputLabels":["kkl"]},{"id":"320e26.44e711da","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 9","topic":"Android/TvLiving/out/button/9","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1620,"wires":[["1c3d4d54.428f83"]]},{"id":"1c3d4d54.428f83","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1620,"wires":[[]]},{"id":"daaa938d.71136","type":"mqtt in","z":"9bee6473.dc8598","name":"TV Living Boton 8","topic":"Android/TvLiving/out/button/8","qos":"2","datatype":"auto","broker":"1ad27743.ce9fb9","x":130,"y":1560,"wires":[["ae23f99.e022308"]]},{"id":"ae23f99.e022308","type":"function","z":"9bee6473.dc8598","name":"Toggle","func":"msg.payload = \"TOGGLE\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1560,"wires":[[]]},{"id":"87a321db.ae531","type":"mqtt out","z":"9bee6473.dc8598","name":"Luz Living Delante (46)","topic":"Arduino/PBTablero/in/Relay/46","qos":"","retain":"","broker":"1ad27743.ce9fb9","x":610,"y":1220,"wires":[],"inputLabels":["kkl"]},{"id":"cf2dab61.f057d8","type":"mqtt out","z":"9bee6473.dc8598","name":"Luz Living Sillon (48)","topic":"Arduino/PBTablero/in/Relay/48","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":600,"y":1180,"wires":[],"inputLabels":["kkl"]},{"id":"b507d1fb.5df69","type":"mqtt out","z":"9bee6473.dc8598","name":"Luz Living Principal (44)","topic":"Arduino/PBTablero/in/Relay/44","qos":"","retain":"false","broker":"1ad27743.ce9fb9","x":610,"y":1140,"wires":[],"inputLabels":["kkl"]},{"id":"13259406.fd9c8c","type":"link out","z":"bb63d718.931208","name":"","links":["850e61b2.483ec"],"x":1200,"y":1020,"wires":[]},{"id":"8a01ab52.7cd468","type":"function","z":"75f22ec1.216f","name":"All Onn","func":"msg.currLed = 1;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff1\",true);\nnode.send(msg);\n\nmsg.currLed = 2;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff\" + msg.currLed ,true);\nnode.send(msg);\n\nmsg.currLed = 3;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff\" + msg.currLed ,true);\nnode.send(msg);\n\nmsg.currLed = 4;\nflow.set(\"CurrLed\",msg.currLed);\nflow.set(\"CurrLedOnOff\" + msg.currLed ,true);\nnode.send(msg);\n\n","outputs":1,"noerr":0,"x":1040,"y":920,"wires":[["fd377c17.ed514","2865909.087147"]]},{"id":"8e99bb1.d23f848","type":"ui_button","z":"75f22ec1.216f","name":"","group":"f687a4d9.3b1578","order":8,"width":0,"height":0,"passthru":false,"label":"Prender Todos","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1080,"y":780,"wires":[["8a01ab52.7cd468"]]}]